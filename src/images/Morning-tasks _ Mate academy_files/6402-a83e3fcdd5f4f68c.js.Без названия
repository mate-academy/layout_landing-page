(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6402],{849633:function(e,n,t){"use strict";t.d(n,{k:function(){return g}});var a=t(414924),r=t(785893),i=t(667294),s=t(711950),o=t(692531),c=t(31708),l=t(308700),d=t(923071),u=t(666229),p=t(858293),m=t(584442),h=t(739920),f=t.n(h),g=function(e){var n,t,h,g,v=e.media,_=e.sendingTime,x=e.senderId,C=void 0===x?-1:x,b=(0,i.useRef)(null),j=(0,m.r)().participantsMap,w=(0,c.XX)(),M=(0,i.useMemo)((function(){return Math.min(240*v.length,400)}),[v.length]),I=j.get(C),P=(0,i.useMemo)((function(){return v.some((function(e){return e.mime===l.G.PDF}))}),[v]),S=(0,i.useCallback)((function(e){var n=e.file;if(P){var t=n.mime!==l.G.PDF?function(){return(0,r.jsx)(s.E,{src:n.url,width:48,height:48,objectFit:"cover"})}:null;return(0,r.jsx)(d.g,{fileName:n.name,isMessagePreview:!0,fileUrl:n.url,subtitle:(0,p.mD)(null===n||void 0===n?void 0:n.mime),FileIconPreview:t})}return(0,r.jsx)(s.E,{src:n.url,width:240,height:240,objectFit:"cover"})}),[P]),k=(0,i.useMemo)((function(){var e;return{imageSrc:null!==(t=null===I||void 0===I||null===(e=I.avatar)||void 0===e?void 0:e.url)&&void 0!==t?t:"",title:null!==(h=null===I||void 0===I?void 0:I.username)&&void 0!==h?h:"",subTitle:w(_),userId:null!==(g=null===I||void 0===I?void 0:I.userId)&&void 0!==g?g:0}}),[null===I||void 0===I||null===(n=I.avatar)||void 0===n?void 0:n.url,null===I||void 0===I?void 0:I.username,_,w,null===I||void 0===I?void 0:I.userId]);return(0,r.jsxs)("div",{className:(0,u.cn)(f().container,(0,a.Z)({},f().containerWithDocuments,P)),style:{"--width":"".concat(M,"px")},children:[v.map((function(e,n){return(0,r.jsxs)("div",{className:f().file,children:[(0,r.jsx)(S,{file:e}),(0,r.jsx)("button",{type:"button",onClick:function(){var e;null===(e=b.current)||void 0===e||e.open({index:n,source:"CHAT_MESSAGE"})},className:f().actionButton,"data-qa":"chat-open-preview-button","aria-label":"Open preview"})]},e.id)})),(0,r.jsx)(o.$,{files:v,ref:b,meta:k})]})}},844533:function(e,n,t){"use strict";t.d(n,{z:function(){return S}});var a=t(147568),r=t(10253),i=t(197582),s=t(785893),o=t(667294),c=t(58949),l=t(133145),d=t(269854),u=t(51098),p=t(584097),m=t(430155),h=t(666229),f=t(360014),g=t(26403),v=t(519462),_=t(31708),x=t(548092),C=t.n(x),b=(0,o.memo)((function(e){var n=e.message,t=n.text,a=n.senderId,r=n.createdAt,i=(0,o.useMemo)((function(){return new Date(r)}),[r]),c=(0,_.EL)()(i).time;return(0,s.jsxs)(g.e,{senderId:a,orientation:d.gI.Left,children:[(0,s.jsx)(v.L,{text:t}),(0,s.jsx)("p",{className:(0,h.cn)(f.c.platformTextSmall,C().sendingTime),children:c})]})})),j=t(674924),w=t(823601),M=t(584698),I=t(599744),P=t.n(I),S=(0,o.memo)((function(){var e=(0,p.$G)([m.WY.chat]).t,n=(0,M._)(),t=n.messageToDelete,h=n.cancelDeleting,f=(0,r.Z)(function(){var e=(0,r.Z)((0,u.p)(),2),n=e[0],t=e[1];return[(0,o.useCallback)((function(e){return n({variables:{id:e.id},update:function(n,t){var a=t.data;if(null===a||void 0===a?void 0:a.deleteChatMessage){switch(e.__typename){case d.Cs.Message:(0,l.KW)({parentType:d.Cs.Thread,store:n,message:e});break;case d.Cs.OpenQuestionAnswer:(0,l.KW)({parentType:d.Cs.OpenQuestion,store:n,message:e});break;case d.Cs.PollAnswer:(0,l.KW)({parentType:d.Cs.Poll,store:n,message:e});break;case d.Cs.Thread:case d.Cs.OpenQuestion:case d.Cs.Poll:(0,c.J)(n,e)}e.pinnedBy&&(0,l.oy)(n,e),e.isSaved&&(0,l.KG)(n,e),n.gc()}}})}),[n]),t]}(),2),g=f[0],v=f[1].loading,_=(0,o.useCallback)((function(){return h()}),[h]),x=(0,o.useCallback)((0,a.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return t?[4,g(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return _(),[2]}}))})),[t,g,_]);if(!t)return null;var C=Boolean(t);return(0,s.jsx)(j.s,{isOpen:C,onConfirm:x,onCancel:_,onRequestClose:_,isLoading:v,title:e("".concat(m.WY.chat,":delete_modal.title")),cancelText:e("".concat(m.WY.chat,":delete_modal.cancel")),confirmText:e("".concat(m.WY.chat,":delete_modal.confirm")),type:w.$T.Warning,renderCloseButton:!0,children:(0,s.jsxs)("div",{className:P().previewMessageWrapper,"data-qa":"preview-wrapper",children:[(0,s.jsx)("p",{className:P().subtitle,children:e("".concat(m.WY.chat,":delete_modal.subtitle"))}),(0,s.jsx)(b,{message:t})]})})}))},35068:function(e,n,t){"use strict";t.d(n,{U:function(){return h}});var a=t(785893),r=t(584097),i=t(430155),s=t(577094),o=t(583575),c=t(517008),l=t(276471),d=t(650769),u=t(789272),p=t(430565),m=t.n(p),h=function(e){var n=e.text,t=e.withPaywall,p=(0,r.$G)([i.WY.chat]).t,h=(0,d.I)(),f=(0,c.n)({paywallLocation:u.so8.Chats}),g=f.isPaywallOpened,v=f.closePaywall,_=f.openPaywall;return(0,a.jsxs)("div",{className:m().inputPlaceholder,"data-qa":"sending-messages-restricted",children:[(0,a.jsx)(s._,{className:m().iconLock}),n||p("".concat(i.WY.chat,":message_sending_restricted.input_placeholder")),t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.zx,{text:p("".concat(i.WY.chat,":chat_input_paywall_button_text")),onClick:_,className:m().upgradeButton,"data-qa":"chat-input-upgrade-button",hasFullWidth:h,size:h?o.zx.size.Large:o.zx.size.Small}),(0,a.jsx)(l.f,{isOpen:g,closePaywall:v,paywallLocation:u.so8.Chats})]})]})}},100278:function(e,n,t){"use strict";t.d(n,{v:function(){return lt}});var a=t(785893),r=t(667294),i=t(892858),s=t(905945),o=t(269854),c=t(870055),l=t(584442),d=t(430155),u=t(584097),p=t(307297),m=t(937878),h=t(506388);function f(){var e=(0,p.Z)(["\n    query teamProjectByUserId($userId: Int) {\n  teamProjectByUserId(userId: $userId) {\n    id\n    generalChat {\n      id\n    }\n  }\n}\n    "]);return f=function(){return e},e}var g=(0,m.Ps)(f());var v=t(519462),_=t(929053),x=t(449613),C=t(360014),b=t(454649),j=t.n(b),w=function(e){var n=e.className,t=e.children;return(0,a.jsx)("div",{className:(0,x.cn)(j().messageWrapper,C.c.platformTextSecondary,n),children:t})},M=t(984894),I=t.n(M),P=function(e){var n,t,r=e.message,i=(0,u.$G)([d.WY.chat]).t,s=(0,l.r)().participant,o=(t={variables:{userId:null===s||void 0===s?void 0:s.userId}},h.aM(g,t)),c=o.data,p=o.loading,m=r.systemMessage.receiverTextCode;if(p)return null;var f=null===c||void 0===c?void 0:c.teamProjectByUserId;return(0,a.jsx)(w,{className:I().messageWrapper,children:(0,a.jsx)("div",{className:I().textWrapper,children:(0,a.jsx)(v.L,{text:i("".concat(d.WY.chat,":").concat(m),{generalChatLink:"".concat(_.Z.chats.index,"/").concat(null===f||void 0===f||null===(n=f.generalChat)||void 0===n?void 0:n.id),teamProjectId:null===f||void 0===f?void 0:f.id})})})})},S=t(18136),k=t.n(S),T=function(e){var n=e.message,t=(0,u.$G)([d.WY.chat]).t,r=(0,l.r)().participant,i=n.systemMessage,s=n.senderId===(null===r||void 0===r?void 0:r.id)?i.textCode:i.receiverTextCode;return(0,a.jsx)(w,{children:(0,a.jsx)("span",{className:k().textWrapper,children:t("".concat(d.WY.chat,":").concat(s))})})},N=(0,r.memo)((function(e){var n=e.message,t=(0,r.useMemo)((function(){return n.systemMessage.type===c.hEM.TeamProjectStarted?P:T}),[n.systemMessage.type]);return(0,a.jsx)(t,{message:n})})),W=t(414924),L=t(347636),y=t(453850),B=t(31708),R=t(608151),Z=R.x4,A=7*Z,E=30*Z,O=365*Z,D=t(897367),V=t(906583),z=t(996747),Y=t.n(z),F=(0,r.memo)((function(e){var n=e.openThread,t=e.repliesCount,i=e.lastReplyTime,s=e.progressBar,o=e.hasDraft,c=e.shouldRenderBottomButton,l=e.mobileMode,p=void 0!==l&&l,m=e.hasReceivedXp,h=void 0!==m&&m,f=e.hasMentorSupport,g=void 0!==f&&f,v=(0,u.$G)([d.WY.chat]).t,_=function(){var e=(0,u.$G)([d.WY.chat]).t,n=(0,B.JF)();return function(t){var a=(new Date).getTime()-t.getTime();return a<=Z?"".concat(e("".concat(d.WY.chat,":message_creating.at"))," ").concat(n(t)):a<=A?e("".concat(d.WY.chat,":last_reply_at.days_ago"),{count:Math.floor(a/Z)}):a<=E?e("".concat(d.WY.chat,":last_reply_at.weeks_ago"),{count:Math.floor(a/A)}):a<=O?e("".concat(d.WY.chat,":last_reply_at.months_ago"),{count:Math.floor(a/E)}):e("".concat(d.WY.chat,":last_reply_at.years_ago"),{years:Math.floor(a/O)})}}(),b=(0,D.h)().isEnabled(V.A.XpForAnswerInThread),j=(0,r.useMemo)((function(){if(!i)return null;var e=_(i);return"".concat(v("".concat(d.WY.chat,":message.last_reply_time"))," ").concat(e)}),[_,i,v]),w=Boolean(t);if(!c)return null;var M=g&&b;return(0,a.jsxs)("div",{className:(0,x.cn)(Y().buttonWrapper,(0,W.Z)({},Y().hasXpPerReplyMentioning,!h&&M)),children:[(0,a.jsxs)("button",{className:Y().openThreadButton,onClick:n,"data-qa":"open-thread-button",children:[o&&(0,a.jsxs)("div",{className:"flex-container align-middle mr-8",children:[(0,a.jsx)("div",{className:"mr-4",children:(0,a.jsx)(y.J,{})}),!p&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:(0,x.cn)(C.c.platformTextSmall,Y().draftCaption,"mr-8"),children:v("".concat(d.WY.chat,":has_draft_message"))}),w&&(0,a.jsx)("div",{className:Y().dotSeparator})]})]}),w&&(0,a.jsx)("p",{className:(0,x.cn)(C.c.platformTextSmall,Y().replies),children:"".concat(v("".concat(d.WY.chat,":message.replies_count"),{count:t}))}),w&&(0,a.jsxs)("p",{className:(0,x.cn)(C.c.platformTextSmall,Y().lastReply),children:[(0,a.jsx)("span",{className:Y().lastReplyText,children:j}),M&&(0,a.jsx)("span",{className:Y().xpPerReplyText,children:v("".concat(d.WY.chat,":thread.xp_per_reply"))})]}),(0,a.jsx)("div",{className:Y().arrowIconWrapper,children:(0,a.jsx)(L.E,{className:Y().arrowIcon})})]}),s&&(0,a.jsx)("div",{className:Y().progressBarWrapper,children:s})]})})),H=t(849633),U=t(484983),q=t(25886),$=t(111324),G=t(833247),Q=t(498912),X=t(876233),J=t(981373),K=t(599169),ee=t.n(K),ne=(0,r.memo)((function(e){var n=e.testTasks,t=(0,u.$G)(d.WY.chat).t;return(null===n||void 0===n?void 0:n.length)?(0,a.jsx)("div",{className:ee().wrapper,children:n.map((function(e){return(0,a.jsxs)("div",{className:ee().attachment,children:[(0,a.jsx)(X.o,{className:ee().icon}),(0,a.jsx)("span",{className:ee().name,"data-qa":"test-task-name-title",children:e.name})]},e.id)}))}):(0,a.jsxs)("div",{className:ee().attachment,"data-qa":"other-test-task-title",children:[(0,a.jsx)(J.J,{className:ee().icon}),(0,a.jsx)("span",{className:ee().name,children:t("".concat(d.WY.chat,":message_subject.other"))})]})})),te=new Date("2024-03-12T12:00:00.000+02:00"),ae=t(259511),re=(0,r.memo)((function(e){var n=e.thread,t=e.orientation,i=e.canOpenThread,s=e.enableChatRedirect,o=n.id,c=n.text,l=n.senderId,d=n.repliesCount,p=n.createdAt,m=n.lastSentMessageTime,h=n.media,f=n.chatId,g=n.draft,_=(0,u.tv)().push,x=(0,Q.f)(),C=x.chatConnection,b=x.config,j=(0,U.r)({initialState:!1}),w=j.isOpen,M=j.close,I=j.open,P=(0,r.useMemo)((function(){return new Date(p)}),[p]),S=!!d,k=i&&!C&&b.isThreadsAvailable,T=(0,r.useCallback)((function(){_((0,ae.no)(ae.J6.chats.chat,{chatId:String(f),threadId:o}))}),[f,o,_]),N=(0,r.useMemo)((function(){return b.shouldDisplayMessageControls?(0,a.jsx)($.k,{message:n,isControlsVisible:w,closeModal:M,enableChatRedirect:s,shouldRenderOpenThreadButton:k}):null}),[n,w,M,s,k,b.shouldDisplayMessageControls]),W=Boolean(g),L=(S||W)&&k,y=b.hasMentorSupport&&n.createdAt>=te,B=(0,r.useMemo)((function(){return(0,a.jsx)(F,{openThread:T,repliesCount:d,lastReplyTime:new Date(m),hasDraft:W,shouldRenderBottomButton:L,mobileMode:!0})}),[T,d,m,W,L]);return(0,a.jsxs)(q.I,{senderId:l,showControls:I,controls:N,bottomPanel:B,orientation:t,message:n,children:[y&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(ne,{testTasks:n.attachedTestTasks})}),(0,a.jsx)(v.L,{text:c}),h.length>0&&(0,a.jsx)(H.k,{media:h,senderId:l,sendingTime:P}),(0,a.jsx)(G.O,{message:n})]})})),ie=(0,r.memo)((function(e){var n=e.message,t=e.orientation,i=e.enableChatRedirect,s=n.text,o=n.senderId,c=n.createdAt,l=n.media,d=(0,r.useMemo)((function(){return new Date(c)}),[c]),u=(0,U.r)({initialState:!1}),p=u.isOpen,m=u.close,h=u.open,f=(0,r.useMemo)((function(){return(0,a.jsx)($.k,{message:n,isControlsVisible:p,closeModal:m,enableChatRedirect:i})}),[n,p,m,i]);return(0,a.jsxs)(q.I,{senderId:o,showControls:h,controls:f,orientation:t,message:n,children:[(0,a.jsx)(v.L,{text:s}),l.length>0&&(0,a.jsx)(H.k,{media:l,senderId:o,sendingTime:d}),(0,a.jsx)(G.O,{message:n})]})})),se=t(10253),oe=t(858293),ce=t(133145),le=t(552902),de=t(650319);function ue(){var e=(0,p.Z)(["\n    mutation answerPoll($fields: PollAnswerFields!) {\n  answerPoll(fields: $fields) {\n    ...PollAnswer\n  }\n}\n    ",""]);return ue=function(){return e},e}var pe=(0,m.Ps)(ue(),le.H);var me=function(){var e,n=(0,se.Z)(de.D(pe,e),2),t=n[0],a=n[1];return[(0,r.useCallback)((function(e){var n=e.chatId,a=e.senderId,r=e.threadId,i=e.pollOptionId,s=(new Date).getTime();return t({variables:{fields:e},optimisticResponse:{answerPoll:{__typename:o.Cs.PollAnswer,id:-1,chatId:n,threadId:r,pollOptionId:i,text:"",senderId:a,isOwn:!0,pinnedBy:null,isSaved:!1,createdAt:s,updatedAt:s}},update:function(e,n){var t=n.data,a=null===t||void 0===t?void 0:t.answerPoll;if(a){var r={fragment:le.H,fragmentName:o.i_.PollAnswer,message:a},i={type:o.Cs.Poll,fieldToUpdate:"votes"};(0,ce.vL)(e,i,r)}}})}),[t]),a]},he=t(671121),fe=t(720981),ge=t(416650),ve=t(275110),_e=t.n(ve),xe=(0,r.memo)((function(e){var n,t=e.option,i=e.votes,s=e.onSelect,o=e.alreadyAnswered,c=e.showAnswers,l=e.isSelected,d=e.hasCorrect,u=t.id,p=t.text,m=t.isCorrect,h=o&&!l,f=(0,r.useCallback)((function(){o||s(t)}),[s,t,o]),g=i.filter((function(e){return e.pollOptionId===u})),_=i.length?Math.round(g.length/i.length*100):0,C=(0,se.Z)((0,oe.Uq)(Boolean(m),d),2),b=C[0],j=C[1];return(0,a.jsxs)("div",{className:_e().container,children:[(0,a.jsxs)("div",{className:_e().mainContent,children:[(0,a.jsxs)("div",{className:_e().radioWithText,children:[(0,a.jsx)(ge.Zv,{defaultChecked:l,disabled:h,onClick:f,color:j}),(0,a.jsx)(v.L,{text:p})]}),c&&(0,a.jsx)("p",{className:(0,x.cn)((n={},(0,W.Z)(n,_e().rightAnswersPercent,d&&m),(0,W.Z)(n,_e().wrongAnswersPercent,d&&!m),n),_e().percent),children:"".concat(_,"%")})]}),c&&(0,a.jsx)(fe.lx,{progress:g.length,maxValue:i.length,className:_e().progressBar,pathColor:b})]})})),Ce=function(e){var n=e.poll,t=e.orientation,i=e.canOpenThread,s=e.enableChatRedirect,o=(0,u.$G)([d.WY.chat]).t,c=(0,l.r)().participant,p=(0,oe.Nl)(c),m=n.id,h=n.senderId,f=n.votes,g=n.options,x=n.hasCorrect,C=n.chatId,b=(0,se.Z)(me(),1)[0],j=(0,r.useCallback)((function(e){if(null===c||void 0===c?void 0:c.id){var t=e.id;b({chatId:n.chatId,threadId:n.id,senderId:c.id,pollOptionId:t})}}),[b,n,null===c||void 0===c?void 0:c.id]),w=(0,u.tv)().push,M=(0,r.useMemo)((function(){return f.find((function(e){return e.senderId===(null===c||void 0===c?void 0:c.id)}))}),[null===c||void 0===c?void 0:c.id,f]),I=Boolean(M),P=I||p,S=(0,U.r)({initialState:!1}),k=S.isOpen,T=S.close,N=S.open,W=(0,a.jsx)($.k,{message:n,isControlsVisible:k,closeModal:T,enableChatRedirect:s,shouldRenderOpenThreadButton:i}),L=(p||Boolean(f.length)&&I)&&i,y=(0,r.useCallback)((function(){w(_.Z.chat(C).withParams({threadId:m}))}),[w,C,m]),B=(0,r.useMemo)((function(){return(0,a.jsx)(F,{openThread:y,repliesCount:f.length,shouldRenderBottomButton:L,mobileMode:!0})}),[y,f.length,L]);return(0,a.jsxs)(q.I,{senderId:h,showControls:N,controls:W,bottomPanel:B,orientation:t,message:n,children:[(0,a.jsx)(v.L,{text:n.text}),(0,a.jsx)(he.Y,{text:o("".concat(d.WY.chat,":message.poll_caption"))}),g.map((function(e){return(0,a.jsx)(xe,{option:e,votes:f,onSelect:j,alreadyAnswered:I,showAnswers:P,isSelected:e.id===(null===M||void 0===M?void 0:M.pollOptionId),hasCorrect:x},e.id)})),(0,a.jsx)(G.O,{message:n})]})},be=(0,r.memo)((function(e){var n=e.openQuestion,t=e.orientation,i=e.canOpenThread,s=e.enableChatRedirect,o=n.id,c=n.text,p=n.senderId,m=n.answers,h=n.chatId,f=(0,u.$G)([d.WY.chat]).t,g=(0,u.tv)().push,x=(0,l.r)().participant,C=m.length,b=(0,r.useMemo)((function(){if(!m.length)return null;var e=m[m.length-1];return new Date(null===e||void 0===e?void 0:e.createdAt)}),[m]),j=(0,oe.Nl)(x),w=(0,U.r)({initialState:!1}),M=w.isOpen,I=w.close,P=w.open,S=(0,r.useMemo)((function(){return(0,a.jsx)($.k,{message:n,isControlsVisible:M,closeModal:I,enableChatRedirect:s,shouldRenderOpenThreadButton:i})}),[n,M,I,s,i]),k=(0,r.useCallback)((function(){g(_.Z.chat(h).withParams({threadId:o}))}),[h,o,g]),T=(Boolean(C)||j)&&i,N=(0,a.jsx)(F,{openThread:k,repliesCount:C,lastReplyTime:b,shouldRenderBottomButton:T,mobileMode:!0});return(0,a.jsxs)(q.I,{senderId:p,showControls:P,controls:S,bottomPanel:N,orientation:t,message:n,children:[(0,a.jsx)(v.L,{text:c}),(0,a.jsx)(he.Y,{text:f("".concat(d.WY.chat,":message.open_question_caption"))}),(0,a.jsx)(G.O,{message:n})]})})),je=t(278072),we=t.n(je),Me=(0,r.memo)((function(e){var n=e.answer,t=e.orientation,i=e.enableChatRedirect,s=n.text,o=n.senderId,c=n.isCorrect,l=(0,U.r)({initialState:!1}),d=l.isOpen,u=l.close,p=l.open,m=(0,r.useMemo)((function(){return(0,a.jsx)($.k,{message:n,isControlsVisible:d,closeModal:u,enableChatRedirect:i})}),[n,d,u,i]);return(0,a.jsx)("div",{className:we().answer,children:(0,a.jsxs)(q.I,{senderId:o,showControls:p,controls:m,isCorrect:c,orientation:t,message:n,children:[(0,a.jsx)(v.L,{text:s}),(0,a.jsx)(G.O,{message:n})]})})})),Ie=t(626042),Pe=t(269396),Se=t(84870);function ke(){var e=(0,p.Z)(["\n    mutation updateChatMessage($fields: UpdateMessageFields!) {\n  updateChatMessage(fields: $fields) {\n    ...AbstractMessage\n  }\n}\n    ",""]);return ke=function(){return e},e}var Te=(0,m.Ps)(ke(),Se.R);var Ne=function(){var e,n=(0,se.Z)(de.D(Te,e),2),t=n[0],a=n[1];return[(0,r.useCallback)((function(e,n){var a=e.id,r=(new Date).getTime();return t({variables:{fields:{id:a,text:n}},optimisticResponse:{updateChatMessage:(0,Pe.Z)((0,Ie.Z)({},e),{updatedAt:r,text:n})},update:function(n,t){var a=t.data,i=null===a||void 0===a?void 0:a.updateChatMessage;if(i){var s=n.identify(i),o=(0,ce.Op)(i.__typename),c=(0,ce.LI)(i.__typename);o&&c&&n.writeFragment({id:s,data:(0,Pe.Z)((0,Ie.Z)({},e),{text:i.text,updatedAt:r}),fragment:o,fragmentName:c})}}})}),[t]),a]},We=t(958043);var Le,ye=t(583575),Be=t(288540),Re=t(704983),Ze=t(633233);!function(e){e.WrapCode="Wrap code",e.Tab="Tab",e.Mention="Mention",e.Emoji="Emoji",e.Paste="Paste"}(Le||(Le={}));var Ae=t(622831),Ee=t(874722),Oe=t(718204),De=t(669354),Ve=t(189637),ze=t.n(Ve),Ye=function(e){var n,t=e.value,i=e.onChange,o=e.onSubmit,c=e.onFocus,p=e.onBlur,m=e.onCancel,h=e.placeholder,f=e.focusedRef,g=e.setFocusedRef,v=e.controlsEmitter,_=e.isAutoFocusable,C=void 0!==_&&_,b=e.showTextCounter,j=void 0!==b&&b,w=e.editing,M=void 0!==w&&w,I=e.onMentionSuggestionsSearch,P=e.warningInputLength,S=void 0===P?Re.EQ:P,k=e.maxInputLength,T=void 0===k?Re.tX:k,N=e.onEditLastOwnMessage,L=e.SuggestionsContainer,y=void 0===L?Ee.Z:L,B=e.renderSuggestion,Z=void 0===B?Ee.I:B,A=e.enableMentions,E=void 0!==A&&A,O=e.isCompactView,D=void 0!==O&&O,V=(0,r.useRef)(null),z=(0,u.$G)([d.WY.chat]).t,Y=(0,r.useState)(null),F=Y[0],H=Y[1],U=(0,r.useState)(0),q=U[0],$=U[1],G=(0,r.useState)(0),X=G[0],J=G[1],K=(0,r.useState)(0),ee=K[0],ne=K[1];(0,r.useEffect)((function(){M&&setTimeout((function(){V.current&&(V.current.focus(),V.current.setSelectionRange(V.current.value.length,V.current.value.length))}))}),[M]);var te=(0,r.useCallback)((function(e){i(e.target.value)}),[i]),ae=(0,r.useCallback)((function(){V.current&&($(V.current.selectionStart),J(V.current.selectionEnd))}),[]),re=(0,r.useCallback)((function(){if(V.current&&(!f||V===f)){var e=V.current.value,n=e.substring(0,q),a=e.substring(X),r=e.substring(q,X);n.length&&(n+="\n"),a.length&&(a="\n".concat(a));var s="".concat(n,"```\n").concat(r,"\n```").concat(a),o=(0,De.TZ)(t),c=(0,De.FL)(o,s);i(c),V.current.focus(),H(Le.WrapCode)}}),[X,q,V,t,i,f]),ie=(0,r.useCallback)((function(e){if(V.current&&(!f||V===f)){var n=V.current.value,a=e.payload,r=n.substring(0,q),s=n.substring(X),o="".concat(r).concat(a).concat(s),c=(0,De.TZ)(t),l=(0,De.FL)(c,o);i(l),ne(a.length),H(Le.Emoji)}}),[f,X,q,i,t]),se=(0,r.useCallback)((function(){if(V.current&&(!f||V===f)){var e=V.current,n=e.selectionStart,a=e.selectionEnd,r=t.substring(0,n),s=t.substring(a);i("".concat(r,"\t").concat(s)),H(Le.Tab)}}),[f,i,t]),oe=(0,r.useCallback)((function(){!V.current||f&&V!==f||(i("".concat(t," @")),V.current.focus())}),[f,i,t]),ce=(0,Q.f)(),le=ce.chat.id,de=ce.chatLesson,ue=(0,l.r)().participant,pe=null===de||void 0===de||null===(n=de.details)||void 0===n?void 0:n.studentsGroup.name,me=(0,r.useCallback)((function(){(null===ue||void 0===ue?void 0:ue.id)&&Ae.w.sendEvent(Ae.w.events.wrapCodeUsed,(0,Ie.Z)({chatId:le,userId:ue.id,source:"Shortcut"},pe&&{groupName:pe}))}),[le,null===ue||void 0===ue?void 0:ue.id,pe]),he=-1!==le;(0,r.useEffect)((function(){if(V.current&&F){var e=Number(Boolean(q));switch(F){case Le.WrapCode:V.current.focus(),V.current.setSelectionRange(q+Re.Ed+e,X+Re.Ed+e);break;case Le.Emoji:V.current.focus(),V.current.setSelectionRange(q+ee,q+ee);break;case Le.Tab:V.current.focus(),V.current.setSelectionRange(q+1,X+1)}H(null)}}),[ee,q,X,F]);var fe=(0,r.useCallback)((function(e){e.setSelectionRange(e.value.length,e.value.length)}),[]);(0,r.useEffect)((function(){var e=V.current;e&&C&&(e.focus(),fe(e))}),[C,fe]),function(e){var n=e.controlsEmitter,t=e.onWrapCode,a=e.onTriggerMention,i=e.onAddEmoji,s=e.indentWithTab;(0,r.useEffect)((function(){return n&&(n.listen(Le.Emoji,i),n.listen(Le.WrapCode,t),n.listen(Le.Tab,s),n.listen(Le.Mention,a)),function(){n&&(n.unsubscribe(Le.Emoji,i),n.unsubscribe(Le.WrapCode,t),n.unsubscribe(Le.Tab,s),n.unsubscribe(Le.Mention,a))}}),[n,t,a,i,s])}({controlsEmitter:v,onWrapCode:re,onAddEmoji:ie,onTriggerMention:oe,indentWithTab:se});var ge=(0,r.useCallback)((function(e){v&&(he&&me(),e.preventDefault(),v.notify({type:Le.WrapCode}))}),[v,he,me]),ve=(0,r.useCallback)((function(e){if(V.current&&v){var n=V.current,a=n.selectionStart,r=n.selectionEnd,i=t.substring(0,a),s=t.substring(r);i.includes("```")&&s.includes("```")&&(e.preventDefault(),v.notify({type:Le.Tab}))}}),[v,t]),_e=(0,Oe.s)(),xe=!t.length,Ce=t.length>T,be=(0,r.useCallback)((function(e){"Enter"!==e.key||e.shiftKey||!o||_e||o(e),e.key===Ze.PC.WrapCode&&e.ctrlKey&&ge(e),"ArrowUp"===e.key&&xe&&N&&N(),"Escape"===e.key&&m&&m(),"Tab"===e.key&&(null===f||void 0===f?void 0:f.current)&&!e.shiftKey&&ve(e)}),[o,_e,xe,N,m,f,ge,ve]),je=(0,r.useCallback)((function(){(null===ue||void 0===ue?void 0:ue.id)&&Ae.w.sendEvent(Ae.w.events.mentionAdded,(0,Ie.Z)({chatId:le,userId:ue.id},pe&&{groupName:pe}))}),[le,pe,null===ue||void 0===ue?void 0:ue.id]);(0,r.useEffect)((function(){if(V.current){V.current.style.height="".concat(Re.bX,"px");var e=V.current.scrollHeight;e>Re.CK?V.current.style.height="".concat(Re.CK,"px"):V.current.style.height="".concat(e,"px")}}),[t]);var we=(0,r.useCallback)((function(){c&&c(),g&&g(V)}),[c,g]),Me=(0,r.useCallback)((function(){p&&p(t)}),[p,t]),Pe=(0,r.useCallback)((function(e){return(0,a.jsx)(y,{children:e})}),[y]);return(0,a.jsxs)("div",{className:(0,x.cn)(ze().inputWrapper,(0,W.Z)({},ze().inputWrapperCompact,D)),children:[E?(0,a.jsx)(Be.r,{value:t,onChange:te,onFocus:we,onBlur:Me,onSelect:ae,onKeyDown:be,placeholder:h,className:"mentions",classNames:ze(),spellCheck:!1,inputRef:V,allowSpaceInQuery:!0,"data-qa":"input-field",customSuggestionsContainer:Pe,children:(0,a.jsx)(Be.p,{trigger:s.zb,markup:"[@__display__](#participant:__id__)",displayTransform:function(e,n){return"@".concat(n||e)},data:I||R.LZ,renderSuggestion:Z,className:ze().mentions__mention,appendSpaceOnAdd:!0,onAdd:je})}):(0,a.jsx)("textarea",{value:t,onChange:te,onFocus:we,onBlur:Me,onSelect:ae,onKeyDown:be,placeholder:h,className:ze().input,spellCheck:!1,ref:V,"data-qa":"input-field"}),(j&&t.length>S||D)&&(0,a.jsxs)("p",{className:(0,x.cn)(ze().counter,(0,W.Z)({},ze().counterRed,Ce)),children:["".concat(Math.min(t.length,Re.wp),"/").concat(T)," ",Ce&&z("".concat(d.WY.chat,":chat_input.characters_limit_exceeded"))]})]})},Fe=t(183684),He=t(56832),Ue=t(584698),qe=t(629815),$e=t(267309),Ge=t(612570),Qe=t(586347),Xe=t(749294),Je=t(284283),Ke=t(173323),en=t(237209),nn=t(394804),tn=t(652308),an=t(376325),rn=t(537634),sn=t(364400),on=t(383031),cn=t(209446),ln=t(296475),dn=t.n(ln),un=(0,r.memo)((function(e){var n=e.controlsEmitter,t=e.withMediaUpload,i=e.isEditing,s=e.isDisabled,o=e.withMentions,c=void 0===o||o,l=!i&&t,d=(0,cn.m)(V.A.ChatPDFUploading),u=(0,r.useMemo)((function(){return d?(0,qe.Z)(Re.s8).concat((0,qe.Z)(Re.QL)):Re.s8}),[d]),p=function(e){var n=e.controlsEmitter,t=(0,$e.se)(),a=t.uploadFiles,i=t.setUploadFiles,s=(0,r.useCallback)((function(e){var n=Je.GF-a.length,t=(0,Ge.RU)(e,n);(0,Qe.G5)(t)||i((function(e){return(0,qe.Z)(e).concat((0,qe.Z)(t))}))}),[a.length,i]),o=(0,r.useCallback)((function(e){s(e.target.files),(0,Xe.y_)(e)}),[s]),c=(0,r.useCallback)((function(){n.notify({type:Le.WrapCode})}),[n]),l=(0,r.useCallback)((function(){n.notify({type:Le.Mention})}),[n]),d=(0,r.useCallback)((function(e){var t=e.native;n.notify({type:Le.Emoji,payload:t})}),[n]);return{handleAttachFiles:s,handleFileInputChange:o,handleWrapCode:c,handleTriggerMention:l,handleSelectEmoji:d}}({controlsEmitter:n}),m=p.handleAttachFiles,h=p.handleFileInputChange,f=p.handleWrapCode,g=p.handleSelectEmoji,v=p.handleTriggerMention,_=(0,U.r)(),C=_.isOpen,b=_.close,j=_.open;(0,Ke.F)({onAttachFiles:m,isMediaUploadAllowed:l});var w=(0,r.useCallback)((function(e,n,t){return(0,a.jsx)(ye.zx,{mode:ye.zx.mode.TransparentLight,LeftIcon:e,onClick:n,"data-qa":t})}),[]);return(0,a.jsxs)("div",{className:dn().outerContainer,children:[(0,a.jsxs)("div",{className:(0,x.cn)(dn().innerContainer,(0,W.Z)({},dn().innerContainerEditing,i)),children:[l&&(0,a.jsx)(sn.j,{mode:ye.zx.mode.TransparentLight,Icon:nn.C,accept:u.join(),onChange:h,multiple:!0}),w(an.F,f,"wrap-code-button"),w(rn.u,j,"emoji-button"),c&&w(tn.f,v,"add-mention-button")]}),!i&&(0,a.jsx)(ye.zx,{type:"submit",mode:ye.zx.mode.TransparentLight,LeftIcon:en.h,disabled:s,"data-qa":"send-button"}),C&&(0,a.jsx)(on.y,{onEmojiSelect:g,requestClose:b,closeModalOnOptionClick:!0})]})})),pn=t(825264),mn=t(35068),hn=t(192399),fn=t(828625),gn=t(804483),vn=t.n(gn),_n=(0,r.memo)((function(e){var n=e.message,t=e.orientation,i=(0,u.$G)([d.WY.chat]).t,s=(0,r.useRef)(new We.Q).current,o=(0,He.r)(),p=o.isValid,m=o.errors,h=o.onValidate,f=(0,r.useState)(null),g=f[0],v=f[1],_=(0,se.Z)(Ne(),1)[0],C=(0,l.r)().participant,b=(0,Ue._)().cancelUpdating,j=n.senderId,w=n.text,M=(null===C||void 0===C?void 0:C.id)===j,I=(0,r.useState)(w),P=I[0],S=I[1],k=(0,r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";S(e),h({text:e})}),[h]),T=(0,r.useCallback)((function(){p&&(w!==P&&_(n,P),b())}),[p,w,P,b,_,n]),N=(0,fn.B)({additionalFeatureToCheck:V.A.SubscriptionProductChatPaywall}).isAvailable,L=(0,hn.Ye)(pn.y.ChatMessagesWrite,[c.CL7.Regular,c.CL7.Direct]);return N&&!L?(0,a.jsx)(mn.U,{text:i("".concat(d.WY.chat,":free_subscription_message_sending_restricted.input_placeholder")),withPaywall:!0}):(0,a.jsxs)("form",{onSubmit:T,"data-qa":"edit-message-form",children:[(0,a.jsxs)(q.I,{senderId:j,orientation:t,editing:!0,children:[(0,a.jsx)(Ye,{value:P,onChange:k,onSubmit:T,onCancel:b,focusedRef:g,setFocusedRef:v,controlsEmitter:s,editing:!0,showTextCounter:!0}),m.has(Ze.ZJ.Empty)&&(0,a.jsxs)("div",{className:vn().error,children:[(0,a.jsx)(Fe.a,{}),(0,a.jsx)("span",{"data-qa":"edit-error-empty-body",children:i("".concat(d.WY.chat,":editing_input_empty_message_error"))})]}),(0,a.jsx)(un,{controlsEmitter:s,isEditing:!0,withMentions:!1})]}),(0,a.jsxs)("div",{className:(0,x.cn)(vn().buttonsContainer,(0,W.Z)({},vn().leftMode,!M),(0,W.Z)({},vn().rightMode,M)),children:[(0,a.jsx)(ye.zx,{mode:ye.zx.mode.Secondary,size:ye.zx.size.Small,type:"button",text:i("".concat(d.WY.chat,":edit_button.cancel")),onClick:b,"data-qa":"edit-cancel"}),(0,a.jsx)(ye.zx,{mode:ye.zx.mode.Primary,size:ye.zx.size.Small,text:i("".concat(d.WY.chat,":edit_button.save_changes")),disabled:!p,type:"submit","data-qa":"edit-save"})]})]})})),xn=t(936301),Cn=(0,r.memo)((function(e){var n=e.message,t=e.isEditing,i=e.orientation,s=e.enableChatRedirect,c=(0,xn.l)(),l=c.isPinnedMessagesPageOpen,d=c.isSavedMessagesPageOpen,u=(0,r.useMemo)((function(){return!l&&!d}),[l,d]);if(t)return(0,a.jsx)(_n,{message:n,orientation:i});switch(n.__typename){case o.Cs.SystemMessage:return(0,a.jsx)(N,{message:n});case o.Cs.Thread:return(0,a.jsx)(re,{thread:n,orientation:i,canOpenThread:u,enableChatRedirect:s});case o.Cs.Message:return(0,a.jsx)(ie,{message:n,orientation:i,enableChatRedirect:s});case o.Cs.OpenQuestion:return(0,a.jsx)(be,{openQuestion:n,orientation:i,canOpenThread:u,enableChatRedirect:s});case o.Cs.OpenQuestionAnswer:return(0,a.jsx)(Me,{answer:n,orientation:i,enableChatRedirect:s});case o.Cs.Poll:return(0,a.jsx)(Ce,{poll:n,orientation:i,canOpenThread:u,enableChatRedirect:s});default:return null}})),bn=t(322442),jn=t(305581),wn=t(26403),Mn=t(506678),In=t(288527),Pn=t(232132),Sn=t(908989),kn=t.n(Sn),Tn=function(e){var n,t=e.answer,i=(0,Q.f)(),s=i.chat.id,o=i.chatLesson,c=(0,l.r)().participant,d=null===o||void 0===o||null===(n=o.details)||void 0===n?void 0:n.studentsGroup.name,u=(0,se.Z)((0,Pn.G)(),1)[0],p=(0,r.useCallback)((function(e){(null===c||void 0===c?void 0:c.id)&&Ae.w.sendEvent(Ae.w.events.openQuestionAnswerRated,(0,Ie.Z)({chatId:s,coachId:c.id,answerId:t.id,isCorrect:e},d&&{groupName:d}))}),[s,null===c||void 0===c?void 0:c.id,t.id,d]),m=(0,r.useCallback)((function(){u([t],!0),p(!0)}),[u,t,p]),h=(0,r.useCallback)((function(){u([t],!1),p(!1)}),[u,t,p]),f=(0,r.useCallback)((function(){return(0,a.jsx)(Mn.R,{className:kn().successIcon})}),[]),g=(0,r.useCallback)((function(){return(0,a.jsx)(In.U,{className:kn().errorIcon})}),[]);return(0,a.jsxs)("div",{className:kn().buttonsContainer,children:[(0,a.jsx)(ye.zx,{onClick:m,mode:ye.zx.mode.TransparentLight,size:ye.zx.size.Small,LeftIcon:f,className:kn().button}),(0,a.jsx)(ye.zx,{onClick:h,mode:ye.zx.mode.TransparentLight,size:ye.zx.size.Small,LeftIcon:g,className:kn().button})]})},Nn=t(321033),Wn=t(936090),Ln=t(437917),yn=t.n(Ln),Bn=(0,r.memo)((function(e){var n=e.answer,t=e.parentSenderId,i=e.orientation,s=e.enableChatRedirect,o=n.id,c=n.reactionStacks,d=n.chatId,u=n.threadId,p=n.text,m=n.senderId,h=n.isCorrect,f=(0,l.r)().participant,g=(0,Ue._)(),x=g.deleteMessage,C=g.updateMessage,b=(0,Wn.V)(o,c),j=t===(null===f||void 0===f?void 0:f.id),w=!(m===(null===f||void 0===f?void 0:f.id))&&(j||(0,oe.Nl)(f)),M=(0,r.useCallback)((function(){C(n)}),[n,C]),I=(0,r.useCallback)((function(){x(n)}),[n,x]),P=(0,r.useCallback)((function(){return w&&(0,a.jsx)(Tn,{answer:n})}),[w,n]),S=(0,jn.w)(),k=S.isControlsVisible,T=S.showControls,N=S.hideControls,W=(0,r.useMemo)((function(){return s?_.Z.chat(d).withParams({threadId:u,selectedMessageId:o}):null}),[s,d,u,o]),L=(0,r.useMemo)((function(){return(0,a.jsx)(bn.l,{isControlsVisible:k,updateMessage:M,toggleReaction:b,deleteMessage:I,renderAdditionalControls:P,currentMessage:n,openInChatLink:W})}),[k,M,b,I,P,n,W]);return(0,a.jsx)("div",{className:yn().answer,children:(0,a.jsxs)(wn.e,{senderId:m,showControls:T,hideControls:N,controls:L,isCorrect:h,orientation:i,message:n,children:[(0,a.jsx)(v.L,{text:p}),(0,a.jsx)(Nn.m,{message:n})]})})})),Rn=t(17702),Zn=t(796004),An=t(982866),En=t(39677),On=t(693898),Dn=t.n(On),Vn=function(e){var n=e.answers,t=(0,l.r)().participantsMap,i=(0,r.useMemo)((function(){return Array.from(t.values()).filter((function(e){return!(0,oe.Nl)(e)&&!n.some((function(n){return n.senderId===e.id}))}))}),[t,n]),o=t.size-i.length,c=(0,r.useMemo)((function(){return i.length?i.reduce((function(e,n,t){var a=n.username||"John Doe";return 0===t?a:"".concat(e,", ").concat(a)}),""):"All participants voted\ud83d\ude80"}),[i]);return(0,a.jsx)(An.eE,{text:c,messageClassName:Dn().toolTipMessage,horizontalPosition:An.OI.LeftSide,topScreenOffset:Zn.$4+s.Pi,children:(0,a.jsxs)("div",{className:Dn().progressBarContainer,children:[(0,a.jsx)(Rn._,{progress:o,maxValue:t.size,size:16,strokeWidth:16,withCaption:!1,trailColor:En.J["icon-tertiary"],pathColor:En.J["bg-neutral-tertiary"]}),(0,a.jsx)("p",{className:Dn().progressBarLabel,"data-qa":"not-answered-students-number",children:i.length})]})})},zn=(0,r.memo)((function(e){var n=e.openQuestion,t=e.orientation,i=e.canOpenThread,s=e.enableChatRedirect,o=n.id,c=n.text,p=n.senderId,m=n.chatId,h=n.answers,f=n.reactionStacks,g=(0,u.$G)([d.WY.chat]).t,x=(0,Q.f)(),C=x.config,b=x.openThread,j=(0,l.r)().participant,w=(0,Ue._)(),M=w.deleteMessage,I=w.updateMessage,P=(0,Wn.V)(o,f),S=h.length,k=(0,r.useMemo)((function(){if(!h.length)return null;var e=h[h.length-1];return new Date(null===e||void 0===e?void 0:e.createdAt)}),[h]),T=(0,oe.Nl)(j),N=(0,r.useCallback)((function(){b(o)}),[o,b]),W=(0,r.useCallback)((function(){I(n)}),[n,I]),L=(0,r.useCallback)((function(){M(n)}),[n,M]),y=(0,jn.w)(),B=y.isControlsVisible,R=y.showControls,Z=y.hideControls,A=(0,r.useMemo)((function(){return s?_.Z.chat(m).withParams({selectedMessageId:o}):null}),[o,m,s]),E=(0,a.jsx)(bn.l,{isControlsVisible:B,updateMessage:W,deleteMessage:L,shouldRenderOpenThreadButton:i,openThread:N,toggleReaction:P,currentMessage:n,openInChatLink:A}),O=T&&C.isNotAnsweredHintShown?(0,a.jsx)(Vn,{answers:h}):null,D=(Boolean(S)||T)&&i,V=(0,a.jsx)(F,{openThread:N,repliesCount:S,lastReplyTime:k,progressBar:O,shouldRenderBottomButton:D});return(0,a.jsxs)(wn.e,{senderId:p,showControls:R,hideControls:Z,controls:E,bottomPanel:V,orientation:t,message:n,children:[(0,a.jsx)(v.L,{text:c}),(0,a.jsx)(he.Y,{text:g("".concat(d.WY.chat,":message.open_question_caption"))}),(0,a.jsx)(Nn.m,{message:n})]})})),Yn=t(302472),Fn=t(8130),Hn=t.n(Fn),Un=(0,r.memo)((function(e){var n,t=e.option,i=e.votes,s=e.onSelect,o=e.alreadyAnswered,c=e.showAnswers,d=e.isSelected,u=e.hasCorrect,p=(0,l.r)().participantsMap,m=t.id,h=t.text,f=t.isCorrect,g=o&&!d,_=(0,r.useCallback)((function(){o||s(t)}),[s,t,o]),C=i.filter((function(e){return e.pollOptionId===m})),b=c&&C.length,j=(0,r.useMemo)((function(){return C.map((function(e){return p.get(e.senderId)})).reduce((function(e,n,t){var a=(null===n||void 0===n?void 0:n.username)||"John Doe";return n?0===t?a:"".concat(e,", ").concat(a):e}),"")}),[C,p]),w=i.length?Math.round(C.length/i.length*100):0,M=(0,se.Z)((0,oe.Uq)(Boolean(f),u),2),I=M[0],P=M[1];return(0,a.jsxs)("div",{className:Hn().container,children:[(0,a.jsxs)("div",{className:Hn().mainContent,children:[(0,a.jsxs)("div",{className:Hn().radioWithText,"data-qa":"poll-option",children:[b?(0,a.jsx)(An.eE,{text:j,horizontalPosition:An.OI.RightSide,messageClassName:Hn().toolTipMessage,children:(0,a.jsx)(ge.Zv,{defaultChecked:d,disabled:g,onClick:_,color:P,"data-qa":"poll-option-radio"})}):(0,a.jsx)(ge.Zv,{defaultChecked:d,disabled:g,onClick:_,"data-qa":"poll-option-radio"}),(0,a.jsx)(v.L,{text:h})]}),c&&(0,a.jsx)("p",{className:(0,x.cn)((n={},(0,W.Z)(n,Hn().rightAnswersPercent,u&&f),(0,W.Z)(n,Hn().wrongAnswersPercent,u&&!f),n),Hn().percent),"data-qa":"answers-percent",children:"".concat(w,"%")})]}),c&&(0,a.jsx)(fe.lx,{progress:C.length,maxValue:i.length,className:Hn().progressBar,pathColor:I})]})})),qn=(0,r.memo)((function(e){var n,t=e.poll,i=e.orientation,s=e.canOpenThread,o=e.enableChatRedirect,c=(0,u.$G)([d.WY.chat]).t,p=(0,Q.f)(),m=p.chat,h=p.chatLesson,f=p.isStudentViewEnabled,g=p.config,x=p.openThread,C=(0,Ue._)(),b=C.updateMessage,j=C.deleteMessage,w=(0,l.r)().participant,M=m.id,I=(0,oe.Nl)(w),P=null===h||void 0===h||null===(n=h.details)||void 0===n?void 0:n.studentsGroup.name,S=t.id,k=t.senderId,T=t.reactionStacks,N=t.votes,W=t.options,L=t.hasCorrect,y=(0,se.Z)(me(),1)[0],B=(0,Wn.V)(S,T),R=(0,r.useCallback)((function(e){(null===w||void 0===w?void 0:w.id)&&Ae.w.sendEvent(Ae.w.events.pollAnswered,(0,Ie.Z)({chatId:M,chatName:m.name,senderId:w.id,pollId:t.id},null!==e&&{isCorrect:e},P&&{groupName:P}))}),[M,null===w||void 0===w?void 0:w.id,t.id,P,m.name]),Z=(0,r.useCallback)((function(e){if(null===w||void 0===w?void 0:w.id){var n=e.id,a=e.isCorrect,r=t.hasCorrect;y({chatId:t.chatId,threadId:t.id,senderId:w.id,pollOptionId:n});var i=r?Boolean(a):null;R(i)}}),[y,t,null===w||void 0===w?void 0:w.id,R]),A=(0,r.useMemo)((function(){return N.find((function(e){return e.senderId===(null===w||void 0===w?void 0:w.id)}))}),[null===w||void 0===w?void 0:w.id,N]),E=Boolean(A),O=E||I&&!f,D=(0,r.useCallback)((function(){x(S)}),[S,x]),V=(0,r.useCallback)((function(){b(t)}),[t,b]),z=(0,r.useCallback)((function(){j(t)}),[t,j]),Y=!N.length&&s,H=(0,jn.w)(),U=H.isControlsVisible,q=H.showControls,$=H.hideControls,G=(0,r.useMemo)((function(){return o?_.Z.chat(M).withParams({selectedMessageId:S}):null}),[S,M,o]),X=(0,r.useMemo)((function(){return(0,a.jsx)(Yn.l,{isControlsVisible:U,updateMessage:V,deleteMessage:z,shouldRenderOpenThreadButton:Y,openThread:D,toggleReaction:B,currentMessage:t,openInChatLink:G})}),[U,V,z,Y,D,B,t,G]),J=(I||Boolean(N.length)&&E)&&s,K=I&&g.isNotAnsweredHintShown,ee=(0,r.useMemo)((function(){return K?(0,a.jsx)(Vn,{answers:N}):null}),[K,N]),ne=(0,r.useMemo)((function(){return(0,a.jsx)(F,{openThread:D,progressBar:ee,repliesCount:N.length,shouldRenderBottomButton:J})}),[D,ee,N.length,J]);return(0,a.jsxs)(wn.e,{senderId:k,showControls:q,hideControls:$,controls:X,bottomPanel:ne,orientation:i,message:t,children:[(0,a.jsx)(v.L,{text:t.text}),(0,a.jsx)(he.Y,{text:c("".concat(d.WY.chat,":message.poll_caption"))}),W.map((function(e){return(0,a.jsx)(Un,{option:e,votes:N,onSelect:Z,alreadyAnswered:E,showAnswers:O,isSelected:e.id===(null===A||void 0===A?void 0:A.pollOptionId),hasCorrect:L},e.id)})),(0,a.jsx)(Nn.m,{message:t})]})})),$n=new Date("2024-03-12T12:00:00.000+02:00"),Gn=t(467943),Qn=t(40723),Xn=t.n(Qn),Jn=function(e){var n=e.receivedXp;return n?(0,a.jsx)(Gn.V,{size:Gn.V.size.Small,text:"+".concat(n," xp"),color:Gn.V.color.Success,className:Xn().receivedXp}):null},Kn=(0,r.memo)((function(e){var n=e.thread,t=e.orientation,i=e.canOpenThread,s=e.enableChatRedirect,o=n.id,c=n.text,l=n.senderId,d=n.repliesCount,u=n.createdAt,p=n.lastSentMessageTime,m=n.media,h=n.reactionStacks,f=n.chatId,g=n.draft,_=n.receivedXp,x=(0,Q.f)(),C=x.chatConnection,b=x.config,j=x.openThread,w=(0,Ue._)(),M=w.deleteMessage,I=w.updateMessage,P=(0,Wn.V)(o,h),S=(0,r.useMemo)((function(){return new Date(u)}),[u]),k=!!d,T=i&&!C&&b.isThreadsAvailable,N=(0,r.useCallback)((function(){j(o)}),[o,j]),W=(0,r.useCallback)((function(){I(n)}),[n,I]),L=(0,r.useCallback)((function(){M(n)}),[n,M]),y=(0,r.useMemo)((function(){return s?(0,ae.no)(ae.J6.chats.chat,{chatId:String(f),selectedMessageId:o}):null}),[o,f,s]),B=(0,jn.w)(),R=B.isControlsVisible,Z=B.showControls,A=B.hideControls,E=(0,r.useMemo)((function(){return b.shouldDisplayMessageControls?(0,a.jsx)(bn.l,{isControlsVisible:R,updateMessage:W,deleteMessage:L,shouldRenderOpenThreadButton:T,openThread:N,toggleReaction:P,currentMessage:n,openInChatLink:y}):null}),[R,W,L,T,N,P,n,y,b.shouldDisplayMessageControls]),O=Boolean(g),D=(k||O)&&T,V=b.hasMentorSupport&&n.createdAt>=$n,z=(0,r.useMemo)((function(){return(0,a.jsx)(F,{openThread:N,repliesCount:d,lastReplyTime:new Date(p),hasDraft:O,shouldRenderBottomButton:D,hasReceivedXp:Boolean(_),hasMentorSupport:b.hasMentorSupport})}),[N,d,p,O,D,_,b.hasMentorSupport]),Y=(0,r.useCallback)((function(){return(0,a.jsx)(Jn,{receivedXp:null!==_&&void 0!==_?_:null})}),[_]);return(0,a.jsxs)(wn.e,{senderId:l,showControls:Z,hideControls:A,controls:E,bottomPanel:z,orientation:t,message:n,renderXPTag:Y,children:[V&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(ne,{testTasks:n.attachedTestTasks})}),(0,a.jsx)(v.L,{text:c}),m.length>0&&(0,a.jsx)(H.k,{media:m,senderId:l,sendingTime:S}),(0,a.jsx)(Nn.m,{message:n})]})})),et=(0,r.memo)((function(e){var n=e.message,t=e.orientation,i=e.enableChatRedirect,s=n.id,o=n.text,c=n.senderId,l=n.createdAt,d=n.media,u=n.chatId,p=n.threadId,m=n.reactionStacks,h=(0,Ue._)(),f=h.deleteMessage,g=h.updateMessage,x=(0,Wn.V)(s,m),C=(0,r.useMemo)((function(){return new Date(l)}),[l]),b=(0,r.useCallback)((function(){g(n)}),[n,g]),j=(0,r.useCallback)((function(){f(n)}),[n,f]),w=(0,jn.w)(),M=w.isControlsVisible,I=w.showControls,P=w.hideControls,S=(0,r.useMemo)((function(){return i?_.Z.chat(u).withParams({threadId:p,selectedMessageId:s}):null}),[s,u,p,i]),k=(0,r.useMemo)((function(){return(0,a.jsx)(bn.l,{openInChatLink:S,isControlsVisible:M,updateMessage:b,deleteMessage:j,toggleReaction:x,currentMessage:n})}),[S,M,b,j,x,n]);return(0,a.jsxs)(wn.e,{senderId:c,showControls:I,hideControls:P,controls:k,orientation:t,message:n,children:[(0,a.jsx)(v.L,{text:o}),d.length>0&&(0,a.jsx)(H.k,{media:d,senderId:c,sendingTime:C}),(0,a.jsx)(Nn.m,{message:n})]})})),nt=t(166688),tt=t(491966),at=t(554898),rt=t(614133),it=t(949504),st=t.n(it),ot=(0,r.memo)((function(e){var n=e.message,t=e.orientation,i=(0,u.$G)([d.WY.chat]).t,s=(0,He.r)(),o=s.isValid,c=s.onValidate,l=(0,se.Z)(Ne(),1)[0],p=(0,Ue._)().cancelUpdating,m=n.senderId,h=n.text,f=(0,Oe.s)(),g=(0,r.useState)(null),v=g[0],_=g[1];(0,r.useEffect)((function(){var e;null===v||void 0===v||null===(e=v.editor)||void 0===e||e.chain().focus().run()}),[null===v||void 0===v?void 0:v.editor]);var x=(0,r.useMemo)((function(){return{text:h}}),[h]),C=(0,r.useCallback)((function(e){h!==e.text&&l(n,e.text),p()}),[h,p,l,n]),b=(0,r.useCallback)((function(){return(0,a.jsxs)("div",{className:st().buttonsContainer,children:[(0,a.jsx)(ye.zx,{mode:ye.zx.mode.Secondary,size:ye.zx.size.Small,type:"button",text:i("".concat(d.WY.chat,":edit_button.cancel")),onClick:p,"data-qa":"edit-cancel"}),(0,a.jsx)(ye.zx,{mode:ye.zx.mode.Primary,size:ye.zx.size.Small,text:i("".concat(d.WY.chat,":edit_button.save_changes")),disabled:!o,type:"submit","data-qa":"edit-save"})]})}),[p,o,i]),j=(0,r.useMemo)((function(){return tt.CA[at.go.BOTTOM].map((function(e){return e.filter((function(e){return e!==at.Br.MENTIONS}))}))}),[]),w=(0,r.useCallback)((function(e){return{Enter:function(){return!f&&(e(),!0)},Escape:function(){return p(),!0}}}),[p,f]);return(0,a.jsx)(nt.l0,{initialValues:x,onSubmit:C,validateOnBlur:!1,validate:c,render:function(e){var n=e.errors,r=e.handleSubmit;return(0,a.jsx)("form",{onSubmit:r,"data-qa":"edit-message-form",children:(0,a.jsx)(wn.e,{senderId:m,orientation:t,editing:!0,children:(0,a.jsx)(nt.gN,{name:Ze.UE.Text,render:function(e){return(0,a.jsx)(rt.L,{initialValue:e.input.value,onChange:e.input.onChange,containerClassName:st().editorContainer,shouldUseMarkdown:!0,enableMentions:!0,mentionSuggestions:R.Nu,renderActionButtons:b,toolbarTopButtons:tt.CA[at.go.TOP],toolbarTopClassName:st().toolbarTop,toolbarBottomButtons:j,toolbarBottomClassName:st().toolbarBottom,onKeyDown:w(r),editorRef:_,disabledExtensions:tt.aM,children:n&&(0,Qe.IF)(n)(Ze.ZJ.Empty)&&(0,a.jsxs)("div",{className:st().error,children:[(0,a.jsx)(Fe.a,{}),(0,a.jsx)("span",{"data-qa":"edit-error-empty-body",children:i("".concat(d.WY.chat,":editing_input_empty_message_error"))})]})})}})})})}})})),ct=(0,r.memo)((function(e){var n=e.message,t=e.isEditing,i=e.parentMessage,s=e.orientation,c=e.enableChatRedirect,l=(0,xn.l)(),d=l.isPinnedMessagesPageOpen,u=l.isSavedMessagesPageOpen,p=(0,r.useMemo)((function(){return!d&&!u}),[d,u]);if(t)return(0,a.jsx)(ot,{message:n,orientation:s});switch(n.__typename){case o.Cs.SystemMessage:return(0,a.jsx)(N,{message:n});case o.Cs.Thread:return(0,a.jsx)(Kn,{thread:n,orientation:s,canOpenThread:p,enableChatRedirect:c});case o.Cs.Message:return(0,a.jsx)(et,{message:n,orientation:s,enableChatRedirect:c});case o.Cs.OpenQuestion:return(0,a.jsx)(zn,{openQuestion:n,orientation:s,canOpenThread:p,enableChatRedirect:c});case o.Cs.OpenQuestionAnswer:return(0,a.jsx)(Bn,{answer:n,parentSenderId:null===i||void 0===i?void 0:i.senderId,orientation:s,enableChatRedirect:c});case o.Cs.Poll:return(0,a.jsx)(qn,{poll:n,orientation:s,canOpenThread:p,enableChatRedirect:c});default:return null}})),lt=(0,r.memo)((function(e){var n=e.message,t=e.parentMessage,o=e.orientation,c=e.enableChatRedirect,l=(0,i.a)().device,d=(0,Ue._)().messageToUpdate,u=(0,r.useMemo)((function(){return n.id===(null===d||void 0===d?void 0:d.id)}),[n.id,null===d||void 0===d?void 0:d.id]);return l===s.AS.Mobile?(0,a.jsx)(Cn,{message:n,isEditing:u,parentMessage:t,orientation:o,enableChatRedirect:c}):(0,a.jsx)(ct,{message:n,isEditing:u,parentMessage:t,orientation:o,enableChatRedirect:c})}))},659104:function(e,n,t){"use strict";t.d(n,{_:function(){return s}});var a=t(785893),r=t(667294),i=t(584698),s=function(e){var n=e.children,t=(0,r.useState)(null),s=t[0],o=t[1],c=(0,r.useState)(null),l=c[0],d=c[1],u=(0,r.useCallback)((function(e){o(e)}),[]),p=(0,r.useCallback)((function(){o(null)}),[]),m=(0,r.useCallback)((function(e){d(e)}),[]),h=(0,r.useCallback)((function(){d(null)}),[]);return(0,a.jsx)(i.W,{messageToUpdate:s,updateMessage:u,cancelUpdating:p,messageToDelete:l,deleteMessage:m,cancelDeleting:h,children:n})}},321033:function(e,n,t){"use strict";t.d(n,{m:function(){return Z}});var a=t(785893),r=t(667294),i=t(449613),s=t(31708),o=t(982866),c=t(414924),l=t(168497),d=t(858293),u=t(608151),p=function(e){var n=e.messageId,t=e.reactionShortcode,i=e.reactionsCount,s=(0,l.X_)({variables:{messageId:n,reactionShortcode:t,limit:10}}),o=s.data,c=s.loading,p=null===o||void 0===o?void 0:o.reactedParticipants,m=(0,r.useMemo)((function(){var e=(null===p||void 0===p?void 0:p.map((function(e){return null===e||void 0===e?void 0:e.username})).filter(Boolean))||u.LZ;return(0,d.si)(e,i)}),[p,i]);return c?(0,a.jsx)("p",{children:"Loading..."}):(0,a.jsx)("p",{children:m})},m=t(721392),h=t(452188),f=t.n(h),g=new Map([[1,f().oneDigit],[2,f().twoDigits],[3,f().threeDigits],[4,f().fourDigits]]),v=(0,r.memo)((function(e){var n=e.reactionShortcode,t=e.count,s=e.toggleReaction,l=e.isReacted,d=e.messageId,u=e.loading,h=(0,r.useCallback)((function(){s(n)}),[s,n]),v=(0,r.useMemo)((function(){return String(t).length}),[t]);return(0,a.jsx)(o.eE,{text:(0,a.jsx)(p,{messageId:d,reactionShortcode:n,reactionsCount:t}),widthMode:o.X3.Max,applyDefaultStylesForCustomElement:!0,renderWithPortal:!0,children:(0,a.jsxs)("button",{onClick:h,className:(0,i.cn)(f().reactionButton,(0,c.Z)({},f().active,l)),disabled:u,"data-qa":"reaction-button","data-reaction-shortcode":n,children:[(0,a.jsx)(m.d,{shortcodes:n,size:13}),(0,a.jsx)("p",{className:(0,i.cn)(f().reactionCount,g.get(v)),"data-qa":"reaction-count",children:t})]})})})),_=t(583575),x=t(484983),C=t(537634),b=t(457623),j=t(795138),w=t.n(j),M=function(e){var n=e.toggleReaction,t=e.loading,i=(0,r.useRef)(null),s=(0,x.r)(),o=s.isOpen,c=s.close,l=s.open,d=(0,r.useCallback)((function(e){n(e.shortcodes)}),[n]),u=(0,r.useCallback)((function(){return(0,a.jsx)(C.u,{className:w().icon})}),[]);return(0,a.jsxs)("div",{ref:i,children:[(0,a.jsx)(_.zx,{onClick:l,LeftIcon:u,mode:_.zx.mode.TransparentLight,disabled:t,"data-qa":"reactions-container-add-reaction-button"}),o&&(0,a.jsx)(b.O,{onEmojiSelect:d,onClose:c,parentNode:i.current})]})},I=t(936090),P=t(809973),S=t.n(P),k=(0,r.memo)((function(e){var n=e.reactionStacks,t=e.messageId,s=e.loading,o=e.messageInfo,c=(0,r.useMemo)((function(){return n.filter((function(e){return e.count>0}))}),[n]),l=(0,I.V)(t,c);return(0,a.jsxs)("ul",{className:(0,i.cn)(S().reactionsContainer,{"mt-8":n.length}),children:[c.map((function(e){return(0,a.jsx)("li",{children:(0,a.jsx)(v,{reactionShortcode:e.reactionShortcode,count:e.count,isReacted:e.authParticipantReacted,messageId:t,toggleReaction:l,loading:s})},e.id)})),c.length>0&&(0,a.jsx)("li",{children:(0,a.jsx)(M,{toggleReaction:l})}),(0,a.jsx)("li",{className:S().content,children:o})]})})),T=t(211211),N=t(584097),W=t(430155),L=t(115362),y=t(360014),B=t(500550),R=t.n(B),Z=(0,r.memo)((function(e){var n=e.message,t=n.id,c=n.createdAt,l="reactionStacks"in n?n.reactionStacks:[],d=(0,N.$G)([W.WY.chat]).t,u=(0,T.B)(),p=(0,s.EL)(),m=(0,r.useMemo)((function(){return new Date(c)}),[c]),h=p(m).time,f=u(m.getDate(),m.getMonth()),g="".concat(f," ").concat(d("".concat(W.WY.chat,":message_creating.at"))," ").concat(h),v=(0,r.useMemo)((function(){return(0,a.jsx)(o.eE,{text:g,widthMode:o.X3.Max,children:(0,a.jsxs)("p",{className:(0,i.cn)(y.c.platformTextSmall,R().sendingTime),children:["".concat(h),(0,a.jsx)(L.R,{message:n})]})})}),[g,n,h]);return(0,a.jsx)(k,{reactionStacks:l,messageId:t,messageInfo:v})}))},671121:function(e,n,t){"use strict";t.d(n,{Y:function(){return o}});var a=t(785893),r=t(667294),i=t(922686),s=t.n(i),o=(0,r.memo)((function(e){var n=e.text;return(0,a.jsx)("p",{className:s().caption,children:n})}))},322442:function(e,n,t){"use strict";t.d(n,{l:function(){return de}});var a=t(147568),r=t(414924),i=t(10253),s=t(197582),o=t(785893),c=t(667294),l=t(449613),d=t(583575),u=t(982866),p=t(584097),m=t(430155),h=t(484983),f=t(796004),g=t(905945),v=t(675745),_=t(537634),x=t(952542),C=t(786867),b=t(970036),j=t(594766),w=t(122301),M=t(830464),I=t(599494),P=t(971543),S=t(584442),k=t(16920),T=t(73983),N=t(858293),W=t(575342),L=t(626042),y=t(269396),B=t(94923),R=function(e){return(0,o.jsxs)(B.s,(0,y.Z)((0,L.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:[(0,o.jsx)("path",{d:"M19 10C19 10.55 18.55 11 18 11C17.445 11 17 10.55 17 10H19Z",fill:"currentColor"}),(0,o.jsx)("path",{d:"M21 5.5V8L22 9V9.5H14V9L15 8V5.5C15 3.96 15.815 2.68 17.25 2.34V2C17.25 1.585 17.585 1.25 18 1.25C18.415 1.25 18.75 1.585 18.75 2V2.34C20.18 2.68 21 3.965 21 5.5Z",fill:"currentColor"}),(0,o.jsx)("path",{d:"M14.1914 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V11.5H20.6C20.6 11.5 20.4818 11.7057 20.33 11.89C20.1782 12.0743 20 12.2289 20 12.2289V16H5.2L4 17.2V4H13.1875C13.1875 4 13.317 3.47894 13.55 3C13.8063 2.47333 14.1914 2 14.1914 2Z",fill:"currentColor"})]}))},Z=function(e){return(0,o.jsxs)(B.s,(0,y.Z)((0,L.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:[(0,o.jsx)("path",{d:"M21.0551 9.99999L22.4201 11.365L23.0551 10.73L13.1951 0.86499L12.5551 1.49999L14.9151 3.85999C14.6451 4.36499 14.5001 4.92999 14.5001 5.49999V8.49999L13.5001 9.49999V9.99999H21.0551Z",fill:"currentColor"}),(0,o.jsx)("path",{d:"M21.5001 5.49999V7.89999L16.1301 2.54499C16.4001 2.36999 16.6951 2.23499 17.0001 2.14499V1.99999C17.0001 1.73477 17.1054 1.48042 17.2929 1.29288C17.4805 1.10535 17.7348 0.99999 18.0001 0.99999C18.2653 0.99999 18.5196 1.10535 18.7072 1.29288C18.8947 1.48042 19.0001 1.73477 19.0001 1.99999V2.14499C20.4851 2.58499 21.5001 3.94999 21.5001 5.49999Z",fill:"currentColor"}),(0,o.jsx)("path",{d:"M18.7072 11.2071C18.5196 11.3946 18.2653 11.5 18.0001 11.5C17.7348 11.5 17.4805 11.3946 17.2929 11.2071C17.1054 11.0196 17.0001 10.7652 17.0001 10.5H19.0001C19.0001 10.7652 18.8947 11.0196 18.7072 11.2071Z",fill:"currentColor"}),(0,o.jsx)("path",{d:"M11 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V12.5H20V16H5.2L4 17.2V4H12.7586C12.8477 4 12.8923 3.89229 12.8293 3.82929L11 2Z",fill:"currentColor"})]}))},A=t(307297),E=t(937878),O=t(650319);function D(){var e=(0,A.Z)(["\n    mutation updateThreadSubscribed($threadId: Int!, $isSubscribed: Boolean!) {\n  updateThreadSubscribed(threadId: $threadId, isSubscribed: $isSubscribed) {\n    id\n    isSubscribed\n    lastActionTime\n  }\n}\n    "]);return D=function(){return e},e}var V=(0,E.Ps)(D());var z=t(133145),Y=t(269854),F=function(e){var n,t=(0,i.Z)(O.D(V,n),1)[0];return[(0,c.useCallback)((function(n){return t({variables:{threadId:e,isSubscribed:n},optimisticResponse:{updateThreadSubscribed:{__typename:"Thread",id:e,isSubscribed:n,lastActionTime:Date.now()}},refetchQueries:["unreadChatMessagesCount"],update:function(n,t){var a=t.data;if(null===a||void 0===a?void 0:a.updateThreadSubscribed){var r=a.updateThreadSubscribed,i=r.isSubscribed,s=r.lastActionTime;!function(e,n,t){e.modify({id:e.identify({__typename:Y.Cs.Thread,id:n}),fields:{isSubscribed:function(){return t}}})}(n,e,i),(0,z.jQ)(n,Y.Cs.Thread,e,s)}}})}),[e,t])]},H=t(506388);function U(){var e=(0,A.Z)(["\n    query threadSubscribedStatus($id: Int!) {\n  chatMessageById(id: $id) {\n    id\n    ... on Thread {\n      isSubscribed\n    }\n  }\n}\n    "]);return U=function(){return e},e}var q=(0,E.Ps)(U());var $=function(e){var n,t=(n={variables:{id:e}},H.aM(q,n)).data;return t?[t.chatMessageById.__typename===Y.Cs.Thread&&t.chatMessageById.isSubscribed]:[null]},G=t(586347),Q=t(378606),X=t(622831),J=t(520575),K=t.n(J),ee=(0,c.memo)((function(e){var n=e.closeDropdown,t=e.updateMessage,a=e.deleteMessage,r=e.parentNode,s=e.currentMessage,l=(0,p.$G)([m.WY.chat]).t,d=(0,W.v)(),u=(0,S.r)().participant,h=(0,i.Z)($(s.id),1)[0],f=(0,N.nG)(s,u),g=(0,N.QF)(s,u),v=(0,i.Z)((0,k.N)(),1)[0],_=(0,i.Z)((0,T.c)(),1)[0],x=(0,i.Z)(F(s.id),1)[0],L=s.__typename===Y.Cs.Thread,y=h?"unfollow_thread_button":"follow_thread_button",B=h?"unfollow-thread-button":"follow-thread-button",A=(0,c.useCallback)((function(){x(!h),X.w.sendEvent(h?X.w.events.threadUnfollowed:X.w.events.threadFollowed),n()}),[x,h,n]),E=(0,c.useCallback)((function(){u&&(v({message:s,participantId:u.id}),n())}),[n,s,u,v]),O=(0,c.useCallback)((function(){u&&(_({message:s}),n())}),[n,s,u,_]),D=(0,c.useCallback)((function(){return"".concat(window.location.origin).concat((0,N.fd)(s))}),[s]),V=(0,i.Z)((0,P.m)(D()),2),z=V[0],H=V[1],U=h?Z:R,q=z?w.N:C.g,J=(0,c.useMemo)((function(){return[{renderLeftIcon:function(){return(0,o.jsx)(U,{className:K().icon})},text:l("".concat(m.WY.chat,":message.").concat(y)),onClick:A,isDisabled:null===h,skip:!L,dataQA:B},{renderLeftIcon:function(){return(0,o.jsx)(j.y,{className:K().icon})},text:l("".concat(m.WY.chat,":message.edit_button")),onClick:t||G.Bi,dataQA:"edit-message-button",skip:!f||!t},{renderLeftIcon:function(){return(0,o.jsx)(q,{className:K().icon})},text:l("".concat(m.WY.chat,":message.copy_link_button")),onClick:H,dataQA:"copy-link-button"},{renderLeftIcon:function(){return(0,o.jsx)(I.Y,{className:K().icon})},text:l("".concat(m.WY.chat,":message.pin_button")),onClick:E,skip:!d||Boolean(s.pinnedBy),dataQA:"pin-message-button"},{renderLeftIcon:function(){return(0,o.jsx)(M.D,{className:K().icon})},text:l("".concat(m.WY.chat,":message.unpin_button")),onClick:O,skip:!d||!s.pinnedBy,dataQA:"unpin-message-button"},{renderLeftIcon:function(){return(0,o.jsx)(b.F,{className:K().icon})},text:l("".concat(m.WY.chat,":message.remove_button")),onClick:a||G.Bi,skip:!g||!a,dataQA:"remove-message-button"}]}),[L,l,f,B,y,t,H,A,d,s,h,E,O,g,a,U,q]);return(0,o.jsx)(Q.h,{items:J,parentNode:r,onClose:n})})),ne=t(457623),te=t(766104),ae=t(551579),re=t(144507),ie=t(638071),se=t(458309),oe=t(846525),ce=t(484009),le=t.n(ce),de=(0,c.memo)((function(e){var n=e.openInChatLink,t=e.isControlsVisible,C=e.toggleReaction,b=e.openThread,j=e.deleteMessage,w=e.updateMessage,M=e.shouldRenderOpenThreadButton,I=e.renderAdditionalControls,P=e.currentMessage,S=(0,p.$G)([m.WY.chat]).t,k=(0,c.useRef)(null),T=(0,i.Z)((0,ae.e)(),1)[0],N=(0,i.Z)((0,re.Y)(),1)[0],W=(0,oe.R)(),L=(0,h.r)(),y=L.isOpen,B=L.close,R=L.open,Z=(0,h.r)(),A=Z.isOpen,E=Z.close,O=Z.open,D=(0,c.useCallback)((function(e){C(e.shortcodes)}),[C]),V=t||y||A,z=(0,c.useCallback)((0,a.Z)((function(){return(0,s.__generator)(this,(function(e){switch(e.label){case 0:return[4,T(P)];case 1:return e.sent(),X.w.sendEvent(X.w.events.chatMessageSaved,{chatLocation:W}),[2]}}))})),[P,T,W]),Y=(0,c.useCallback)((0,a.Z)((function(){return(0,s.__generator)(this,(function(e){switch(e.label){case 0:return[4,N(P)];case 1:return e.sent(),[2]}}))})),[P,N]);return(0,o.jsxs)("div",{ref:k,className:(0,l.cn)(le().controlsContainer,(0,r.Z)({},le().visible,V)),children:[null===I||void 0===I?void 0:I(),(0,o.jsx)(u.eE,{messageClassName:le().tooltipMessage,text:S("".concat(m.WY.chat,":tool_tip.emoji")),widthMode:u.X3.Max,topScreenOffset:f.$4+g.Pi,children:(0,o.jsx)(d.zx,{mode:d.zx.mode.TransparentLight,size:d.zx.size.Small,LeftIcon:_.u,onClick:O,className:(0,l.cn)((0,r.Z)({},le().iconActive,A),le().button),"data-qa":"message-controls-add-reaction-btn"})}),M&&(0,o.jsx)(u.eE,{messageClassName:le().tooltipMessage,text:S("".concat(m.WY.chat,":tool_tip.reply")),widthMode:u.X3.Max,topScreenOffset:f.$4+g.Pi,children:(0,o.jsx)(d.zx,{mode:d.zx.mode.TransparentLight,size:d.zx.size.Small,LeftIcon:x.b,onClick:b,className:le().button,"data-qa":"reply-to-thread-button"})}),!P.isSaved&&(0,o.jsx)(u.eE,{messageClassName:le().tooltipMessage,text:S("".concat(m.WY.chat,":tool_tip.save_message")),widthMode:u.X3.Max,topScreenOffset:f.$4+g.Pi,children:(0,o.jsx)(d.zx,{mode:d.zx.mode.TransparentLight,size:d.zx.size.Small,LeftIcon:ie.F,onClick:z,className:le().button,"data-qa":"saved-message-tooltip-button"})}),P.isSaved&&(0,o.jsx)(u.eE,{messageClassName:le().tooltipMessage,text:S("".concat(m.WY.chat,":tool_tip.unsave_message")),widthMode:u.X3.Max,topScreenOffset:f.$4+g.Pi,children:(0,o.jsx)(d.zx,{mode:d.zx.mode.TransparentLight,size:d.zx.size.Small,LeftIcon:se.y,onClick:Y,className:le().button,"data-qa":"unsaved-message-tooltip-button"})}),n&&(0,o.jsx)(u.eE,{messageClassName:le().tooltipMessage,text:S("".concat(m.WY.chat,":tool_tip.open_in_chat")),widthMode:u.X3.Max,topScreenOffset:f.$4+g.Pi,children:(0,o.jsx)(d.zx,{LeftIcon:te.$,mode:d.zx.mode.TransparentLight,href:n,className:le().button,"data-qa":"open-in-chat-button"})}),(0,o.jsx)(u.eE,{messageClassName:le().tooltipMessage,text:S("".concat(m.WY.chat,":tool_tip.more_actions")),widthMode:u.X3.Max,topScreenOffset:f.$4+g.Pi,children:(0,o.jsx)(d.zx,{LeftIcon:v.n,mode:d.zx.mode.TransparentLight,onClick:R,className:(0,l.cn)((0,r.Z)({},le().iconActive,y),le().button),"data-qa":"more-actions-button"})}),y&&(0,o.jsx)(ee,{closeDropdown:B,updateMessage:w,deleteMessage:j,parentNode:k.current,currentMessage:P}),A&&(0,o.jsx)(ne.O,{onEmojiSelect:D,onClose:E,parentNode:k.current})]})}))},302472:function(e,n,t){"use strict";t.d(n,{l:function(){return a.l}});var a=t(322442)},115362:function(e,n,t){"use strict";t.d(n,{R:function(){return u}});var a=t(785893),r=t(667294),i=t(584097),s=t(430155),o=t(666229),c=t(360014),l=t(369047),d=t.n(l),u=function(e){var n=e.message,t=(0,i.$G)([s.WY.chat]).t;return(0,r.useMemo)((function(){return n.updatedAt!==n.createdAt}),[n])?(0,a.jsx)("span",{className:(0,o.cn)(d().editedMark,c.c.platformTextSmall),"data-qa":"edited-mark",children:"(".concat(t("".concat(s.WY.chat,":message_was_edited")),")")}):null}},225372:function(e,n,t){"use strict";t.d(n,{W:function(){return h}});var a=t(414924),r=t(785893),i=t(667294),s=t(449613),o=t(584097),c=t(430155),l=t(360014),d=t(599494),u=t(584442),p=t(224320),m=t.n(p),h=function(e){var n,t=e.pinnedMessage,p=e.isRight,h=(0,o.$G)([c.WY.chat]).t,f=(0,u.r)(),g=f.participant,v=f.loadParticipant,_=f.participantsMap;return(0,i.useEffect)((function(){t&&t.pinnedBy&&(_.has(t.pinnedBy)||v(t.pinnedBy))}),[v,_,t]),t?(0,r.jsxs)("div",{className:(0,s.cn)(m().pinnedMessageHeader,(0,a.Z)({},m().right,p)),children:[(0,r.jsx)(d.Y,{className:m().pinIcon}),(0,r.jsxs)("p",{className:l.c.platformTextSecondary,"data-qa":"pinned-message-title",children:["".concat(h("".concat(c.WY.chat,":pinned_message.pinned_by"))),t.pinnedBy===(null===g||void 0===g?void 0:g.id)?"".concat(h("".concat(c.WY.chat,":pinned_message.you"))):null===(n=_.get(t.pinnedBy||0))||void 0===n?void 0:n.fullName]})]}):null}},450465:function(e,n,t){"use strict";t.d(n,{F:function(){return f}});var a=t(414924),r=t(785893),i=t(449613),s=t(584097),o=t(430155),c=t(360014),l=t(626042),d=t(269396),u=t(94923),p=function(e){return(0,r.jsxs)(u.s,(0,d.Z)((0,l.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:[(0,r.jsx)("g",{id:"Icon-save-bookmark-fill",clipPath:"url(#clip0_72920_66982)",children:(0,r.jsx)("path",{id:"Vector",d:"M12.6667 1.33301H3.33334C3.15653 1.33301 2.98696 1.40325 2.86193 1.52827C2.73691 1.65329 2.66667 1.82286 2.66667 1.99967V14.7617C2.66672 14.8212 2.68271 14.8797 2.71299 14.9309C2.74328 14.9822 2.78674 15.0244 2.83887 15.0532C2.891 15.082 2.94988 15.0963 3.00941 15.0946C3.06893 15.0929 3.12692 15.0754 3.17734 15.0437L8 12.0197L12.8227 15.0443C12.8731 15.0761 12.9312 15.0936 12.9908 15.0953C13.0504 15.097 13.1093 15.0826 13.1614 15.0537C13.2136 15.0249 13.257 14.9825 13.2873 14.9312C13.3175 14.8798 13.3334 14.8213 13.3333 14.7617V1.99967C13.3333 1.82286 13.2631 1.65329 13.1381 1.52827C13.0131 1.40325 12.8435 1.33301 12.6667 1.33301Z",fill:"currentColor"})}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0_72920_66982",children:(0,r.jsx)("rect",{width:"16",height:"16",fill:"white",transform:"translate(0 -0.000244141)"})})})]}))},m=t(168104),h=t.n(m),f=function(e){var n=e.savedMessage,t=e.isRight,l=(0,s.$G)([o.WY.chat]).t;return n?(0,r.jsxs)("div",{className:(0,i.cn)(h().savedMessageHeader,(0,a.Z)({},h().right,t)),children:[(0,r.jsx)(p,{className:h().savedIcon}),(0,r.jsx)("p",{className:c.c.platformTextSecondary,"data-qa":"saved-message-header",children:"".concat(l("".concat(o.WY.chat,":saved_message_header.saved")))})]}):null}},26403:function(e,n,t){"use strict";t.d(n,{e:function(){return Ne}});var a=t(414924),r=t(785893),i=t(667294),s=t(449613),o=t(584097),c=t(430155),l=t(498912),d=t(360014),u=t(225372),p=t(626042),m=t(366252),h=t(666229),f=t(626654),g=t(331778),v=t(192399),_=t(484983),x=t(952496),C=t(583575),b=t(593507),j=t.n(b),w=function(e){var n=e.text,t=e.tooltipText,a=e.renderIcon,i=e.onButtonClick,s=(0,_.r)(),o=s.close,c=s.open;return(0,r.jsxs)("div",{className:j().wrapper,onMouseEnter:c,onMouseLeave:o,children:[(0,r.jsxs)("div",{className:j().textWithIcon,children:[a&&(0,r.jsx)("span",{children:a()}),(0,r.jsx)("p",{className:(0,h.cn)(d.c.platformTextSecondary,j().text),children:n})]}),(0,r.jsx)("div",{className:j().buttonWrapper,children:(0,r.jsx)(x.q,{className:j().button,content:n,mode:C.qo.TransparentLight,tooltipText:t,onClick:i})})]})},M=t(269396),I=t(94923),P=function(e){return(0,r.jsx)(I.s,(0,M.Z)((0,p.Z)({},e),{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M14 14.252v2.09A6 6 0 006 22l-2-.001a8 8 0 0110-7.747zM12 13c-3.315 0-6-2.685-6-6s2.685-6 6-6 6 2.685 6 6-2.685 6-6 6zm0-2c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm7.418 6h3.586v2h-3.586l1.829 1.828-1.414 1.415L15.59 18l4.243-4.243 1.414 1.415L19.418 17z",fill:"currentColor"})}))},S=t(982866),k=t(622831),T=t(929053),N=t(13115),W=t.n(N),L=function(e){var n=e.email,t=(0,o.$G)([c.WY.chat]).t,a=(0,i.useCallback)((function(){k.w.sendEvent(k.w.events.impersonateParticipantButtonClicked)}),[]),s=(0,i.useCallback)((function(){return(0,r.jsx)(P,{className:W().button})}),[]);return(0,r.jsx)(S.eE,{text:t("".concat(c.WY.chat,":tooltips.impersonate_participant")),widthMode:S.X3.Max,children:(0,r.jsx)(C.zx,{target:"_blank",href:"".concat(T.Z.auth.signInAsUser,"?email=").concat(n),mode:C.zx.mode.TransparentLight,onClick:a,LeftIcon:s})})},y=t(595605),B=t(741548),R=t(528559),Z=t(870055),A=t(825264),E=t(646105),O=t.n(E),D=function(e){var n=e.participant,t=e.isAuth,a=(0,o.$G)([c.WY.chat]).t,s=[(0,v.Ye)(A.y.PersonalDataRead),(0,v.Ye)(A.y.Impersonate)],l=s[0],u=s[1],p=(0,i.useCallback)((function(){k.w.sendEvent(k.w.events.participantEmailCopied)}),[]),m=(0,i.useMemo)((function(){return n.role===Z._bo.Admin?R.hA:B.f}),[n]),f=(0,i.useCallback)((function(){return(0,r.jsx)(y.B,{className:O().detailIcon})}),[]);return(0,r.jsxs)("div",{className:O().wrapper,children:[(0,r.jsxs)("div",{className:O().nameWrapper,children:[(0,r.jsx)("p",{className:(0,h.cn)(d.c.platformH3,O().name),children:n.username}),!t&&u&&n.email&&(0,r.jsx)(L,{email:n.email})]}),(0,r.jsxs)("div",{className:O().detail,children:[(0,r.jsx)(m,{className:O().detailIcon}),(0,r.jsx)("p",{className:d.c.platformTextSecondary,children:a("".concat(c.WY.chat,":role.").concat(n.role))})]}),l&&n.email&&(0,r.jsx)("div",{className:O().textWithCopyButton,children:(0,r.jsx)(w,{text:n.email,tooltipText:a("".concat(c.WY.common,":tooltips.copy_email")),onButtonClick:p,renderIcon:f})})]})},V=t(594766),z=t(10253),Y=t(307297),F=t(937878),H=t(273359);function U(){var e=(0,Y.Z)(["\n    query participantLeaderboardAndStreakInfo($userId: Int!) {\n  leaderboardUser(userId: $userId) {\n    userId\n    xp\n    totalXP\n    currentStreakActiveDaysCount\n    league {\n      type\n    }\n  }\n}\n    "]);return U=function(){return e},e}var q=(0,F.Ps)(U());var $,G=function(e){var n,t=(0,z.Z)(H.t(q,n),2),a=t[0],r=t[1],s=r.data,o=r.loading;(0,i.useEffect)((function(){s||a({variables:{userId:e}})}),[a,s,e]);var c=(0,i.useMemo)((function(){return(null===s||void 0===s?void 0:s.leaderboardUser)?{activeStreakDays:s.leaderboardUser.currentStreakActiveDaysCount,totalXp:s.leaderboardUser.totalXP,currentLeagueXp:s.leaderboardUser.xp,currentLeagueType:s.leaderboardUser.league.type}:null}),[s]);return(0,i.useMemo)((function(){return{loading:o,leaderboardAndStreakInfo:c}}),[o,c])},Q=t(134744),X=t(818369),J=t(49583),K=t(398498),ee=t(287258),ne=t(360432),te=t(311780),ae=t(741360),re=t(217820),ie=($={},(0,a.Z)($,Z.oMY.Bronze,{icon:(0,r.jsx)(K.T,{cupMode:ee.n6.Bronze}),titleCode:"leaderboard.league_bronze"}),(0,a.Z)($,Z.oMY.Silver,{icon:(0,r.jsx)(K.T,{cupMode:ee.n6.Silver}),titleCode:"leaderboard.league_silver"}),(0,a.Z)($,Z.oMY.Gold,{icon:(0,r.jsx)(K.T,{cupMode:ee.n6.Gold}),titleCode:"leaderboard.league_gold"}),(0,a.Z)($,Z.oMY.Platinum,{titleCode:"leaderboard.league_platinum",icon:(0,r.jsx)(ne.j,{})}),(0,a.Z)($,Z.oMY.Newbie,{titleCode:"leaderboard.league_newbie",icon:(0,r.jsx)(re.j,{})}),(0,a.Z)($,Z.oMY.Lead,{titleCode:"leaderboard.league_lead",icon:(0,r.jsx)(te.E,{})}),(0,a.Z)($,Z.oMY.FullTime,{titleCode:"leaderboard.league_fulltime",icon:(0,r.jsx)(ae.M,{})}),$),se=t(685585),oe=t.n(se),ce=function(e){var n=e.userId,t=G(n),a=t.leaderboardAndStreakInfo,i=t.loading,s=(0,o.$G)(c.WY.chat).t;if(i)return(0,r.jsx)("div",{className:oe().container,children:(0,r.jsx)(Q.a,{loading:i})});if(!a)return null;var l=a.activeStreakDays,d=a.totalXp,u=a.currentLeagueType,p=a.currentLeagueXp,m=ie[u],f=m.icon,g=m.titleCode;return(0,r.jsxs)("div",{className:oe().container,children:[(0,r.jsx)(Q.a,{loading:i}),(0,r.jsxs)("div",{className:oe().block,children:[(0,r.jsxs)("div",{className:oe().titleWrapper,children:[(0,r.jsx)("div",{className:(0,h.cn)(oe().iconWrapper,oe().iconRed),children:(0,r.jsx)(X.z,{})}),(0,r.jsx)("h4",{className:oe().blockTitle,children:l})]}),(0,r.jsx)("p",{className:oe().description,children:s("".concat(c.WY.chat,":streaks.streaks_count"))})]}),(0,r.jsxs)("div",{className:oe().block,children:[(0,r.jsxs)("div",{className:oe().titleWrapper,children:[(0,r.jsx)("div",{className:oe().iconWrapper,children:f}),(0,r.jsx)("h4",{className:oe().blockTitle,children:s("".concat(c.WY.chat,":").concat(g))})]}),(0,r.jsx)("p",{className:oe().description,children:s("".concat(c.WY.chat,":leaderboard.league_caption"))})]}),(0,r.jsxs)("div",{className:oe().block,children:[(0,r.jsxs)("div",{className:oe().titleWrapper,children:[(0,r.jsx)("div",{className:(0,h.cn)(oe().iconWrapper,oe().iconGreen),children:(0,r.jsx)(J.$,{})}),(0,r.jsx)("h4",{className:oe().blockTitle,children:d})]}),(0,r.jsx)("p",{className:oe().description,children:s("".concat(c.WY.chat,":leaderboard.total_xp_caption"))})]}),(0,r.jsxs)("div",{className:oe().block,children:[(0,r.jsxs)("div",{className:oe().titleWrapper,children:[(0,r.jsx)("div",{className:(0,h.cn)(oe().iconWrapper,oe().iconYellow),children:(0,r.jsx)(J.$,{})}),(0,r.jsx)("h4",{className:oe().blockTitle,children:p})]}),(0,r.jsx)("p",{className:oe().description,children:s("".concat(c.WY.chat,":leaderboard.current_xp_caption"))})]})]})},le=t(194298),de=t(668923),ue=t(429209),pe=t.n(ue),me=function(e){var n,t=e.participant,s=e.isAuth,l=(0,o.$G)([c.WY.chat]).t,d=(0,m.x)(),u=(0,i.useCallback)((function(){k.w.sendEvent(k.w.events.editProfileButtonClicked,{chatId:t.chatId})}),[t.chatId]),v=(0,i.useCallback)((function(){k.w.sendEvent(k.w.events.participantAvatarUpdated,{chatId:t.chatId});var e=d.readFragment({fragmentName:"AuthUser",fragment:de.e}),n=null===e||void 0===e?void 0:e.avatar;d.cache.modify({id:d.cache.identify(t),fields:(0,p.Z)({},n&&{avatar:function(){return n}})})}),[d,t]);return(0,r.jsxs)("div",{className:pe().container,children:[(0,r.jsxs)("div",{className:pe().baseInfoWrapper,children:[(0,r.jsxs)("div",{className:(0,h.cn)(pe().avatarWrapper,(0,a.Z)({},pe().avatarWrapperExpanded,s)),children:[(0,r.jsx)(f.Y,{avatar:t.avatar,fullName:null!==(n=t.username)&&void 0!==n?n:"",userId:t.userId,size:48,userProfileOpener:le.Kl.ChatParticipantInfo}),s&&(0,r.jsx)(g.g,{avatarSize:48,onCompleted:v})]}),(0,r.jsx)(D,{participant:t,isAuth:s})]}),(0,r.jsx)(ce,{userId:t.userId}),s&&(0,r.jsx)("div",{className:pe().editButtonWrapper,children:(0,r.jsx)(C.zx,{mode:C.zx.mode.Secondary,size:C.zx.size.Large,href:"".concat(T.Z.user.profile),text:l("".concat(c.WY.chat,":edit_profile")),LeftIcon:V.y,onClick:u,hasFullWidth:!0,target:"_blank"})})]})},he=t(584442),fe=function(e){var n=e.chatParticipantId,t=(0,he.r)(),a=t.participantsMap,i=t.participant,s=a.get(n);return s?(0,r.jsx)(me,{participant:s,isAuth:n===(null===i||void 0===i?void 0:i.id)}):null},ge=t(826889),ve=t(269854),_e=t(531574),xe=t(174546),Ce=t(602064),be=t(897367),je=t(906583),we=t(971978),Me=t(638506),Ie=t(359483),Pe=t(450465),Se=t(936301),ke=t(336783),Te=t.n(ke),Ne=(0,i.memo)((function(e){var n,t=e.senderId,p=e.showControls,m=e.hideControls,h=e.controls,f=e.bottomPanel,g=e.editing,v=e.isCorrect,_=e.orientation,x=e.children,C=e.message,b=e.renderXPTag,j=(0,o.$G)([c.WY.chat]).t,w=(0,be.h)().isEnabled(je.A.ChatDirectMessages),M=(0,l.f)().config,I=(0,Se.l)(),P=I.isSavedMessagesPageOpen,k=I.isPinnedMessagesPageOpen,T=(0,he.r)(),N=T.participant,W=T.participantsMap,L=T.loadParticipant,y=W.get(t),B=!!N&&N.id===t,R=(0,i.useMemo)((function(){return _||(B?ve.gI.Right:ve.gI.Left)}),[_,B])===ve.gI.Right,Z=function(e,n){var t=(0,i.useRef)(null);return(0,i.useEffect)((function(){var a=t.current;if(a&&e&&n)return a.addEventListener("mouseenter",e),a.addEventListener("mouseleave",n),function(){a.removeEventListener("mouseenter",e),a.removeEventListener("mouseleave",n)}}),[e,n]),t}(p,m),A=null!==(n=null===y||void 0===y?void 0:y.username)&&void 0!==n?n:j("".concat(c.WY.chat,":contacts_hidden_name")),E=(0,i.useMemo)((function(){return y?(0,r.jsxs)("div",{className:Te().sender,"data-qa":"sender-name",children:[(0,r.jsx)(Me.v,{userId:y.userId,username:A,userProfileOpener:le.Kl.ChatMessage}),b&&b()]}):(0,r.jsx)(xe.b,{})}),[y,A,b]),O=(0,i.useMemo)((function(){if(!y)return(0,r.jsx)(_e.o,{});var e=(0,r.jsx)(ge.O,{size:40,participant:y,withLeagueFrame:!0});return(null===M||void 0===M?void 0:M.shouldHideProfilePreview)?e:(0,r.jsx)(S.eE,{renderWithPortal:!0,shouldCloseOnInteraction:!0,shouldIncreaseHoverArea:!0,horizontalPosition:Ce.OI.RightSide,verticalPosition:Ce.xE.Bottom,orientation:Ce.oL.Aside,text:w?(0,r.jsx)(we.P,{userId:y.userId}):(0,r.jsx)(fe,{chatParticipantId:y.id}),dataQa:"chat-participant-avatar-tooltip",children:e})}),[y,w,null===M||void 0===M?void 0:M.shouldHideProfilePreview]);(0,i.useEffect)((function(){(null===y||void 0===y?void 0:y.id)||L(t)}),[L,t,null===y||void 0===y?void 0:y.id]);var D=(null===C||void 0===C?void 0:C.pinnedBy)&&!k&&!P,V=(null===C||void 0===C?void 0:C.isSaved)&&!P;return(0,r.jsxs)("div",{"data-qa":"message-wrapper",className:(0,s.cn)(Te().messageWrapper,(0,a.Z)({},Te().savedMessage,V),(0,a.Z)({},Te().pinnedMessage,D)),children:[D&&(0,r.jsx)(u.W,{pinnedMessage:C,isRight:R}),V&&(0,r.jsx)(Pe.F,{savedMessage:C,isRight:R}),(0,r.jsxs)("div",{className:(0,s.cn)(Te().messageContent,(0,a.Z)({},Te().rightMode,R)),children:[(0,r.jsx)("div",{className:Te().avatar,children:O}),(0,r.jsxs)("div",{"data-onboarding":Ie.YU.MESSAGE_WRAPPER,ref:Z,className:(0,s.cn)(Te().container,"chatMessageWrapper",(0,a.Z)({},Te().editing,g)),children:[(0,r.jsxs)("div",{className:(0,s.cn)(Te().message,(0,a.Z)({},Te().correct,v),(0,a.Z)({},Te().wrong,!1===v)),"data-qa":"message-correct-".concat(v),children:[(0,r.jsx)("div",{className:(0,s.cn)(d.c.platformH4,"mb-4"),children:E}),x,h]}),f]})]})]})}))},421723:function(e,n,t){"use strict";t.d(n,{s:function(){return d},W:function(){return o}});var a=t(785893),r=t(190359),i=t(897985),s=t.n(i),o=function(e){var n=e.children;return(0,a.jsx)(r.r,{children:(0,a.jsx)("div",{className:s().emptyChatBlock,children:n})})},c=t(394839),l=t(824419),d=function(e){var n=e.chubbsType,t=e.textPrimary,r=e.textSecondary,i=e.backgroundColor,s=void 0===i?function(e){switch(e){case c.X.Typing:case c.X.Undefined:return c.f.BrandSecondary;case c.X.Phone:return c.f.PurpleSecondary;case c.X.Send:case c.X.Fine:return c.f.WarningSecondary;default:return c.f.Neutral}}(n):i;return(0,a.jsx)(o,{children:(0,a.jsx)(l.f,{chubbsType:n,textPrimary:t,textSecondary:r,backgroundColor:s})})}},531574:function(e,n,t){"use strict";t.d(n,{o:function(){return s}});var a=t(785893),r=t(374905),i=t.n(r),s=function(e){var n=e.size,t=void 0===n?40:n;return(0,a.jsx)("div",{className:i().avatar,style:{"--size":"".concat(t,"px")}})}},174546:function(e,n,t){"use strict";t.d(n,{b:function(){return s}});var a=t(785893),r=t(306097),i=t.n(r),s=function(){return(0,a.jsx)("div",{className:i().namePlaceholder})}},590719:function(e,n,t){"use strict";t.d(n,{n:function(){return o}});var a=t(785893),r=t(892101),i=t(584442),s=t(667294),o=function(e){var n=e.authParticipant,t=e.children,o=e.chatId,c=e.shouldLoadAllParticipants,l=void 0!==c&&c,d=(0,r.B)(o,{shouldLoadAllParticipants:l}),u=d.loadParticipantsByIdsCallback,p=d.participantsMap,m=d.loading,h=function(e){var n=(0,s.useRef)(null),t=(0,s.useRef)(new Set),a=(0,s.useState)(!0),r=a[0],i=a[1];return{loadParticipant:(0,s.useCallback)((function(a){i(!0),t.current.add(a),n.current&&clearTimeout(n.current),n.current=setTimeout((function(){var n=Array.from(t.current);t.current.clear(),i(!1),e(n)}),250)}),[e]),startedCollectingData:r}}(u),f=h.loadParticipant,g=h.startedCollectingData;return(0,a.jsx)(i.w,{participant:n,participantsMap:p,loadParticipant:f,loading:m||g,children:t})}},498912:function(e,n,t){"use strict";t.d(n,{B:function(){return d},f:function(){return u}});var a=t(785893),r=t(667294),i=t(870055),s=t(269854),o=t(586347),c={id:-1,name:"",kind:i.CL7.Regular,accessType:i.$CB.Private},l=(0,r.createContext)({chat:c,threadId:null,openThread:o.Bi,closeThread:o.Bi,chatTypename:void 0,config:s.V9,chatInputRef:null,setChatInputRef:o.Bi,hasRepliedInChat:!0,setHasRepliedInChat:o.Bi,isStudentViewEnabled:!1,toggleStudentView:o.Bi,chatConnection:null,chatLesson:null,selectedExtension:s.cd.Statistics,selectExtension:o.Bi,openedGuidelineId:null,openGuideline:o.Bi,closeGuideline:o.Bi}),d=function(e){var n=e.children,t=e.chat,i=e.threadId,s=e.openThread,o=e.closeThread,c=e.chatTypename,d=e.config,u=e.chatInputRef,p=e.setChatInputRef,m=e.hasRepliedInChat,h=e.setHasRepliedInChat,f=e.isStudentViewEnabled,g=e.toggleStudentView,v=e.chatConnection,_=e.chatLesson,x=e.selectedExtension,C=e.selectExtension,b=e.openedGuidelineId,j=e.openGuideline,w=e.closeGuideline,M=(0,r.useMemo)((function(){return{chat:t,threadId:i,openThread:s,closeThread:o,chatTypename:c,config:d,chatInputRef:u,setChatInputRef:p,hasRepliedInChat:m,setHasRepliedInChat:h,isStudentViewEnabled:f,toggleStudentView:g,chatConnection:v,chatLesson:_,selectedExtension:x,selectExtension:C,openedGuidelineId:b,openGuideline:j,closeGuideline:w}}),[t,i,s,o,c,d,u,p,m,h,f,g,v,_,x,C,b,j,w]);return(0,a.jsx)(l.Provider,{value:M,children:n})},u=function(){return(0,r.useContext)(l)}},584698:function(e,n,t){"use strict";t.d(n,{W:function(){return c},_:function(){return l}});var a=t(999534),r=t(785893),i=t(667294),s=t(586347),o=(0,i.createContext)({messageToDelete:null,messageToUpdate:null,updateMessage:s.Bi,cancelUpdating:s.Bi,deleteMessage:s.Bi,cancelDeleting:s.Bi}),c=function(e){var n=e.children,t=(0,a.Z)(e,["children"]),s=t.messageToDelete,c=t.messageToUpdate,l=t.updateMessage,d=t.cancelUpdating,u=t.deleteMessage,p=t.cancelDeleting,m=(0,i.useMemo)((function(){return{messageToDelete:s,messageToUpdate:c,updateMessage:l,cancelUpdating:d,deleteMessage:u,cancelDeleting:p}}),[s,c,l,d,u,p]);return(0,r.jsx)(o.Provider,{value:m,children:n})},l=function(){return(0,i.useContext)(o)}},936090:function(e,n,t){"use strict";t.d(n,{V:function(){return _}});var a=t(10253),r=t(667294),i=t(307297),s=t(937878),o=t(650319);function c(){var e=(0,i.Z)(["\n    mutation addReactionToStack($messageId: Int!, $reactionShortcode: String!) {\n  addReactionToStack(messageId: $messageId, reactionShortcode: $reactionShortcode) {\n    reactionStackId\n  }\n}\n    "]);return c=function(){return e},e}var l=(0,s.Ps)(c());var d=t(81310),u=t(858293),p=t(622831),m=t(846525),h=function(e){var n,t=(0,a.Z)(o.D(l,n),2),i=t[0],s=t[1],c=(0,m.R)();return[(0,r.useCallback)((function(n){p.w.sendEvent(p.w.events.reactionAdded,{chatLocation:c}),i({variables:{messageId:e,reactionShortcode:n},optimisticResponse:{addReactionToStack:{reactionStackId:(0,u.Xz)({messageId:e,reactionShortcode:n})}},update:function(t,a){var r=a.data,i=null===r||void 0===r?void 0:r.addReactionToStack.reactionStackId;if(i){var s=new d.V(t),o=s.getStackById(i);(null===o||void 0===o?void 0:o.authParticipantReacted)||(o?s.incrementStackReactionsCount(i,{isAuthUser:!0}):s.createStack({id:i,messageId:e,reactionShortcode:n,authParticipantReacted:!0}))}}})}),[i,e,c]),s]};function f(){var e=(0,i.Z)(["\n    mutation deleteReactionFromStack($messageId: Int!, $reactionShortcode: String!) {\n  deleteReactionFromStack(\n    messageId: $messageId\n    reactionShortcode: $reactionShortcode\n  ) {\n    reactionStackId\n  }\n}\n    "]);return f=function(){return e},e}var g=(0,s.Ps)(f());var v=function(e){var n,t=(0,a.Z)(o.D(g,n),2),i=t[0],s=t[1];return[(0,r.useCallback)((function(n){return i({variables:{messageId:e,reactionShortcode:n},optimisticResponse:{deleteReactionFromStack:{reactionStackId:(0,u.Xz)({messageId:e,reactionShortcode:n})}},update:function(e,n){var t=n.data,a=null===t||void 0===t?void 0:t.deleteReactionFromStack.reactionStackId;if(a){var r=new d.V(e);r.hasAuthUserReacted(a)&&r.decrementStackReactionsCount(a,{isAuthUser:!0})}}})}),[i,e]),s]},_=function(e,n){var t=(0,a.Z)(h(e),1)[0],i=(0,a.Z)(v(e),1)[0],s=(0,r.useMemo)((function(){return n.reduce((function(e,n){return e.set(n.reactionShortcode,n)}),new Map)}),[n]),o=(0,r.useCallback)((function(e){var n;(null===(n=s.get(e))||void 0===n?void 0:n.authParticipantReacted)?i(e):t(e)}),[t,i,s]);return o}},51098:function(e,n,t){"use strict";t.d(n,{p:function(){return c}});var a=t(307297),r=t(937878),i=t(650319);function s(){var e=(0,a.Z)(["\n    mutation deleteChatMessage($id: Int!) {\n  deleteChatMessage(id: $id)\n}\n    "]);return s=function(){return e},e}var o=(0,r.Ps)(s());function c(e){return i.D(o,e)}},168497:function(e,n,t){"use strict";t.d(n,{X_:function(){return c}});var a=t(307297),r=t(937878),i=t(506388);function s(){var e=(0,a.Z)(["\n    query reactedParticipants($messageId: Int!, $reactionShortcode: String!, $limit: Int) {\n  reactedParticipants(\n    messageId: $messageId\n    reactionShortcode: $reactionShortcode\n    limit: $limit\n  ) {\n    id\n    username\n  }\n}\n    "]);return s=function(){return e},e}var o=(0,r.Ps)(s());function c(e){return i.aM(o,e)}},575342:function(e,n,t){"use strict";t.d(n,{v:function(){return o}});var a=t(498912),r=t(192399),i=t(825264),s=t(870055),o=function(){var e=(0,a.f)().chat;return(0,r.Ye)(i.y.ChatWrite)||(null===e||void 0===e?void 0:e.kind)===s.CL7.Direct}},305581:function(e,n,t){"use strict";t.d(n,{w:function(){return r}});var a=t(667294),r=function(){var e=(0,a.useState)(!1),n=e[0],t=e[1];return{isControlsVisible:n,showControls:(0,a.useCallback)((function(){t(!0)}),[]),hideControls:(0,a.useCallback)((function(){t(!1)}),[])}}},892101:function(e,n,t){"use strict";t.d(n,{B:function(){return f}});var a=t(10253),r=t(667294),i=t(366252),s=t(307297),o=t(937878),c=t(164582),l=t(273359);function d(){var e=(0,s.Z)(["\n    query participantsByIds($ids: [Int!]!) {\n  participantsByIds(ids: $ids) {\n    ...ParticipantBase\n  }\n}\n    ",""]);return d=function(){return e},e}var u=(0,o.Ps)(d(),c.d);var p=t(26439),m=t(850213),h=t(777559),f=function(e,n){var t,s=n.shouldLoadAllParticipants,o=(0,i.x)(),c=(0,p.fM)({variables:{chatId:e},fetchPolicy:"cache-only"}).data,d=(0,r.useMemo)((function(){if(!(null===c||void 0===c?void 0:c.chatParticipants))return new Map;var e=c.chatParticipants;return new Map(e.map((function(e){return[e.id,e]})))}),[null===c||void 0===c?void 0:c.chatParticipants]),f=(0,a.Z)((t={onCompleted:function(n){var t=n.participantsByIds;(0,h._A)({store:o.cache,participants:t,chatId:e})}},l.t(u,t)),2),g=f[0],v=f[1].loading,_=(0,a.Z)((0,m.rP)({onCompleted:function(n){var t=n.chatParticipants;(0,h._A)({store:o.cache,participants:t,chatId:e})}}),1),x=_[0],C=(0,r.useCallback)((function(e){var n=e.filter((function(e){return!d.has(e)}));n.length&&g({variables:{ids:n}})}),[g,d]);return(0,r.useEffect)((function(){s&&x({variables:{chatId:e}})}),[s,x,e]),{loadParticipantsByIdsCallback:C,participantsMap:d,loading:v}}},16920:function(e,n,t){"use strict";t.d(n,{N:function(){return m}});var a=t(626042),r=t(269396),i=t(10253),s=t(667294),o=t(307297),c=t(937878),l=t(84870),d=t(650319);function u(){var e=(0,o.Z)(["\n    mutation pinChatMessage($id: Int!) {\n  pinChatMessage(id: $id) {\n    ...AbstractMessage\n  }\n}\n    ",""]);return u=function(){return e},e}var p=(0,c.Ps)(u(),l.R);var m=function(){var e,n=(0,i.Z)(d.D(p,e),2),t=n[0],o=n[1];return[(0,s.useCallback)((function(e){var n=e.message,i=e.participantId,s=n.id;return t({variables:{id:s},optimisticResponse:{pinChatMessage:(0,r.Z)((0,a.Z)({},n),{pinnedBy:i})}})}),[t]),o]}},232132:function(e,n,t){"use strict";t.d(n,{G:function(){return h}});var a=t(626042),r=t(269396),i=t(10253),s=t(667294),o=t(269854),c=t(307297),l=t(937878),d=t(963775),u=t(650319);function p(){var e=(0,c.Z)(["\n    mutation rateOpenQuestionAnswers($ids: [Int!]!, $isCorrect: Boolean!) {\n  rateOpenQuestionAnswers(ids: $ids, isCorrect: $isCorrect) {\n    ...OpenQuestionAnswer\n  }\n}\n    ",""]);return p=function(){return e},e}var m=(0,l.Ps)(p(),d.a);var h=function(){var e,n=(0,i.Z)(u.D(m,e),2),t=n[0],c=n[1];return[(0,s.useCallback)((function(e,n){return t({variables:{ids:e.map((function(e){return e.id})),isCorrect:n},optimisticResponse:{rateOpenQuestionAnswers:e.map((function(e){return(0,r.Z)((0,a.Z)({},e),{isCorrect:n})}))},update:function(n,t){var i=t.data,s=null===i||void 0===i?void 0:i.rateOpenQuestionAnswers;s&&e.forEach((function(e,t){var i=s[t],c=n.identify(i);n.writeFragment({id:c,data:(0,r.Z)((0,a.Z)({},e),{isCorrect:i.isCorrect}),fragment:d.a,fragmentName:o.i_.OpenQuestionAnswer})}))}})}),[t]),c]}},551579:function(e,n,t){"use strict";t.d(n,{e:function(){return f}});var a=t(626042),r=t(269396),i=t(10253),s=t(667294),o=t(366252),c=t(307297),l=t(937878),d=t(84870),u=t(650319);function p(){var e=(0,c.Z)(["\n    mutation saveChatMessage($messageId: Int!) {\n  saveChatMessage(messageId: $messageId) {\n    ...AbstractMessage\n  }\n}\n    ",""]);return p=function(){return e},e}var m=(0,l.Ps)(p(),d.R);var h=t(133145),f=function(){var e,n=(0,i.Z)(u.D(m,e),2),t=n[0],c=n[1],l=(0,o.x)();return[(0,s.useCallback)((function(e){return t({variables:{messageId:e.id},optimisticResponse:{saveChatMessage:(0,r.Z)((0,a.Z)({},e),{isSaved:!0})},update:function(e,n){var t=n.data,a=null===t||void 0===t?void 0:t.saveChatMessage;a&&(0,h.TX)(l,a)}})}),[l,t]),c]}},73983:function(e,n,t){"use strict";t.d(n,{c:function(){return m}});var a=t(626042),r=t(269396),i=t(10253),s=t(667294),o=t(307297),c=t(937878),l=t(84870),d=t(650319);function u(){var e=(0,o.Z)(["\n    mutation unpinChatMessage($id: Int!) {\n  unpinChatMessage(id: $id) {\n    ...AbstractMessage\n  }\n}\n    ",""]);return u=function(){return e},e}var p=(0,c.Ps)(u(),l.R);var m=function(){var e,n=(0,i.Z)(d.D(p,e),2),t=n[0],o=n[1];return[(0,s.useCallback)((function(e){var n=e.message,i=n.id;return t({variables:{id:i},optimisticResponse:{unpinChatMessage:(0,r.Z)((0,a.Z)({},n),{pinnedBy:null})}})}),[t]),o]}},144507:function(e,n,t){"use strict";t.d(n,{Y:function(){return h}});var a=t(626042),r=t(269396),i=t(10253),s=t(667294),o=t(307297),c=t(937878),l=t(84870),d=t(650319);function u(){var e=(0,o.Z)(["\n    mutation unsaveChatMessage($messageId: Int!) {\n  unsaveChatMessage(messageId: $messageId) {\n    ...AbstractMessage\n  }\n}\n    ",""]);return u=function(){return e},e}var p=(0,c.Ps)(u(),l.R);var m=t(133145),h=function(){var e,n=(0,i.Z)(d.D(p,e),2),t=n[0],o=n[1];return[(0,s.useCallback)((function(e){return t({variables:{messageId:e.id},optimisticResponse:{unsaveChatMessage:(0,r.Z)((0,a.Z)({},e),{isSaved:!1})},update:function(e,n){var t=n.data,a=null===t||void 0===t?void 0:t.unsaveChatMessage;a&&(0,m.KG)(e,a)}})}),[t]),o]}},383031:function(e,n,t){"use strict";t.d(n,{y:function(){return l}});var a=t(785893),r=t(667294),i=t(310139),s=t(570664),o=t(85730),c=t.n(o),l=function(e){var n=e.onEmojiSelect,t=e.requestClose,o=e.closeModalOnOptionClick,l=void 0!==o&&o,d=(0,r.useCallback)((function(e){return(0,a.jsx)("div",{className:c().contentContainer,children:(0,a.jsx)(s.h,{onEmojiSelect:function(t){n(t),l&&e()},withAutoFocus:!1,borderless:!0})})}),[n,l]);return(0,a.jsx)(i.R,{requestClose:t,withPaddings:!1,renderContent:d})}},111324:function(e,n,t){"use strict";t.d(n,{k:function(){return K}});var a=t(147568),r=t(10253),i=t(629815),s=t(197582),o=t(785893),c=t(667294),l=t(584097),d=t(666229),u=t(430155),p=t(971543),m=t(122301),h=t(786867),f=t(970036),g=t(584698),v=t(858293),_=t(584442),x=t(766104),C=t(594766),b=t(830464),j=t(16920),w=t(73983),M=t(599494),I=t(929053),P=t(626042),S=t(269396),k=t(94923),T=function(e){return(0,o.jsx)(k.s,(0,S.Z)((0,P.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,o.jsx)("path",{d:"M10 8.5V4.5L3 11.5L10 18.5V14.4C15 14.4 18.5 16 21 19.5C20 14.5 17 9.5 10 8.5Z",fill:"currentColor"})}))},N=t(629670),W=t(383031),L=t(484983),y=t(583575),B=t(537634),R=t(721392),Z=t(859223),A=t(586347),E=t(477460),O=t.n(E),D=function(e){var n=e.showEmojiPicker,t=e.onEmojiSelect,a=e.closeModal,r=function(){var e=(0,c.useCallback)((function(){return Math.floor((window.innerWidth-40)/52)}),[]);return(0,c.useMemo)((function(){var n,t=Z.categories,a=Z.emojis,r=(null===(n=t.find((function(e){return"frequent"===e.id})))||void 0===n?void 0:n.emojis)||[],i=e();return r.reduce((function(e,n){if(e.length<i){var t=a[n];if(!(0,A.Gg)(t)||!(0,A.Gg)(t.skins[0]))return e;e.push({id:t.id,name:t.name,keywords:t.keywords,native:t.skins[0].native,shortcodes:":".concat(n,":")})}return e}),[])}),[e])}();return(0,o.jsxs)("div",{className:O().emojiContainer,children:[r.map((function(e){return(0,o.jsx)("div",{className:O().emojiWrapper,children:(0,o.jsx)(y.zx,{className:O().emojiButton,"data-qa":"reactions-container-emoji-button",mode:y.zx.mode.TransparentLight,LeftIcon:function(){return(0,o.jsx)(R.d,{shortcodes:e.shortcodes,size:16})},onClick:function(){t(e),a()}})},e.id)})),(0,o.jsx)(y.zx,{onClick:n,LeftIcon:function(){return(0,o.jsx)(B.u,{className:O().icon})},mode:y.zx.mode.TransparentLight,"data-qa":"reactions-container-add-reaction-button"})]})},V=function(e){var n=e.closeModal,t=e.onEmojiSelect,a=e.modalOptions,r=(0,L.r)({initialState:!1}),i=r.isOpen,s=r.close,l=r.open,d=(0,c.useMemo)((function(){return(0,o.jsx)(D,{showEmojiPicker:l,onEmojiSelect:t,closeModal:n})}),[l,t,n]),u=(0,c.useCallback)((function(){n(),s()}),[n,s]);return i?(0,o.jsx)(W.y,{onEmojiSelect:t,requestClose:u,closeModalOnOptionClick:!0}):(0,o.jsx)(N.W,{emojiPickerPreview:d,options:a,requestClose:n,closeModalOnOptionClick:!0})},z=t(575342),Y=t(638071),F=t(458309),H=t(551579),U=t(144507),q=t(936090),$=t(418795),G=t(780388),Q=t(608151),X=t(636599),J=t.n(X),K=function(e){var n=e.isControlsVisible,t=e.closeModal,P=e.message,S=e.enableChatRedirect,k=void 0!==S&&S,N=e.shouldRenderEditButton,W=void 0===N||N,L=e.shouldRenderOpenThreadButton,y=void 0===L||L,B=(0,l.$G)([u.WY.chat]).t,R=(0,G.B)(),Z=R.language,A=R.subDomain,E=(0,l.tv)().push,O=(0,z.v)(),D=(0,g._)(),X=D.deleteMessage,K=D.updateMessage,ee=(0,_.r)().participant,ne=(0,r.Z)((0,j.N)(),1)[0],te=(0,r.Z)((0,w.c)(),1)[0],ae=(0,r.Z)((0,H.e)(),1)[0],re=(0,r.Z)((0,U.Y)(),1)[0],ie=(null===ee||void 0===ee?void 0:ee.id)===P.senderId,se=(0,v.QF)(P,ee),oe=(0,v.WM)(P.__typename)&&y,ce=(0,c.useCallback)((function(){return(0,$.Z)((0,v.fd)(P),{domain:A,language:Z})}),[P,A,Z]),le=(0,r.Z)((0,p.m)(ce()),2),de=le[0],ue=le[1],pe=de?m.N:h.g,me=(0,c.useCallback)((function(){X(P)}),[P,X]),he=(0,c.useCallback)((function(){K(P)}),[P,K]),fe=(0,c.useCallback)((0,a.Z)((function(){return(0,s.__generator)(this,(function(e){switch(e.label){case 0:return ee?[4,ne({message:P,participantId:ee.id})]:[2];case 1:return e.sent(),[2]}}))})),[P,ee,ne]),ge=(0,c.useCallback)((0,a.Z)((function(){return(0,s.__generator)(this,(function(e){switch(e.label){case 0:return[4,te({message:P})];case 1:return e.sent(),[2]}}))})),[P,te]),ve=(0,c.useCallback)((0,a.Z)((function(){return(0,s.__generator)(this,(function(e){switch(e.label){case 0:return[4,ae(P)];case 1:return e.sent(),[2]}}))})),[P,ae]),_e=(0,c.useCallback)((0,a.Z)((function(){return(0,s.__generator)(this,(function(e){switch(e.label){case 0:return[4,re(P)];case 1:return e.sent(),[2]}}))})),[P,re]),xe=(0,c.useCallback)((0,a.Z)((function(){return(0,s.__generator)(this,(function(e){switch(e.label){case 0:return[4,E((0,v.fd)(P))];case 1:return e.sent(),[2]}}))})),[E,P]),Ce=(0,c.useCallback)((function(){E(I.Z.chat(P.chatId).withParams({threadId:P.id}))}),[P.chatId,P.id,E]),be="reactionStacks"in P?P.reactionStacks:[],je=(0,q.V)(P.id,be),we=(0,c.useCallback)((function(e){je(e.shortcodes)}),[je]),Me=(0,c.useMemo)((function(){return(0,i.Z)(k?[{renderIcon:function(){return(0,o.jsx)(x.$,{className:J().icon})},label:B("".concat(u.WY.chat,":tool_tip.open_in_chat")),onPress:xe}]:Q.LZ).concat((0,i.Z)(oe?[{renderIcon:function(){return(0,o.jsx)(T,{className:J().icon})},label:B("".concat(u.WY.chat,":tool_tip.reply")),onPress:Ce}]:Q.LZ),(0,i.Z)(P.isSaved?Q.LZ:[{renderIcon:function(){return(0,o.jsx)(Y.F,{className:J().icon})},label:B("".concat(u.WY.chat,":saved_message.save_message")),onPress:ve,dataQa:"save-message-button"}]),(0,i.Z)(P.isSaved?[{renderIcon:function(){return(0,o.jsx)(F.y,{className:J().icon})},label:B("".concat(u.WY.chat,":saved_message.unsave_message")),onPress:_e,dataQa:"unsave-message-button"}]:Q.LZ),[{renderIcon:function(){return(0,o.jsx)(pe,{className:J().icon})},label:B("".concat(u.WY.chat,":message.copy_link_button")),onPress:ue}],(0,i.Z)(O&&!P.pinnedBy?[{renderIcon:function(){return(0,o.jsx)(b.D,{className:J().icon})},label:B("".concat(u.WY.chat,":message.pin_button")),onPress:fe,dataQa:"pin-message-button"}]:Q.LZ),(0,i.Z)(O&&P.pinnedBy?[{renderIcon:function(){return(0,o.jsx)(M.Y,{className:J().icon})},label:B("".concat(u.WY.chat,":message.unpin_button")),onPress:ge,dataQa:"unpin-message-button"}]:Q.LZ),(0,i.Z)(ie&&W?[{renderIcon:function(){return(0,o.jsx)(C.y,{className:J().icon})},label:B("".concat(u.WY.chat,":message.edit_button")),onPress:he,dataQa:"edit-message-button"}]:Q.LZ),(0,i.Z)(se?[{renderIcon:function(){return(0,o.jsx)(f.F,{className:(0,d.cn)(J().icon,J().iconDelete)})},label:B("".concat(u.WY.chat,":message.remove_button")),onPress:me,className:J().deleteButton,dataQa:"remove-message-button"}]:Q.LZ))}),[pe,me,ue,k,xe,se,he,ie,fe,O,P.pinnedBy,ge,Ce,oe,W,ve,_e,P.isSaved,B]);return n?(0,o.jsx)(V,{closeModal:t,onEmojiSelect:we,modalOptions:Me}):null}},25886:function(e,n,t){"use strict";t.d(n,{I:function(){return P}});var a=t(414924),r=t(626042),i=t(269396),s=t(999534),o=t(785893),c=t(667294),l=t(449613),d=t(584097),u=t(430155),p=t(360014),m=t(225372),h=t(826889),f=t(584442),g=t(269854),v=t(531574),_=t(174546),x=t(133609),C=t(586347),b=t(718204),j=t(450465),w=t(936301),M=t(964346),I=t.n(M),P=function(e){var n=e.senderId,t=e.controls,M=e.bottomPanel,P=e.editing,S=e.isCorrect,k=e.orientation,T=e.children,N=e.message,W=e.showControls,L=(0,d.$G)([u.WY.chat]).t,y=(0,w.l)(),B=y.isPinnedMessagesPageOpen,R=y.isSavedMessagesPageOpen,Z=(0,f.r)(),A=Z.participant,E=Z.participantsMap,O=Z.loadParticipant,D=E.get(n),V=!!A&&A.id===(null===D||void 0===D?void 0:D.id),z=(0,c.useMemo)((function(){return k||(V?g.gI.Right:g.gI.Left)}),[k,V])===g.gI.Right,Y=(0,c.useMemo)((function(){return W||C.Bi}),[W]),F=(0,x.T)(Y,C.Bi),H=F.isLongPress,U=(0,s.Z)(F,["isLongPress"]),q=(0,c.useMemo)((function(){return D?(0,o.jsx)("div",{className:I().sender,"data-qa":"sender-name",children:(null===D||void 0===D?void 0:D.username)||L("".concat(u.WY.chat,":contacts_hidden_name"))}):(0,o.jsx)(_.b,{})}),[D,L]),$=(0,c.useMemo)((function(){return D?(0,o.jsx)(h.O,{size:40,participant:D,withLeagueFrame:!0}):(0,o.jsx)(v.o,{})}),[D]);(0,c.useEffect)((function(){(null===D||void 0===D?void 0:D.id)||O(n)}),[O,n,null===D||void 0===D?void 0:D.id]);var G=(null===N||void 0===N?void 0:N.pinnedBy)&&!B&&!R,Q=(null===N||void 0===N?void 0:N.isSaved)&&!R;return(0,o.jsxs)("div",(0,i.Z)((0,r.Z)({"data-qa":"message-wrapper",className:(0,l.cn)(I().messageWrapper,(0,a.Z)({},I().savedMessage,Q),(0,a.Z)({},I().pinnedMessage,G),(0,a.Z)({},I().enableMobileSelecting,!(0,b.s)()),(0,a.Z)({},I().longPress,H))},U),{children:[G&&(0,o.jsx)(m.W,{pinnedMessage:N,isRight:z}),Q&&(0,o.jsx)(j.F,{savedMessage:N,isRight:z}),(0,o.jsxs)("div",{className:(0,l.cn)(I().messageContent,(0,a.Z)({},I().rightMode,z)),children:[(0,o.jsx)("div",{className:I().avatar,children:$}),(0,o.jsxs)("div",{className:(0,l.cn)(I().container,"chatMessageWrapper",(0,a.Z)({},I().editing,P)),children:[(0,o.jsxs)("div",{className:(0,l.cn)(I().message,(0,a.Z)({},I().correct,S),(0,a.Z)({},I().wrong,!1===S)),children:[(0,o.jsx)("div",{className:(0,l.cn)(p.c.platformH4,"mb-4"),children:q}),T,t]}),M]})]})]}))}},833247:function(e,n,t){"use strict";t.d(n,{O:function(){return $}});var a=t(785893),r=t(667294),i=t(449613),s=t(31708),o=t(115362),c=t(360014),l=t(310139),d=t(721392),u=t(666229),p=t(404201),m=t(584442),h=t(826889),f=t(174546),g=t(531574),v=function(e){var n=e.senderId,t=(0,m.r)(),i=t.participantsMap,s=t.loadParticipant,o=i.get(n);return(0,r.useEffect)((function(){(null===o||void 0===o?void 0:o.id)||s(n)}),[s,null===o||void 0===o?void 0:o.id,n]),o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.O,{participant:o,size:24}),(0,a.jsx)("span",{children:o.username})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.o,{size:24}),(0,a.jsx)(f.b,{})]})},_=t(168497),x=t(608151),C=t(729869),b=t.n(C),j=(0,r.memo)((function(e){var n=e.reactionShortcode,t=e.reactionStack,r=(0,_.X_)({variables:{messageId:t.messageId,reactionShortcode:n,limit:10}}).data,i=(null===r||void 0===r?void 0:r.reactedParticipants.map((function(e){return e.id})))||x.LZ;return(0,a.jsxs)("ul",{className:b().participantsList,children:[(0,a.jsx)("li",{className:b().listItem,children:n}),i.map((function(e){return(0,a.jsx)("li",{className:b().listItem,children:(0,a.jsx)(v,{senderId:e})},e)}))]})})),w=t(882155),M=t.n(w),I=(0,r.memo)((function(e){var n=e.requestClose,t=e.reactionShortcode,i=e.reactionStacks,s=e.selectReaction,o=i.map((function(e){return{id:e.id,title:e.reactionShortcode,reaction:e.reactionShortcode,count:e.count}})),m=(0,r.useMemo)((function(){return new Map(i.map((function(e){return[e.reactionShortcode,e]})))}),[i]),h=(0,r.useCallback)((function(){return(0,a.jsxs)("div",{className:M().contentContainer,children:[(0,a.jsx)(p.m,{activeTab:t,tabsData:o,renderTab:function(e){var n=e.reaction,t=e.count,r=e.className;return(0,a.jsxs)("button",{className:(0,u.cn)(r,M().tab),onClick:function(){return s(n)},children:[(0,a.jsx)(d.d,{shortcodes:n,size:24}),(0,a.jsx)("span",{className:(0,u.cn)(c.c.platformH4,"ml-4"),children:t})]},n)}}),m.get(t)&&(0,a.jsx)(j,{reactionShortcode:t,reactionStack:m.get(t)})]})}),[t,m,s,o]);return(0,a.jsx)(l.R,{requestClose:n,withPaddings:!1,renderContent:h})})),P=t(414924),S=t(626042),k=t(269396),T=t(999534),N=t(133609),W=t(63812),L=t.n(W),y=new Map([[1,L().oneDigit],[2,L().twoDigits],[3,L().threeDigits],[4,L().fourDigits]]),B=(0,r.memo)((function(e){var n=e.reactionShortcode,t=e.count,s=e.toggleReaction,o=e.isReacted,c=e.loading,l=e.selectReactionTab,u=(0,r.useCallback)((function(){s(n)}),[s,n]),p=(0,r.useCallback)((function(){l(n)}),[n,l]),m=(0,r.useMemo)((function(){return String(t).length}),[t]),h=(0,N.T)(p,u),f=h.isLongPress,g=(0,T.Z)(h,["isLongPress"]);return(0,a.jsxs)("button",(0,k.Z)((0,S.Z)({},g),{className:(0,i.cn)(L().reactionButton,(0,P.Z)({},L().active,o),(0,P.Z)({},L().longPress,f)),disabled:c,"data-qa":"reaction-button","data-reaction-shortcode":n,children:[(0,a.jsx)(d.d,{shortcodes:n,size:13}),(0,a.jsx)("p",{className:(0,i.cn)(L().reactionCount,y.get(m)),"data-qa":"reaction-count",children:t})]}))})),R=t(583575),Z=t(484983),A=t(537634),E=t(383031),O=t(441345),D=t.n(O),V=function(e){var n=e.toggleReaction,t=e.loading,i=(0,Z.r)(),s=i.isOpen,o=i.close,c=i.open,l=(0,r.useCallback)((function(e){n(e.shortcodes)}),[n]),d=(0,r.useCallback)((function(){return(0,a.jsx)(A.u,{className:D().icon})}),[]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(R.zx,{onClick:c,LeftIcon:d,mode:R.zx.mode.TransparentLight,disabled:t,"data-qa":"reactions-container-add-reaction-button"}),s&&(0,a.jsx)(E.y,{onEmojiSelect:l,requestClose:o,closeModalOnOptionClick:!0})]})},z=t(936090),Y=t(495013),F=t.n(Y),H=(0,r.memo)((function(e){var n=e.reactionStacks,t=e.messageId,s=e.loading,o=e.messageInfo,c=(0,r.useMemo)((function(){return n.filter((function(e){return e.count>0}))}),[n]),l=(0,z.V)(t,c),d=function(){var e=(0,r.useState)(null),n=e[0],t=e[1];return{selectedReactionsTab:n,selectReactionsTab:function(e){t(e)},closeReactionsTabs:function(){t(null)}}}(),u=d.selectedReactionsTab,p=d.selectReactionsTab,m=d.closeReactionsTabs;return(0,a.jsxs)("ul",{className:(0,i.cn)(F().reactionsContainer,{"mt-8":c.length}),children:[c.map((function(e){return(0,a.jsx)("li",{children:(0,a.jsx)(B,{reactionShortcode:e.reactionShortcode,count:e.count,toggleReaction:l,isReacted:e.authParticipantReacted,messageId:t,loading:s,selectReactionTab:p})},e.id)})),c.length>0&&(0,a.jsx)("li",{children:(0,a.jsx)(V,{toggleReaction:l})}),(0,a.jsx)("li",{className:F().content,children:o}),u&&(0,a.jsx)(I,{requestClose:m,reactionStacks:c,reactionShortcode:u,selectReaction:p})]})})),U=t(401525),q=t.n(U),$=(0,r.memo)((function(e){var n=e.message,t=n.id,l=n.createdAt,d="reactionStacks"in n?n.reactionStacks:x.LZ,u=(0,s.EL)()((0,r.useMemo)((function(){return new Date(l)}),[l])).time,p=(0,r.useMemo)((function(){return(0,a.jsxs)("p",{className:(0,i.cn)(c.c.platformTextSmall,q().sendingTime),children:["".concat(u),(0,a.jsx)(o.R,{message:n})]})}),[n,u]);return(0,a.jsx)(H,{messageId:t,reactionStacks:d,messageInfo:p})}))},971978:function(e,n,t){"use strict";t.d(n,{P:function(){return w}});var a=t(785893),r=t(667294),i=t(107474),s=t(194298),o=t(819037),c=t(584097),l=t(430155),d=t(711950),u=t(626654),p=t(360014),m=t(666229),h=t(583575),f=t(237209),g=t(414841),v=t(528559),_=t(506577),x=t.n(_),C=(0,r.memo)((function(e){var n=e.fullName,t=e.userId,r=e.avatar,i=e.lastActionTime,o=e.onGoToDirectChat,_=e.isDirectChatLoading,C=e.occupation,b=e.occupationIcon,j=(0,c.$G)([l.WY.common]).t;return(0,a.jsxs)("div",{className:x().wrapper,"data-qa":"user-profile-preview-view",children:[(0,a.jsx)(u.Y,{fullName:n,userId:t,avatar:r,size:56,shouldShowBadgeIcon:!1,whitePaddingSize:4,shouldShowOnlineIndicator:!0,lastActionTime:i,userProfileOpener:s.Kl.UserProfilePreview}),(0,a.jsx)("h3",{className:(0,m.cn)(p.c.platformH3,x().title),children:n}),(0,a.jsxs)("p",{className:(0,m.cn)(x().occupationWrapper,p.c.platformTextSmall,"color-gray-40 mt-8"),children:[(0,a.jsx)("span",{className:x().occupationIconWrapper,children:b?(0,a.jsx)(d.E,{src:b.url,width:16,height:16,alt:b.name,objectFit:"cover",loader:g.BF}):(0,a.jsx)(v.hA,{})}),C]}),o&&(0,a.jsx)(h.zx,{mode:h.qo.Secondary,size:h.qE.Small,onClick:o,text:j("".concat(l.WY.common,":user-profile-send-direct-message")),LeftIcon:f.h,className:"mt-12",isLoading:_,hasFullWidth:!0})]})})),b=t(888374),j=t(789272),w=(0,r.memo)((function(e){var n=e.userId,t=function(e){var n=(0,c.$G)().t,t=(0,i.ni)({variables:{id:e}}),a=t.data,d=t.loading,u=t.error;return(0,o.y)(u),(0,r.useMemo)((function(){var t,r;if(d||!a||!a.getUserProfile)return null;var i=a.getUserProfile,o=i.username,c=i.avatar,u=i.__typename,p=u!==s.GF.AdminProfile?a.getUserProfile.studentsGroup:null,m=null,h=u===s.GF.AdminProfile?n("".concat(l.WY.common,":user_profile.admin_label")):null===p||void 0===p||null===(t=p.profession)||void 0===t?void 0:t.professionName,f=null===p||void 0===p||null===(r=p.profession)||void 0===r?void 0:r.professionIcon;return a.getUserProfile.__typename===s.GF.PublicUserProfile&&(m=a.getUserProfile.lastActionTime),{userId:e,fullName:o,avatar:c||null,occupation:h||"",occupationIcon:f,lastActionTime:m?new Date(m):null}}),[a,d,e,n])}(n),d=(0,b.j)(n,j.wd0.ProfilePreview),u=d.goToDirectChat,p=d.isLoading;if(!t)return null;var m=t.fullName,h=t.avatar,f=t.lastActionTime,g=t.occupation,v=t.occupationIcon;return(0,a.jsx)(C,{userId:n,fullName:m,avatar:h,lastActionTime:f,onGoToDirectChat:u,isDirectChatLoading:p,occupation:g,occupationIcon:v})}))},107474:function(e,n,t){"use strict";t.d(n,{ni:function(){return f}});var a=t(307297),r=t(937878);function i(){var e=(0,a.Z)(["\n    fragment AdminProfilePreview on AdminProfile {\n  id\n  username\n  avatar {\n    id\n    url\n    name\n  }\n  lastActionTime\n}\n    "]);return i=function(){return e},e}var s=(0,r.Ps)(i()),o=t(626868);function c(){var e=(0,a.Z)(["\n    fragment PublicUserProfilePreview on PublicUserProfile {\n  id\n  username\n  studentsGroup {\n    ...UserProfileStudentsGroup\n  }\n  avatar {\n    id\n    url\n    name\n  }\n  lastActionTime\n}\n    ",""]);return c=function(){return e},e}var l=(0,r.Ps)(c(),o.D);function d(){var e=(0,a.Z)(["\n    fragment PrivateUserProfilePreview on PrivateUserProfile {\n  id\n  username\n  studentsGroup {\n    ...UserProfileStudentsGroup\n  }\n  avatar {\n    id\n    url\n    name\n  }\n}\n    ",""]);return d=function(){return e},e}var u=(0,r.Ps)(d(),o.D),p=t(506388);function m(){var e=(0,a.Z)(["\n    query getUserProfilePreview($id: Int!) {\n  getUserProfile(id: $id) {\n    __typename\n    ... on AdminProfile {\n      ...AdminProfilePreview\n    }\n    ... on PublicUserProfile {\n      ...PublicUserProfilePreview\n    }\n    ... on PrivateUserProfile {\n      ...PrivateUserProfilePreview\n    }\n  }\n}\n    ","\n","\n",""]);return m=function(){return e},e}var h=(0,r.Ps)(m(),s,l,u);function f(e){return p.aM(h,e)}},923071:function(e,n,t){"use strict";t.d(n,{g:function(){return f}});var a=t(785893),r=t(667294),i=t(666229),s=t(134744),o=t(360014),c=t(122301),l=t(48742),d=t(586347),u=t(583575),p=t(414841),m=t(82530),h=t.n(m),f=function(e){var n=e.fileName,t=e.uploadMediaLoading,m=e.fileUrl,f=e.isMessagePreview,g=e.FileIconPreview,v=e.subtitle,_=(0,r.useState)(!0),x=_[0],C=_[1];(0,r.useEffect)((function(){if(!x||t)return d.Bi;var e=setTimeout((function(){C(!1)}),2e3);return function(){clearTimeout(e)}}),[x,t]);var b=(0,r.useCallback)((function(){return f?(0,a.jsx)(u.zx,{mode:u.zx.mode.TransparentLight,LeftIcon:l.Q,href:(0,p.RE)({url:m}),download:n,target:"_blank",className:h().downloadButton}):t?(0,a.jsx)("div",{className:h().imageBackground,children:(0,a.jsx)(s.a,{loading:t,size:18,className:h().loaderContainer,spinnerClassName:h().filesLoader})}):x?(0,a.jsx)("div",{className:h().imageBackground,children:(0,a.jsx)(c.N,{className:h().fileUploadedIcon})}):(0,a.jsx)(l.Q,{className:h().iconPDF})}),[n,m,f,x,t]);return(0,a.jsx)("div",{className:h().filesWrapper,children:(0,a.jsxs)("div",{className:h().content,children:[(0,a.jsx)("div",{className:h().iconWrapper,children:g?(0,a.jsx)(g,{}):(0,a.jsx)(b,{})}),(0,a.jsxs)("div",{className:h().titleContainer,children:[(0,a.jsx)("span",{className:(0,i.cn)(o.c.platformH4,h().title),children:n}),(0,a.jsx)("span",{className:(0,i.cn)(o.c.platformTextSmall),children:v})]})]})})}},56832:function(e,n,t){"use strict";t.d(n,{r:function(){return l}});var a=t(667294),r=t(633233),i=t(704983),s=t(586347),o=t(73557),c=t(472569),l=function(e){var n=(e||{}).maxInputLength,t=void 0===n?i.tX:n,l=(0,a.useState)(new Set),d=l[0],u=l[1],p=(0,a.useCallback)((function(n){var a=n.text,l=void 0===a?"":a,d=n.uploadFiles,p=void 0===d?[]:d,m=n.subject,h=void 0===m?c.jE:m,f=n.options,g=void 0===f?[]:f,v=(0,s.Wq)(l)||"\\"===l.trim(),_=(0,s.G5)(p),x=(null===e||void 0===e?void 0:e.withSubjectSelector)&&h.type===o.n.EMPTY,C=l.trim().length>t,b=null===g||void 0===g?void 0:g.some((function(e){var n=e.text;return(void 0===n?"":n).trim().length>i.M5})),j=new Set;return v&&_&&j.add(r.ZJ.Empty),C&&j.add(r.ZJ.MaxLengthExceeded),b&&j.add(r.ZJ.MaxOptionLengthExceeded),x&&j.add(r.ZJ.EmptySubject),u(j),Array.from(j)}),[null===e||void 0===e?void 0:e.withSubjectSelector,t]);return{isValid:0===d.size,errors:d,onValidate:p}}},721392:function(e,n,t){"use strict";t.d(n,{d:function(){return r}});var a=t(785893),r=function(e){var n=e.shortcodes,t=e.size;return(0,a.jsx)("em-emoji",{shortcodes:n,size:t})}},692531:function(e,n,t){"use strict";t.d(n,{$:function(){return y}});var a=t(785893),r=t(667294),i=t(622831),s=t(414924),o=t(711950),c=t(414841),l=t(134744),d=t(666229),u=t(364858),p=t.n(u),m=function(e){var n=e.src,t=e.isVisible,i=(0,r.useState)(!0),u=i[0],m=i[1],h=(0,r.useState)({width:0,height:0}),f=h[0],g=h[1],v=(0,r.useCallback)((function(e){m(!1);var n=e.naturalWidth,t=e.naturalHeight;g({width:n,height:t})}),[]);return(0,a.jsxs)("div",{className:(0,d.cn)(p().wrapper,(0,s.Z)({},p().wrapperVisible,t)),children:[n&&(0,a.jsx)("div",{className:p().container,style:{"--image-width":"".concat(f.width,"px"),"--image-height":"".concat(f.height,"px")},children:(0,a.jsx)(o.E,{unoptimized:!0,src:(0,c.BF)({src:n}),objectFit:"contain",objectPosition:"center",layout:"fill",onLoadingComplete:v})}),(0,a.jsx)(l.a,{loading:u,className:p().loader})]})},h=t(626654),f=t(194298),g=t(308700),v=t(48742),_=t(360014),x=t(583575),C=t(233960),b=t(430155),j=t(584097),w=t(251243),M=t.n(w),I=function(e){var n=e.fileUrl,t=e.fileName,r=e.isVisible,i=(0,j.$G)([b.WY.common]).t;return(0,a.jsxs)("div",{className:(0,d.cn)(_.c.platformTextSecondary,M().filePreviewWrapper,(0,s.Z)({},M().filePreviewWrapperVisible,r)),children:[(0,a.jsx)("div",{className:M().imageContainer,children:(0,a.jsx)(v.Q,{className:M().pdfIcon})}),(0,a.jsxs)("p",{className:M().textContainer,"data-qa":"file-preview",children:[i("".concat(b.WY.common,":file_preview.title.prefix")),(0,a.jsx)("span",{className:_.c.platformH4,children:t}),i("".concat(b.WY.common,":file_preview.title.suffix"))]}),(0,a.jsx)(x.zx,{mode:x.zx.mode.Secondary,"data-qa":"file-preview-download-button",LeftIcon:C.D,text:i("".concat(b.WY.common,":file_preview.button.download")),href:(0,c.RE)({url:n}),download:t,target:"_blank",size:x.zx.size.Large})]})},P=t(92466),S=t(416283),k=t(201006),T=t(372004),N=t(484983),W=t(629046),L=t.n(W),y=(0,r.forwardRef)((function(e,n){var t=e.files,s=e.meta,o=(0,N.r)(),c=o.isOpen,l=o.open,u=o.close,p=(0,r.useState)(0),v=p[0],C=p[1],b=(0,r.useMemo)((function(){if(s)return s;var e=t[v];return e?{imageSrc:e.url,title:e.name,subTitle:null,userId:0}:null}),[v,t,s]),j=(0,r.useCallback)((function(e){i.w.sendEvent(i.w.events.mediaFilePreviewOpened,{source:e})}),[]),w=(0,r.useCallback)((function(e){C(e.index),l(),j(e.source)}),[j,l]);(0,r.useImperativeHandle)(n,(function(){return{open:w,close:u}}));var M=(0,r.useCallback)((function(){C((function(e){return(e+1)%t.length}))}),[t.length]),W=(0,r.useCallback)((function(){C((function(e){return(e-1+t.length)%t.length}))}),[t.length]);return(0,r.useEffect)((function(){var e=function(e){"ArrowRight"===e.key&&M(),"ArrowLeft"===e.key&&W(),"Escape"===e.key&&u()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[M,W,u]),c?(0,a.jsx)(T.h,{children:(0,a.jsx)("div",{className:L().wrapper,children:(0,a.jsxs)("div",{className:L().container,"data-qa":"media-preview-slider",children:[(0,a.jsxs)("div",{className:L().header,children:[(0,a.jsx)("div",{children:b&&(0,a.jsxs)("div",{className:L().meta,children:[(0,a.jsx)("div",{className:L().metaImageWrapper,children:(0,a.jsx)(h.Y,{avatar:b.imageSrc?{url:b.imageSrc}:null,size:38,userId:b.userId||0,fullName:b.title,userProfileOpener:f.Kl.MediaPreviewSlider})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:(0,d.cn)(_.c.platformH4,L().truncate),"data-qa":"file-or-creator-name",children:b.title}),b.subTitle&&(0,a.jsx)("p",{"data-qa":"file-uploading-time",className:(0,d.cn)(_.c.platformTextSmall,L().truncate),children:b.subTitle})]})]})}),(0,a.jsx)("div",{children:(0,a.jsx)(x.zx,{mode:x.zx.mode.TransparentLight,size:x.zx.size.Large,"data-qa":"media-preview-slider-close-button",LeftIcon:P.b,onClick:u,className:L().closeButton})})]}),t.map((function(e,n){var t="".concat(null===e||void 0===e?void 0:e.id,"-").concat(n);return(null===e||void 0===e?void 0:e.mime)===g.G.PDF?(0,a.jsx)(I,{fileUrl:e.url,fileName:e.name,isVisible:n===v},t):(0,a.jsx)(m,{src:null===e||void 0===e?void 0:e.url,isVisible:n===v},t)})),t.length>1&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.zx,{mode:x.zx.mode.TransparentLight,LeftIcon:S.e,"aria-label":"Previous","data-qa":"media-preview-slider-prev-button",onClick:W,size:x.zx.size.Large,className:(0,d.cn)(L().navButton,L().navButtonPrev)}),(0,a.jsx)(x.zx,{mode:x.zx.mode.TransparentLight,RightIcon:k.V,"aria-label":"Next","data-qa":"media-preview-slider-next-button",onClick:M,size:x.zx.size.Large,className:(0,d.cn)(L().navButton,L().navButtonNext)})]})]})})}):null}))},638506:function(e,n,t){"use strict";t.d(n,{v:function(){return m}});var a=t(626042),r=t(785893),i=t(667294),s=t(449613),o=t(150516),c=t(626654),l=t(194298),d=t(586347),u=t(921787),p=t.n(u),m=(0,i.memo)((function(e){var n=e.username,t=e.userId,u=e.avatar,m=e.withAvatar,h=void 0!==m&&m,f=e.className,g=e.nameWrapperClassName,v=e.shouldOpenProfile,_=void 0===v||v,x=e.userProfileOpener,C=(0,o.H)().openProfile,b=_&&(0,d.Gg)(x)&&(0,d.Gg)(t),j=(0,i.useCallback)((function(){b&&C({userId:t,opener:x||l.Kl.Unspecified})}),[b,x,t,C]);return(0,r.jsxs)("span",{className:(0,s.cn)(p().wrapper,f),children:[h&&(0,r.jsx)(c.Y,(0,a.Z)({userId:t,fullName:n,avatar:u,size:24},b?{shouldOpenProfile:!0,userProfileOpener:x}:{shouldOpenProfile:!1})),(0,r.jsx)("span",{"aria-hidden":!0,onClick:j,className:(0,s.cn)(p().userNameWrapper,g),"data-qa":"user-name-wrapper",children:n})]})}))},308700:function(e,n,t){"use strict";t.d(n,{G:function(){return a},_:function(){return r}});var a,r=300;!function(e){e.PDF="application/pdf"}(a||(a={}))},970036:function(e,n,t){"use strict";t.d(n,{F:function(){return o}});var a=t(626042),r=t(269396),i=t(785893),s=t(94923),o=function(e){return(0,i.jsx)(s.s,(0,r.Z)((0,a.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,i.jsx)("path",{d:"M9 3V4H4V6H5V19C5 19.5304 5.21071 20.0391 5.58579 20.4142C5.96086 20.7893 6.46957 21 7 21H17C17.5304 21 18.0391 20.7893 18.4142 20.4142C18.7893 20.0391 19 19.5304 19 19V6H20V4H15V3H9ZM7 6H17V19H7V6ZM9 8V17H11V8H9ZM13 8V17H15V8H13Z",fill:"currentColor"})}))}},233960:function(e,n,t){"use strict";t.d(n,{D:function(){return o}});var a=t(626042),r=t(269396),i=t(785893),s=t(94923),o=function(e){return(0,i.jsx)(s.s,(0,r.Z)((0,a.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.414 9.636L7 11.05L11.95 16L16.9 11.05L15.486 9.636L12.95 12.172V3H10.95L10.95 12.172L8.414 9.636ZM5 12H3V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V12H19V18C19 18.5523 18.5523 19 18 19H6C5.44772 19 5 18.5523 5 18V12Z",fill:"currentColor"})}))}},766104:function(e,n,t){"use strict";t.d(n,{$:function(){return o}});var a=t(626042),r=t(269396),i=t(785893),s=t(94923),o=function(e){return(0,i.jsx)(s.s,(0,r.Z)((0,a.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,i.jsx)("path",{d:"M6.455 19L2 22.5V4C2 3.73478 2.10536 3.48043 2.29289 3.29289C2.48043 3.10536 2.73478 3 3 3H21C21.2652 3 21.5196 3.10536 21.7071 3.29289C21.8946 3.48043 22 3.73478 22 4V18C22 18.2652 21.8946 18.5196 21.7071 18.7071C21.5196 18.8946 21.2652 19 21 19H6.455ZM4 18.385L5.763 17H20V5H4V18.385ZM12 10V7L16 11L12 15V12H8V10H12Z",fill:"currentColor"})}))}},48742:function(e,n,t){"use strict";t.d(n,{Q:function(){return o}});var a=t(626042),r=t(269396),i=t(785893),s=t(94923),o=function(e){return(0,i.jsx)(s.s,(0,r.Z)((0,a.Z)({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,i.jsx)("path",{d:"M15.8333 2.5H4.16667C3.25 2.5 2.5 3.25 2.5 4.16667V15.8333C2.5 16.75 3.25 17.5 4.16667 17.5H15.8333C16.75 17.5 17.5 16.75 17.5 15.8333V4.16667C17.5 3.25 16.75 2.5 15.8333 2.5ZM7.91667 9.58333C7.91667 10.25 7.33333 10.8333 6.66667 10.8333H5.83333V12.5H4.58333V7.5H6.66667C7.33333 7.5 7.91667 8.08333 7.91667 8.75V9.58333ZM12.0833 11.25C12.0833 11.9167 11.5 12.5 10.8333 12.5H8.75V7.5H10.8333C11.5 7.5 12.0833 8.08333 12.0833 8.75V11.25ZM15.4167 8.75H14.1667V9.58333H15.4167V10.8333H14.1667V12.5H12.9167V7.5H15.4167V8.75ZM10 8.75H10.8333V11.25H10V8.75ZM5.83333 8.75H6.66667V9.58333H5.83333V8.75Z",fill:"currentColor"})}))}},830464:function(e,n,t){"use strict";t.d(n,{D:function(){return o}});var a=t(626042),r=t(269396),i=t(785893),s=t(94923),o=function(e){return(0,i.jsx)(s.s,(0,r.Z)((0,a.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,i.jsx)("path",{xmlns:"http://www.w3.org/2000/svg",d:"M13.8282 1.68555L22.3142 10.1715L20.8992 11.5855L20.1922 10.8785L15.9502 15.1205L15.2432 18.6565L13.8282 20.0705L9.58617 15.8275L4.63617 20.7775L3.22217 19.3635L8.17217 14.4135L3.92917 10.1715L5.34317 8.75655L8.88017 8.04955L13.1222 3.80755L12.4152 3.10055L13.8292 1.68555H13.8282ZM14.5362 5.22155L9.86517 9.89155L7.04317 10.4565L13.5432 16.9565L14.1072 14.1345L18.7782 9.46455L14.5362 5.22155Z",fill:"currentColor"})}))}},599494:function(e,n,t){"use strict";t.d(n,{Y:function(){return o}});var a=t(626042),r=t(269396),i=t(785893),s=t(94923),o=function(e){return(0,i.jsx)(s.s,(0,r.Z)((0,a.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,i.jsx)("path",{xmlns:"http://www.w3.org/2000/svg",d:"M22.3139 10.1715L20.8989 11.5855L20.1919 10.8785L15.9499 15.1205L15.2429 18.6565L13.8279 20.0705L9.58592 15.8275L4.63592 20.7775L3.22192 19.3635L8.17192 14.4135L3.92892 10.1715L5.34292 8.75655L8.87992 8.04955L13.1219 3.80755L12.4149 3.10055L13.8289 1.68555L22.3139 10.1715Z",fill:"currentColor"})}))}},786867:function(e,n,t){"use strict";t.d(n,{g:function(){return o}});var a=t(626042),r=t(269396),i=t(785893),s=t(94923),o=function(e){return(0,i.jsx)(s.s,(0,r.Z)((0,a.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,i.jsx)("path",{d:"M3.9 12C3.9 10.29 5.29 8.9 7 8.9H11V7H7C4.24 7 2 9.24 2 12C2 14.76 4.24 17 7 17H11V15.1H7C5.29 15.1 3.9 13.71 3.9 12ZM8 13H16V11H8V13ZM17 7H13V8.9H17C18.71 8.9 20.1 10.29 20.1 12C20.1 13.71 18.71 15.1 17 15.1H13V17H17C19.76 17 22 14.76 22 12C22 9.24 19.76 7 17 7Z",fill:"currentColor"})}))}},458309:function(e,n,t){"use strict";t.d(n,{y:function(){return o}});var a=t(626042),r=t(269396),i=t(785893),s=t(94923),o=function(e){return(0,i.jsxs)(s.s,(0,r.Z)((0,a.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:[(0,i.jsx)("g",{clipPath:"url(#clip0_72864_78356)",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.41421 1.41406L0 2.82828L4 6.82828V22.143C4.00007 22.2323 4.02406 22.32 4.06948 22.3969C4.11491 22.4738 4.1801 22.5372 4.2583 22.5804C4.33649 22.6235 4.42482 22.645 4.5141 22.6425C4.60339 22.6399 4.69037 22.6135 4.766 22.566L12 18.03L19.234 22.567C19.3097 22.6146 19.3968 22.641 19.4861 22.6435C19.5755 22.6459 19.6639 22.6244 19.7421 22.5811C19.7444 22.5798 19.7467 22.5786 19.749 22.5773L21.2132 24.0415L22.6274 22.6273L1.41421 1.41406ZM20 3.00003V17.181L4.83306 2.01406C4.88786 2.00478 4.94368 2.00003 5 2.00003H19C19.2652 2.00003 19.5196 2.10539 19.7071 2.29292C19.8946 2.48046 20 2.73481 20 3.00003Z",fill:"currentColor"})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_72864_78356",children:(0,i.jsx)("rect",{width:"24",height:"24",fill:"white"})})})]}))}},284283:function(e,n,t){"use strict";var a;t.d(n,{GF:function(){return r},QL:function(){return o},f0:function(){return i},s8:function(){return s},t2:function(){return a}}),function(e){e.Text="text",e.UploadFiles="uploadFiles"}(a||(a={}));var r=5,i=10,s=["image/x-png","image/png","image/jpeg"],o=["application/pdf"]},612570:function(e,n,t){"use strict";t.d(n,{RU:function(){return l},Zh:function(){return c},b6:function(){return o},tL:function(){return d}});var a,r=t(629815),i=t(284283),s=t(472569),o=function(e){return{text:null!==(a=null===e||void 0===e?void 0:e.text)&&void 0!==a?a:"",uploadFiles:(null===e||void 0===e?void 0:e.uploadFiles)||[],subject:(null===e||void 0===e?void 0:e.subject)||s.jE}},c=function(e){return function(n){var t=n.clipboardData,a=null===t||void 0===t?void 0:t.files;a&&a.length&&(n.preventDefault(),e(a))}},l=function(e,n){return Array.from(null!==e&&void 0!==e?e:[]).slice(0,n).filter(u).map(p)},d=function(e,n){return"".concat(i.t2.UploadFiles,"-").concat(e.file.name,"-").concat(n)};function u(e){return(0,r.Z)(i.s8).concat((0,r.Z)(i.QL)).includes(e.type)}function p(e){return{file:e,uploadFile:null,uploading:!0}}},173323:function(e,n,t){"use strict";t.d(n,{F:function(){return c}});var a=t(667294),r=t(267309),i=t(612570),s=t(586347),o=t(141309),c=function(e){var n=e.onAttachFiles,t=e.isMediaUploadAllowed,c=(0,r.Q_)().mainRef;(0,a.useEffect)((function(){var e=null===c||void 0===c?void 0:c.current;if(!t||!e)return s.Bi;var a=(0,i.Zh)(n);return e.addEventListener(o.y.Paste,a),function(){e.removeEventListener(o.y.Paste,a)}}),[c,n,t])}},958043:function(e,n,t){"use strict";t.d(n,{Q:function(){return i}});var a=t(51438),r=t(629815),i=function(){function e(){(0,a.Z)(this,e),this.listeners=new Map}var n=e.prototype;return n.listen=function(e,n){var t=this;return this.listeners.has(e)?this.listeners.get(e).push(n):this.listeners.set(e,[n]),function(){return t.unsubscribe(e,n)}},n.notify=function(e){var n=this.listeners.get(e.type);n&&(0,r.Z)(n).forEach((function(n){n(e)}))},n.unsubscribe=function(e,n){var t=this.listeners.get(e),a=null===t||void 0===t?void 0:t.indexOf(n);void 0!==a&&-1!==a&&(null===t||void 0===t||t.splice(a,1)),(null===t||void 0===t?void 0:t.length)||this.listeners.delete(e)},e}()},749294:function(e,n,t){"use strict";t.d(n,{UO:function(){return r},mD:function(){return i},y_:function(){return s}});var a=t(27954),r=function(e){return e.slice(1)},i=function(e){return(0,a.Z$)(e.split("."))},s=function(e){e.target.value=""}},718204:function(e,n,t){"use strict";function a(){if("undefined"===typeof navigator||!navigator)return!1;var e=navigator.userAgent,n=navigator.platform,t=-1!==["iPhone","iPad","iPod"].indexOf(n)||"MacIntel"===n&&"maxTouchPoints"in navigator&&navigator.maxTouchPoints>2,a=/Android/.test(e);return t||a}t.d(n,{s:function(){return a}})},739920:function(e){e.exports={container:"ChatMedia_container__am5ac",containerWithDocuments:"ChatMedia_containerWithDocuments__8aHJV",file:"ChatMedia_file__eL_YU",actionButton:"ChatMedia_actionButton__8gW3_"}},599169:function(e){e.exports={wrapper:"ChatMessageAttachedTestTask_wrapper__oA53T",attachment:"ChatMessageAttachedTestTask_attachment__FV6on",icon:"ChatMessageAttachedTestTask_icon__3M5vO",name:"ChatMessageAttachedTestTask_name__fC_YD"}},429209:function(e){e.exports={container:"RegularParticipantInfo_container__99SHu",baseInfoWrapper:"RegularParticipantInfo_baseInfoWrapper__RTfIe",name:"RegularParticipantInfo_name__kXiXA",role:"RegularParticipantInfo_role__kzgCt",roleIcon:"RegularParticipantInfo_roleIcon__pPnmP",avatarWrapper:"RegularParticipantInfo_avatarWrapper__jZI36",avatarWrapperExpanded:"RegularParticipantInfo_avatarWrapperExpanded__sFBqA",editButtonWrapper:"RegularParticipantInfo_editButtonWrapper__6z68V"}},646105:function(e){e.exports={wrapper:"RegularParticipantInfoDetails_wrapper__ApLqs",nameWrapper:"RegularParticipantInfoDetails_nameWrapper__OVUh1",name:"RegularParticipantInfoDetails_name__tijcr",detail:"RegularParticipantInfoDetails_detail__4Q_SF",detailIcon:"RegularParticipantInfoDetails_detailIcon__kX4iH",textWithCopyButton:"RegularParticipantInfoDetails_textWithCopyButton__LfYsc"}},685585:function(e){e.exports={container:"ParticipantStreaksAndLeaderboardDetails_container__JXSt_",block:"ParticipantStreaksAndLeaderboardDetails_block__gbGsP",iconWrapper:"ParticipantStreaksAndLeaderboardDetails_iconWrapper__dygfI",iconGreen:"ParticipantStreaksAndLeaderboardDetails_iconGreen__K_cCT",iconYellow:"ParticipantStreaksAndLeaderboardDetails_iconYellow__TPcnM",iconRed:"ParticipantStreaksAndLeaderboardDetails_iconRed__c4FmA",blockTitle:"ParticipantStreaksAndLeaderboardDetails_blockTitle__X73H8",description:"ParticipantStreaksAndLeaderboardDetails_description__VmxzI",titleWrapper:"ParticipantStreaksAndLeaderboardDetails_titleWrapper__sjQBV"}},599744:function(e){e.exports={previewMessageWrapper:"DeleteMessageModal_previewMessageWrapper__MlgiQ",subtitle:"DeleteMessageModal_subtitle__WBxD_"}},13115:function(e){e.exports={button:"ImpersonateParticipantButton_button__P728T"}},430565:function(e){e.exports={inputPlaceholder:"SendingNotAllowedPlaceholder_inputPlaceholder__yWhst",iconLock:"SendingNotAllowedPlaceholder_iconLock__djCgH",upgradeButton:"SendingNotAllowedPlaceholder_upgradeButton__mbu7H",slide:"SendingNotAllowedPlaceholder_slide__AIobZ"}},949504:function(e){e.exports={buttonsContainer:"EditingTextMessage_buttonsContainer__EJOHd",error:"EditingTextMessage_error__iZ7Nu",editorContainer:"EditingTextMessage_editorContainer__h8KvK",toolbarBottom:"EditingTextMessage_toolbarBottom__Srkr0",toolbarTop:"EditingTextMessage_toolbarTop__aYTrW"}},437917:function(e){e.exports={answer:"OpenQuestionAnswer_answer__YQTYR"}},693898:function(e){e.exports={progressBarContainer:"NotAnsweredProgressBar_progressBarContainer__dCPW8",progressBarLabel:"NotAnsweredProgressBar_progressBarLabel__w1BOY",toolTipMessage:"NotAnsweredProgressBar_toolTipMessage__gZ8Gl"}},8130:function(e){e.exports={container:"PollOption_container__ihEQ7",mainContent:"PollOption_mainContent__hHmeD",percent:"PollOption_percent__5OtCV",radioWithText:"PollOption_radioWithText__FwkkJ",progressBar:"PollOption_progressBar__D9hBA",rightAnswersPercent:"PollOption_rightAnswersPercent__s8eGw",wrongAnswersPercent:"PollOption_wrongAnswersPercent__1kAV_",toolTipMessage:"PollOption_toolTipMessage__7HXfo"}},548092:function(e){e.exports={sendingTime:"PreviewMessage_sendingTime__q_HaI"}},18136:function(e){e.exports={textWrapper:"DefaultSystemMessage_textWrapper__2YutE"}},454649:function(e){e.exports={messageWrapper:"SystemMessageWrapper_messageWrapper__8fAX0"}},984894:function(e){e.exports={messageWrapper:"TeamProjectStartedSystemMessage_messageWrapper__xrVay",textWrapper:"TeamProjectStartedSystemMessage_textWrapper__JPdlH"}},500550:function(e){e.exports={sendingTime:"MessageFooter_sendingTime__gxxLn"}},996747:function(e){e.exports={openThreadButton:"OpenThreadButton_openThreadButton__HgALp",buttonWrapper:"OpenThreadButton_buttonWrapper__EMHts",draftCaption:"OpenThreadButton_draftCaption__JnWsX",dotSeparator:"OpenThreadButton_dotSeparator__LlGum",replies:"OpenThreadButton_replies__g3MJL",newReplies:"OpenThreadButton_newReplies__UMZfJ",notRead:"OpenThreadButton_notRead__q_t2F",lastReply:"OpenThreadButton_lastReply__Pr7ss",arrowIconWrapper:"OpenThreadButton_arrowIconWrapper__jaWhJ",arrowIcon:"OpenThreadButton_arrowIcon__QBNCe",progressBarWrapper:"OpenThreadButton_progressBarWrapper__xOPmF",lastReplyText:"OpenThreadButton_lastReplyText__hDQm_",xpPerReplyText:"OpenThreadButton_xpPerReplyText__C0WU3",hasXpPerReplyMentioning:"OpenThreadButton_hasXpPerReplyMentioning__hXoiD"}},922686:function(e){e.exports={caption:"Caption_caption__DAJCp"}},484009:function(e){e.exports={controlsContainer:"ControlsButtons_controlsContainer__c_TYY",visible:"ControlsButtons_visible__vVELZ",optionsButtonContainer:"ControlsButtons_optionsButtonContainer__E_mXp",tooltipMessage:"ControlsButtons_tooltipMessage__AuYa5",button:"ControlsButtons_button__aPjyt",iconActive:"ControlsButtons_iconActive__jOd_2"}},520575:function(e){e.exports={icon:"MessageActionsDropdown_icon__0c7l9"}},908989:function(e){e.exports={buttonsContainer:"RateAnswerButtons_buttonsContainer__zfgqR",successIcon:"RateAnswerButtons_successIcon__lqR67",errorIcon:"RateAnswerButtons_errorIcon__bD0Yc",button:"RateAnswerButtons_button__M7_dD"}},369047:function(e){e.exports={editedMark:"EditedMark_editedMark__RisNa"}},336783:function(e){e.exports={messageWrapper:"MessageWrapper_messageWrapper__btSvC",savedMessage:"MessageWrapper_savedMessage__T3fXA",pinnedMessage:"MessageWrapper_pinnedMessage__Z7imB",messageContent:"MessageWrapper_messageContent__30jwC",avatar:"MessageWrapper_avatar__ZxHqk",container:"MessageWrapper_container__doDcR",rightMode:"MessageWrapper_rightMode__aY32T",editing:"MessageWrapper_editing__5_7lc",message:"MessageWrapper_message___kSyE",sender:"MessageWrapper_sender__PBPED",sendingTime:"MessageWrapper_sendingTime__jSjGN",correct:"MessageWrapper_correct__em1E2",wrong:"MessageWrapper_wrong__6LJWF"}},224320:function(e){e.exports={pinIcon:"PinnedMessageHeader_pinIcon__dQRJI",pinnedMessageHeader:"PinnedMessageHeader_pinnedMessageHeader__ru8p3",right:"PinnedMessageHeader_right__PnmTS"}},795138:function(e){e.exports={icon:"AddReactionButtonWithModal_icon__lNSFv"}},452188:function(e){e.exports={reactionButton:"ReactionElement_reactionButton__R9ueu",active:"ReactionElement_active__a8Exg",reactionCount:"ReactionElement_reactionCount__ux0xr",oneDigit:"ReactionElement_oneDigit__Aon5N",twoDigits:"ReactionElement_twoDigits__QE5Lj",threeDigits:"ReactionElement_threeDigits__1QuPx",fourDigits:"ReactionElement_fourDigits__8TbLa"}},809973:function(e){e.exports={reactionsContainer:"ReactionsContainer_reactionsContainer__PP5cV",content:"ReactionsContainer_content__B2hV8"}},168104:function(e){e.exports={savedIcon:"SavedMessageHeader_savedIcon__86cxs",savedMessageHeader:"SavedMessageHeader_savedMessageHeader__PKdL4",right:"SavedMessageHeader_right__BV5Yq"}},897985:function(e){e.exports={emptyChatBlock:"EmptyChatBlock_emptyChatBlock__Mw5e4"}},374905:function(e){e.exports={avatar:"ParticipantAvatarSkeleton_avatar__r_OEr",placeholder:"ParticipantAvatarSkeleton_placeholder__gOEMf"}},306097:function(e){e.exports={namePlaceholder:"ParticipantNameSkeleton_namePlaceholder__wTyun",placeholder:"ParticipantNameSkeleton_placeholder__N_7Vg"}},40723:function(e){e.exports={receivedXp:"ReceivedXPTag_receivedXp__WLB9n"}},85730:function(e){e.exports={contentContainer:"EmojisBottomSheetModal_contentContainer__JYcWN"}},636599:function(e){e.exports={icon:"ChatMessageBottomSheetModal_icon__7rnD8",emojiContainer:"ChatMessageBottomSheetModal_emojiContainer__NwKTX",deleteButton:"ChatMessageBottomSheetModal_deleteButton__Ck3b3",iconDelete:"ChatMessageBottomSheetModal_iconDelete__VjQAk"}},804483:function(e){e.exports={buttonsContainer:"EditingTextMessage_buttonsContainer__yiMn9",leftMode:"EditingTextMessage_leftMode__iSfo6",rightMode:"EditingTextMessage_rightMode__VQ80E",error:"EditingTextMessage_error__GqnFm"}},964346:function(e){e.exports={enableMobileSelecting:"MobileMessageWrapper_enableMobileSelecting__SEzSq",messageWrapper:"MobileMessageWrapper_messageWrapper__090te",longPress:"MobileMessageWrapper_longPress__bjf7t",messageContent:"MobileMessageWrapper_messageContent__LGmXD",avatar:"MobileMessageWrapper_avatar__tgvzo",container:"MobileMessageWrapper_container__UeMF1",rightMode:"MobileMessageWrapper_rightMode__cgBFl",editing:"MobileMessageWrapper_editing__q0Tp2",message:"MobileMessageWrapper_message__UldiO",header:"MobileMessageWrapper_header__qPFOj",sender:"MobileMessageWrapper_sender__dRVHi",correct:"MobileMessageWrapper_correct__P_MOH",wrong:"MobileMessageWrapper_wrong__N3Ann",savedMessage:"MobileMessageWrapper_savedMessage__B2Xe5",pinnedMessage:"MobileMessageWrapper_pinnedMessage__8IMrt"}},278072:function(e){e.exports={answer:"OpenQuestionAnswer_answer__n6kG4"}},275110:function(e){e.exports={container:"PollOption_container__CWbH6",mainContent:"PollOption_mainContent__Qdv22",percent:"PollOption_percent__ldsFm",radioWithText:"PollOption_radioWithText__y2xxm",progressBar:"PollOption_progressBar__eZ1kw",rightAnswersPercent:"PollOption_rightAnswersPercent__Lqjb7",wrongAnswersPercent:"PollOption_wrongAnswersPercent__VL4_M"}},401525:function(e){e.exports={sendingTime:"MobileMessageFooter_sendingTime__FsQW7"}},441345:function(e){e.exports={icon:"AddReactionButtonWithBottomSheet_icon__AsDjU"}},477460:function(e){e.exports={emojiContainer:"EmojiPickerPreview_emojiContainer__sFpXB",emojiWrapper:"EmojiPickerPreview_emojiWrapper__uLWw2",emojiButton:"EmojiPickerPreview_emojiButton__uuJ6Q",icon:"EmojiPickerPreview_icon__YI4WI"}},495013:function(e){e.exports={reactionsContainer:"MobileReactionsContainer_reactionsContainer__vhFCN",content:"MobileReactionsContainer_content__K_CBx"}},729869:function(e){e.exports={participantsList:"ReactedParticipantsList_participantsList__pWxxU",listItem:"ReactedParticipantsList_listItem__hlPBB"}},882155:function(e){e.exports={contentContainer:"ReactedParticipantsListBottomSheet_contentContainer__KUbv1",tab:"ReactedParticipantsListBottomSheet_tab__TVxPf"}},63812:function(e){e.exports={reactionButton:"ReactionElement_reactionButton__KVvfC",active:"ReactionElement_active__QGAZi",longPress:"ReactionElement_longPress__u7dEm",reactionCount:"ReactionElement_reactionCount__EXkVA",oneDigit:"ReactionElement_oneDigit__FYTb1",twoDigits:"ReactionElement_twoDigits__7J358",threeDigits:"ReactionElement_threeDigits__86_N1",fourDigits:"ReactionElement_fourDigits__zJM3A"}},506577:function(e){e.exports={wrapper:"UserProfilePreviewView_wrapper__JqKa0",title:"UserProfilePreviewView_title__siPDg",occupationWrapper:"UserProfilePreviewView_occupationWrapper__94afA",occupationIconWrapper:"UserProfilePreviewView_occupationIconWrapper__Js_b7"}},189637:function(e){e.exports={input:"InputField_input__dH4LT","mentions--multiLine":"InputField_mentions--multiLine__4kUUh",mentions__input:"InputField_mentions__input__iBygq",mentions:"InputField_mentions__MI6kM",mentions__control:"InputField_mentions__control__3U57i",mentions__highlighter:"InputField_mentions__highlighter__e0QHQ",mentions__mention:"InputField_mentions__mention__dy5Rx",inputWrapper:"InputField_inputWrapper__cMSoM",inputWrapperCompact:"InputField_inputWrapperCompact__xXxds",counter:"InputField_counter__X5_7f",counterRed:"InputField_counterRed__7zVT0"}},82530:function(e){e.exports={filesWrapper:"ChatInputFilePreview_filesWrapper__fw_Wj",content:"ChatInputFilePreview_content__AM160",iconWrapper:"ChatInputFilePreview_iconWrapper__ydUz_",titleContainer:"ChatInputFilePreview_titleContainer___coBp",title:"ChatInputFilePreview_title__5GPB_",fileUploadedIcon:"ChatInputFilePreview_fileUploadedIcon__tpp9V",imageBackground:"ChatInputFilePreview_imageBackground__agwt4",iconPDF:"ChatInputFilePreview_iconPDF__ZXp_A",downloadButton:"ChatInputFilePreview_downloadButton__gM1gb",container:"ChatInputFilePreview_container__5DGBv",loaderContainer:"ChatInputFilePreview_loaderContainer__5zlHh",filesLoader:"ChatInputFilePreview_filesLoader__jlfS_"}},251243:function(e){e.exports={filePreviewWrapper:"FilePreview_filePreviewWrapper__Uygpx",filePreviewWrapperVisible:"FilePreview_filePreviewWrapperVisible__D8_G6",imageContainer:"FilePreview_imageContainer__QvxDm",pdfIcon:"FilePreview_pdfIcon__8HIRo",textContainer:"FilePreview_textContainer__Kqs8U"}},364858:function(e){e.exports={wrapper:"ImagePreview_wrapper__zLERH",wrapperVisible:"ImagePreview_wrapperVisible__hjNYq",container:"ImagePreview_container__rx3_q",loader:"ImagePreview_loader__UGxFU"}},629046:function(e){e.exports={wrapper:"MediaPreviewSlider_wrapper__m4rUO",container:"MediaPreviewSlider_container__ZlXJS",header:"MediaPreviewSlider_header__ObZ8n",closeButton:"MediaPreviewSlider_closeButton__buSys",meta:"MediaPreviewSlider_meta__8QYgw",metaImageWrapper:"MediaPreviewSlider_metaImageWrapper__1CyAI",metaImage:"MediaPreviewSlider_metaImage__G6l7L",truncate:"MediaPreviewSlider_truncate__yb4Yx",navButton:"MediaPreviewSlider_navButton__VwwDt",navButtonNext:"MediaPreviewSlider_navButtonNext__H_l8F",navButtonPrev:"MediaPreviewSlider_navButtonPrev__ph66T"}},593507:function(e){e.exports={wrapper:"TextWithCopyButton_wrapper__aDhMA",textWithIcon:"TextWithCopyButton_textWithIcon__WKT_T",text:"TextWithCopyButton_text__B836U",buttonWrapper:"TextWithCopyButton_buttonWrapper__SAKe8",button:"TextWithCopyButton_button__wIWFC"}},921787:function(e){e.exports={userNameWrapper:"UserName_userNameWrapper__oSvlY",wrapper:"UserName_wrapper__wtyxo"}},296475:function(e){e.exports={outerContainer:"InputControls_outerContainer__UBfUs",innerContainer:"InputControls_innerContainer__99lRi",innerContainerEditing:"InputControls_innerContainerEditing__pil4S"}}}]);
//# sourceMappingURL=https://static.mate.academy/frontend/19564f7f85f845ca2949635ddb37550195fd838b/_next/static/chunks/6402-a83e3fcdd5f4f68c.js.map