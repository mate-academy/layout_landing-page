(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9597],{18898:function(e,t,n){"use strict";n.d(t,{s:function(){return T}});var s=n(414924),i=n(785893),r=n(667294),a=n(449613),o=n(583575),u=n(404201),l=n(80018),c=n(176369),d=n(94923),f=n(780864),v=n(586347),k=n(511193),p=n.n(k),T=(0,r.memo)((function(e){var t=e.activeTab,n=e.tabsData,k=e.onTabClick,T=void 0===k?v.Bi:k,h=e.shouldRenderReadonlyTabIcon,m=void 0!==h&&h,g=e.handleCloseTab,b=e.dataQa,C=void 0===b?"editor-tab-button-wrapper":b,R=(0,r.useCallback)((function(e){var n,r=e.icon,u=m&&e.isReadonly?f.t:r,v=t===e.id;return(0,i.jsxs)("div",{className:(0,a.cn)(p().tabButtonWrapper,{active:v}),"data-qa":C,children:[(0,i.jsx)(o.zx,{mode:o.qo.TransparentLight,size:o.qE.Small,onClick:function(){return T(e.id)},text:e.title,dataQa:"editor-tab-button",className:(0,a.cn)(p().tabItem,(n={},(0,s.Z)(n,p().noRightPadding,e.shouldRenderCloseTab),(0,s.Z)(n,p().isActive,v),n)),renderLeftIcon:function(){return u&&(0,i.jsx)(u,{size:d.J.Small,className:(0,a.cn)(p().notShrinkable,"mr-8")})},renderRigthIcon:function(){return e.isNotSaved&&(0,i.jsx)(c.n,{style:{width:"8px"},className:(0,a.cn)("ml-8")})}}),e.shouldRenderCloseTab&&(0,i.jsx)(o.zx,{className:(0,a.cn)(p().closeTabBtn,(0,s.Z)({},p().isActive,v)),mode:o.qo.TransparentLight,size:o.qE.Small,onClick:function(){null===g||void 0===g||g(e.id)},LeftIcon:l.W,dataQa:"close-tab-button"})]})}),[t,T,m,g,C]);return(0,i.jsx)(u.m,{activeTab:t,tabsData:n,isCompact:!0,renderTab:R})}))},916882:function(e,t,n){"use strict";n.d(t,{i:function(){return R}});var s=n(10253),i=n(785893),r=n(667294),a=n(870055),o=n(943644),u=n(523917),l=n(219965),c=n(360014),d=n(583575),f=n(666229),v=n(584097),k=n(430155),p=n(233655),T=n(700401),h=n.n(T),m=(0,r.memo)((function(e){var t=e.onShowFile,n=(0,v.$G)([k.WY.codeEditor]).t;return(0,i.jsx)("div",{className:h().wrapper,children:(0,i.jsxs)("div",{className:h().content,children:[(0,i.jsxs)("p",{className:(0,f.cn)(c.c.platformH2,"mb-12",h().title),children:[(0,i.jsx)(p.P,{}),n("".concat(k.WY.codeEditor,":large_file_warning.title"))]}),(0,i.jsx)("p",{className:(0,f.cn)(c.c.platformTextMain,"mb-24"),children:n("".concat(k.WY.codeEditor,":large_file_warning.description"))}),(0,i.jsx)(d.zx,{mode:d.zx.mode.Secondary,onClick:t,text:n("".concat(k.WY.codeEditor,":large_file_warning.button_text")),size:d.zx.size.Large})]})})})),g=n(213469),b=n.n(g),C=function(e){var t=e.path,n=e.alt;return(0,i.jsx)("img",{src:t,alt:n,className:b().image})},R=function(e){var t,n=e.children,c=e.file,d=e.contextId,f=e.shouldShowLargeFileWarning,v=void 0!==f&&f,k=e.largeFileSize,p=void 0===k?u.CV:k,T=l.s.codeEditorLargeFileWarning(null!==d&&void 0!==d?d:"",null!==(t=null===c||void 0===c?void 0:c.path)&&void 0!==t?t:""),h=(0,s.Z)((0,o.Xs)(T,!v),2),g=h[0],b=h[1],R=(0,r.useCallback)((function(){b(!0)}),[b]);if(!c)return null;switch(c.kind){case a.h2x.Binary:return(0,i.jsx)(C,{path:c.url,alt:c.path});case a.h2x.Text:default:return(null===c||void 0===c?void 0:c.content.length)>=p&&!g?(0,i.jsx)(m,{onShowFile:R}):n}}},523917:function(e,t,n){"use strict";n.d(t,{CV:function(){return o},G9:function(){return a},Gy:function(){return i},nx:function(){return r},oj:function(){return s}});var s=function(e,t){return localStorage.getItem("".concat(e).concat(t))},i=function(e,t,n){localStorage.setItem("".concat(e).concat(t),n)},r=function(e,t){return localStorage.removeItem("".concat(e).concat(t))},a=function(e){return Number(localStorage.getItem("test_task_attempt_file:".concat(e)))},o=1e4},968633:function(e,t,n){"use strict";n.d(t,{pq:function(){return d},s1:function(){return s.s},ih:function(){return i.i}});var s=n(18898),i=n(916882),r=n(626042),a=n(269396),o=n(785893),u=n(667294),l=n(505152),c=n.n(l)()((function(){return Promise.all([n.e(3714),n.e(5928),n.e(4542),n.e(8764),n.e(731),n.e(9117)]).then(n.bind(n,6538)).then((function(e){return e.CodeEditorNoSSR}))}),{loadableGenerated:{webpack:function(){return[6538]}},ssr:!1}),d=(0,u.forwardRef)((function(e,t){return(0,o.jsx)(c,(0,a.Z)((0,r.Z)({},e),{editorRef:t}))}))},645733:function(e,t,n){"use strict";var s;n.d(t,{F:function(){return s}}),function(e){e.Vs="vs",e.VsDark="vs-dark",e.HcBlack="hc-black",e.HcLight="hc-light",e.Mate="mate",e.MateDark="mate-dark"}(s||(s={}))},387852:function(e,t,n){"use strict";n.d(t,{Y:function(){return c}});var s=n(578817),i=n(645733),r=n(442907),a=n(209446),o=n(906583),u=function(e){switch(e){case r.U.Dark:return i.F.VsDark;case r.U.Light:default:return i.F.Vs}},l=function(e){switch(e){case r.U.Dark:case r.U.KnowelyDark:return i.F.MateDark;case r.U.Light:case r.U.KnowelyLight:default:return i.F.Mate}},c=function(){var e=(0,s.hQ)().colorTheme;return((0,a.m)(o.A.MonacoEditorMateTheme)?l:u)(e)}},924373:function(e,t,n){"use strict";n.d(t,{o:function(){return k},F:function(){return v}});var s=n(10253),i=n(785893),r=n(667294),a=n(8773),o=n(958043),u=n(840117),l=n(943644),c=n(505950);var d=n(586347),f=(0,r.createContext)({layoutChangesEmitter:new o.Q,isLeftSidebarCollapsedRaw:!1,setIsLeftSidebarCollapsedRaw:d.Bi,openLeftSidebar:d.Bi,closeLeftSidebar:d.Bi,isRightSidebarCollapsedRaw:!1,setIsRightSidebarCollapsedRaw:d.Bi,openRightSidebar:d.Bi,closeRightSidebar:d.Bi,pageKey:(0,a.Z)()}),v=function(){return(0,r.useContext)(f)},k=(0,r.memo)((function(e){var t=e.pageKey,n=e.children,a=(0,r.useRef)(new o.Q).current,d=(0,s.Z)((0,l._)(c.d.lmsIsLeftSidebarCollapsed(t),!1),2),v=d[0],k=d[1],p=(0,r.useCallback)((function(){return v&&a.notify({type:u.Cb.OpenLeftSidebar})}),[v,a]),T=(0,r.useCallback)((function(){return!v&&a.notify({type:u.Cb.CloseLeftSidebar})}),[v,a]),h=(0,s.Z)((0,l._)(c.d.lmsIsRightSidebarCollapsed(t),!1),2),m=h[0],g=h[1],b=(0,r.useCallback)((function(){return m&&a.notify({type:u.Cb.OpenRightSidebar})}),[m,a]),C=(0,r.useCallback)((function(){return!m&&a.notify({type:u.Cb.CloseRightSidebar})}),[m,a]),R=(0,r.useMemo)((function(){return{layoutChangesEmitter:a,isLeftSidebarCollapsedRaw:v,setIsLeftSidebarCollapsedRaw:k,openLeftSidebar:p,closeLeftSidebar:T,isRightSidebarCollapsedRaw:m,setIsRightSidebarCollapsedRaw:g,openRightSidebar:b,closeRightSidebar:C,pageKey:t}}),[a,v,k,p,T,m,g,b,C,t]);return(0,i.jsx)(f.Provider,{value:R,children:n})}))},17862:function(e,t,n){"use strict";n.d(t,{E:function(){return u}});var s=n(414924),i=n(785893),r=(n(667294),n(449613)),a=n(302078),o=n.n(a),u=function(e){var t,n=e.hasUniquePosition,a=e.invisible;return(0,i.jsx)("div",{className:(0,r.cn)(o().resizeColHandler,(t={},(0,s.Z)(t,o().mlAuto,!!n),(0,s.Z)(t,o().invisible,a),t))})}},961471:function(e,t,n){"use strict";n.d(t,{a:function(){return r}});var s=n(307297);function i(){var e=(0,s.Z)(["\n    fragment TaskBinaryFile on TestTaskBinaryFile {\n  id\n  testTaskVersionId\n  url\n  path\n  updatedAt\n  type\n  isReadonly\n  githubPath\n}\n    "]);return i=function(){return e},e}var r=(0,n(937878).Ps)(i())},840579:function(e,t,n){"use strict";n.d(t,{$:function(){return r}});var s=n(307297);function i(){var e=(0,s.Z)(["\n    fragment TaskFile on TestTaskFile {\n  id\n  testTaskVersionId\n  content\n  path\n  updatedAt\n  type\n  isReadonly\n  githubPath\n}\n    "]);return i=function(){return e},e}var r=(0,n(937878).Ps)(i())},620575:function(e,t,n){"use strict";n.d(t,{A:function(){return p},a:function(){return k}});var s=n(626042),i=n(999534),r=n(785893),a=n(667294),o=n(586431),u=n(384747),l=n(870055),c=n(958043),d=n(586347),f=n(608151),v=(0,a.createContext)({selectedTaskSlug:"",results:f.Nu,fullScreenState:{fullScreenTab:o.i.None,setFullScreenTab:d.Bi},callbacks:{setSelectedTask:d.HT},tasksMap:f.Nu,tasks:f.LZ,readOnly:!1,linkUUID:"",testTaskLinkId:0,ready:!1,selectedTask:null,onTaskCompleted:d.PL,onTaskFailed:d.Bi,onTaskSentToReview:d.Bi,eventsData:f.Nu,testTaskConfigsMap:f.Nu,selectedTaskConfig:u.lM,taskContext:{testTaskType:l.szx.LiveCoding},isTasksBlockVisible:!0,openTasksBlock:d.Bi,closeTasksBlock:d.Bi,isResultsBlockVisible:!0,openResultsBlock:d.Bi,closeResultsBlock:d.Bi,layoutChangesEmitter:new c.Q,hideTaskListCloseButton:!1,disablePaidTasksProtection:!1,isUsedAiAssistant:!1,setIsUsedAiAssistant:d.Bi,funnelType:void 0}),k=function(e){var t=e.children,n=(0,i.Z)(e,["children"]),o=(0,a.useState)(!1),u=o[0],l=o[1];return(0,r.jsx)(v.Provider,{value:(0,s.Z)({isUsedAiAssistant:u,setIsUsedAiAssistant:l},n),children:t})},p=function(){return(0,a.useContext)(v)}},692081:function(e,t,n){"use strict";n.d(t,{z:function(){return l}});var s=n(307297),i=n(937878),r=n(203463),a=n(546171);function o(){var e=(0,s.Z)(["\n    subscription attemptTestResultsUpdate($id: Int!) {\n  attemptTestResultsUpdate(id: $id) {\n    id\n    testTaskId\n    status\n    hasBeenPassed\n    testResults {\n      ...TaskResults\n    }\n  }\n}\n    ",""]);return o=function(){return e},e}var u=(0,i.Ps)(o(),r.G);function l(e){return a.m(u,e)}},998379:function(e,t,n){"use strict";n.d(t,{i:function(){return r}});var s=n(307297);function i(){var e=(0,s.Z)(["\n    fragment BuildResult on ErrorDetails {\n  message\n  origin\n  name\n  stack\n  filePath\n  startLine\n  startColumn\n}\n    "]);return i=function(){return e},e}var r=(0,n(937878).Ps)(i())},639856:function(e,t,n){"use strict";n.d(t,{ZG:function(){return v},qZ:function(){return f}});var s=n(307297),i=n(937878),r=n(203463),a=n(910053),o=n(443472),u=n(840579),l=n(961471),c=n(506388);function d(){var e=(0,s.Z)(["\n    query codeEditorAttempt($testTaskAttemptId: Int!) {\n  attemptById(id: $testTaskAttemptId) {\n    id\n    personalRating\n    testTask {\n      id\n      slug\n      solutionUrl\n    }\n    ... on CodeEditorAttempt {\n      testResults {\n        ...TaskResults\n      }\n      files {\n        ... on TestTaskAttemptFile {\n          ...TestTaskAttemptFile\n        }\n        ... on TestTaskAttemptBinaryFile {\n          ...TestTaskAttemptBinaryFile\n        }\n      }\n      isAiAssistable\n      version {\n        id\n        body\n        codeFiles {\n          ... on TestTaskFile {\n            ...TaskFile\n          }\n          ... on TestTaskBinaryFile {\n            ...TaskBinaryFile\n          }\n        }\n        testFiles {\n          ... on TestTaskFile {\n            ...TaskFile\n          }\n          ... on TestTaskBinaryFile {\n            ...TaskBinaryFile\n          }\n        }\n        referenceFiles {\n          ... on TestTaskFile {\n            ...TaskFile\n          }\n          ... on TestTaskBinaryFile {\n            ...TaskBinaryFile\n          }\n        }\n      }\n    }\n  }\n}\n    ","\n","\n","\n","\n",""]);return d=function(){return e},e}var f=(0,i.Ps)(d(),r.G,a.P,o.w,u.$,l.a);function v(e){return c.aM(f,e)}},530063:function(e,t,n){"use strict";n.d(t,{b:function(){return u}});var s=n(307297),i=n(937878);function r(){var e=(0,s.Z)(["\n    fragment LinterErrorData on LinterErrorData {\n  name\n  message\n  line\n  column\n  endLine\n  endColumn\n  source\n  severity\n}\n    "]);return r=function(){return e},e}var a=(0,i.Ps)(r());function o(){var e=(0,s.Z)(["\n    fragment LinterResult on LinterResult {\n  path\n  status\n  errors {\n    ...LinterErrorData\n  }\n}\n    ",""]);return o=function(){return e},e}var u=(0,i.Ps)(o(),a)},203463:function(e,t,n){"use strict";n.d(t,{G:function(){return m}});var s=n(307297),i=n(937878);function r(){var e=(0,s.Z)(["\n    fragment TestsResultsMeta on TestsResultsMeta {\n  count\n  failed\n  passed\n  isSuccess\n  isFail\n  isLinterPassed\n}\n    "]);return r=function(){return e},e}var a=(0,i.Ps)(r());function o(){var e=(0,s.Z)(["\n    fragment TestLog on Log {\n  type\n  data\n  timestamp\n  uuid\n}\n    "]);return o=function(){return e},e}var u=(0,i.Ps)(o());function l(){var e=(0,s.Z)(["\n    fragment TestError on TestError {\n  actual\n  expected\n  name\n  pass\n  type\n  resultType\n  details\n}\n    "]);return l=function(){return e},e}var c=(0,i.Ps)(l());function d(){var e=(0,s.Z)(["\n    fragment TestResultAsset on TestResultAsset {\n  groupId\n  name\n  url\n  type\n  kind\n}\n    "]);return d=function(){return e},e}var f=(0,i.Ps)(d());function v(){var e=(0,s.Z)(["\n    fragment TestResult on TestResult {\n  title\n  fullTitle\n  startTime\n  endTime\n  status\n  logs {\n    ...TestLog\n  }\n  error {\n    ...TestError\n  }\n  stack\n  message\n  actual\n  assets {\n    ...TestResultAsset\n  }\n}\n    ","\n","\n",""]);return v=function(){return e},e}var k=(0,i.Ps)(v(),u,c,f),p=n(530063),T=n(998379);function h(){var e=(0,s.Z)(["\n    fragment TaskResults on TaskResults {\n  meta {\n    ...TestsResultsMeta\n  }\n  results {\n    ...TestResult\n  }\n  linterResults {\n    ...LinterResult\n  }\n  buildResult {\n    ...BuildResult\n  }\n}\n    ","\n","\n","\n",""]);return h=function(){return e},e}var m=(0,i.Ps)(h(),a,k,p.b,T.i)},443472:function(e,t,n){"use strict";n.d(t,{w:function(){return r}});var s=n(307297);function i(){var e=(0,s.Z)(["\n    fragment TestTaskAttemptBinaryFile on TestTaskAttemptBinaryFile {\n  id\n  kind\n  url\n  path\n  isReadonly\n  updatedAt\n}\n    "]);return i=function(){return e},e}var r=(0,n(937878).Ps)(i())},910053:function(e,t,n){"use strict";n.d(t,{P:function(){return r}});var s=n(307297);function i(){var e=(0,s.Z)(["\n    fragment TestTaskAttemptFile on TestTaskAttemptFile {\n  id\n  kind\n  content\n  path\n  isReadonly\n  updatedAt\n  isEntry\n}\n    "]);return i=function(){return e},e}var r=(0,n(937878).Ps)(i())},128781:function(e,t,n){"use strict";n.d(t,{x:function(){return i}});var s=n(650769),i=function(){return(0,s.I)()}},780864:function(e,t,n){"use strict";n.d(t,{t:function(){return o}});var s=n(626042),i=n(269396),r=n(785893),a=n(94923),o=function(e){return(0,r.jsx)(a.s,(0,i.Z)((0,s.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,r.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5ZM12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17ZM12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z",fill:"currentColor"})}))}},176369:function(e,t,n){"use strict";n.d(t,{n:function(){return o}});var s=n(626042),i=n(269396),r=n(785893),a=n(94923),o=function(e){return(0,r.jsx)(a.s,(0,i.Z)((0,s.Z)({width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,r.jsx)("circle",{"data-qa":"unsaved-code-icon",cx:"4",cy:"4",r:"4",fill:"currentColor"})}))}},652744:function(e,t,n){"use strict";n.d(t,{u:function(){return r}});var s=n(758680),i=n(500787),r={sendEvent:function(e,t){var n="code_editor_".concat(e);(0,s.jq)(n,t),i.B.getInstance().sendEvent(n,t)},events:{taskChecked:"task_checked",taskCheckedKeyBinding:"task_checked_key_binding",fullScreenToggle:"full_screen_toggle",sampleTestsScreenToggle:"sample_tests_screen_toggle"}}},520018:function(e,t,n){"use strict";n.d(t,{l:function(){return u},P:function(){return j}});var s,i=n(10253),r=n(667294),a=n(943644),o=n(505950),u=function(e){var t=e.key,n=e.defaultWidth,s=e.minWidth,u=e.defaultHeight,l=void 0===u?"100%":u,c=(0,r.useRef)(null),d=(0,i.Z)((0,a._)(o.d.resizableBlockWidth(t),n,(function(e){c.current&&c.current.updateSize({height:"100%",width:e})})),2),f=d[0],v=d[1],k=(0,i.Z)((0,a._)(o.d.resizableBlockHeight(t),l,(function(e){c.current&&c.current.updateSize({height:e||"100%",width:"auto"})})),2),p=k[0],T=k[1],h=(0,r.useMemo)((function(){return f!==s}),[s,f]),m=(0,r.useCallback)((function(){if(c.current){var e=h?s:n;c.current.updateSize({width:e,height:"100%"}),v(e)}}),[n,h,s,v]);return{width:f,setWidth:v,height:p,setHeight:T,isOpened:h,toggleSize:m,resizableInstance:c}},l=n(147568),c=n(626042),d=n(269396),f=n(197582),v=n(870055),k=n(534145),p=n(584097),T=n(620575),h=n(298698),m=n(430155),g=n(502496),b=n(652744),C=n(500787),R=n(608151),_=function(e){var t,n,s,i,r=e.eventsData,a=void 0===r?R.Nu:r,o=e.attempt,u=e.testResults,l=e.checkType,f=e.config,k=e.shouldShowImprovedTestResults,p=void 0===k?null:k,T=e.doesHaveErrorDetails,h=void 0===T?null:T,m=e.runFinishedInSeconds,g=void 0===m?null:m,_=o.testTask.solutionUrl,y=f.isRefSolutionVisible,S=f.isSampleTestsVisible,w=f.isFileTreeVisible,I=(o.version.referenceFiles||R.LZ).length>0,E=!!_||I&&y,x=1===u.results.length&&(null===(t=u.results[0])||void 0===t||null===(n=t.error)||void 0===n?void 0:n.type)===v.tXH.SyntaxError?v.tXH.SyntaxError:(null===(s=u.results[0])||void 0===s||null===(i=s.error)||void 0===i?void 0:i.type)||null;b.u.sendEvent(b.u.events.taskChecked,(0,d.Z)((0,c.Z)({},a),{slug:o.testTask.slug,taskSlug:o.testTask.slug,testsCount:u.meta.count,testsFailed:u.meta.failed,testsPassed:u.meta.passed,isCompleted:u.meta.isSuccess,isFailed:u.meta.isFail,isCompletedInteger:u.meta.isSuccess?1:0,ipAddress:C.B.getInstance().getUserIP(),clientId:C.B.getInstance().getGoogleClientId(),userAgent:C.B.getInstance().getUserAgent(),checkType:l,isReferenceSolutionAvailable:E,isSampleTestsVisible:S,isFileTreeVisible:w,errorType:x,shouldShowImprovedTestResults:p,doesHaveErrorDetails:h,runFinishedInSeconds:g}))};!function(e){e.Sync="sync",e.Async="async"}(s||(s={}));var y="test_task_link_time_is_over",S=n(586347),w=n(307297),I=n(937878),E=n(650319);function x(){var e=(0,w.Z)(["\n    mutation checkCodeEditorTaskAsync($slug: String!, $linkUUID: String!, $files: [BaseTestTaskfile]!, $taskContext: TestTaskContext!, $shouldRunTests: Boolean, $testTaskAttemptId: Int) {\n  checkCodeEditorTaskAsync(\n    slug: $slug\n    linkUUID: $linkUUID\n    files: $files\n    taskContext: $taskContext\n    shouldRunTests: $shouldRunTests\n    testTaskAttemptId: $testTaskAttemptId\n  )\n}\n    "]);return x=function(){return e},e}var B=(0,I.Ps)(x());var Z=n(639856),A=n(998379),F=n(546171);function P(){var e=(0,w.Z)(["\n    subscription attemptBuildUpdate($id: Int!) {\n  attemptBuildUpdate(id: $id) {\n    id\n    buildResult {\n      ...BuildResult\n    }\n  }\n}\n    ",""]);return P=function(){return e},e}var L=(0,I.Ps)(P(),A.i);var z=n(692081),U=function(e){var t,n,u=e.attempt,b=e.setHasCodeChecked,C=e.setInitialRunCompleted,R=e.setCodeRunning,w=e.onComplete,I=(0,T.A)(),x=I.linkUUID,A=I.onTaskCompleted,P=I.onTaskFailed,U=I.taskContext,D=I.eventsData,H=I.selectedTaskConfig,$=(0,k.ZW)().showMessage,M=(0,p.$G)().t,N=(0,i.Z)((0,a._)(o.d.hasSeenTaskSolutionMessage(null!==(t=null===u||void 0===u?void 0:u.testTask.slug)&&void 0!==t?t:""),!1),2),j=N[0],W=N[1],V=(0,i.Z)(E.D(B,n),2),q=V[0],G=V[1].error;!function(e){F.m(L,e)}({variables:{id:(null===u||void 0===u?void 0:u.id)||0},onData:function(e){var t=e.client,n=e.data;if(u){var s=n.data;if(s){var i=s.attemptBuildUpdate;if(i){var r=t.cache.identify({__typename:"CodeEditorAttempt",id:i.id}),a=t.readQuery({query:Z.qZ,variables:{testTaskAttemptId:i.id}});t.cache.modify({id:r,fields:{testResults:function(){return(0,d.Z)((0,c.Z)({},a.attemptById.testResults),{buildResult:i.buildResult})}}})}}}}}),(0,z.z)({variables:{id:(null===u||void 0===u?void 0:u.id)||0},onData:function(){var e=(0,l.Z)((function(e){var t,n,i,r,a,o,l,d;return(0,f.__generator)(this,(function(f){switch(f.label){case 0:return t=e.client,n=e.data,u?(R(!1),C(u.testTask.slug),(null===(i=n.data)||void 0===i?void 0:i.attemptTestResultsUpdate)?(r=i.attemptTestResultsUpdate,_({eventsData:D,testResults:r.testResults,checkType:s.Async,attempt:u,config:H}),a=r.status,o=r.testResults,l=r.hasBeenPassed,t.cache.modify({id:"CodeEditorAttempt:".concat(r.id),fields:(0,c.Z)({},a&&{status:function(){return a}},o&&{testResults:function(){return o}},(0,S.Gg)(l)&&{hasBeenPassed:function(){return l}})}),b(!0),!u.testTask.solutionUrl||r.status!==v.tet.Passed||j?[3,2]:(W(!0),[4,$({type:h.oK.info,heading:M("".concat(m.WY.codeEditor,":test_task_solved_title")),text:M("".concat(m.WY.codeEditor,":test_task_solved_description"))})])):[2]):[2];case 1:f.sent(),f.label=2;case 2:return(d=r.testResults).meta.isSuccess?[4,null===A||void 0===A?void 0:A()]:[3,4];case 3:f.sent(),f.label=4;case 4:return d.meta.isFail&&(null===P||void 0===P||P()),w&&w(),[2]}}))}));return function(t){return e.apply(this,arguments)}}()});var Y=(0,r.useCallback)(function(){var e=(0,l.Z)((function(e){var t;return(0,f.__generator)(this,(function(n){switch(n.label){case 0:if(!u)return[2];n.label=1;case 1:return n.trys.push([1,3,,8]),R(!0),[4,q({variables:{slug:u.testTask.slug,linkUUID:x,files:(0,g.a)(e),taskContext:U,testTaskAttemptId:u.id},optimisticResponse:{checkCodeEditorTaskAsync:!0},update:function(t,n){var s;(null===(s=n.data)||void 0===s?void 0:s.checkCodeEditorTaskAsync)&&(e.forEach((function(e){t.modify({id:"TestTaskAttemptFile:".concat(e.id),fields:{content:function(){return e.content}}})})),t.modify({id:"CodeEditorAttempt:".concat(u.id),fields:{testResults:function(){return null}}}))}})];case 2:return n.sent(),[3,8];case 3:return t=n.sent(),R(!1),(null===t||void 0===t?void 0:t.message)!==y?[3,5]:[4,$(h.X3.codeEditor.noTimeLeftError)];case 4:return n.sent(),[2];case 5:return(null===t||void 0===t?void 0:t.networkError)?[3,7]:[4,$(h.X3.codeEditor.checkTaskError)];case 6:n.sent(),n.label=7;case 7:return[2];case 8:return G?(R(!1),G.networkError?[3,10]:[4,$(h.X3.codeEditor.checkTaskError)]):[3,10];case 9:n.sent(),n.label=10;case 10:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[u,U,G,R,$,x,q]);return[Y]},D=n(248160),H=n(128781),$=n(897367),M=n(270109),N=n(924373),j=function(e){var t,n=e.attempt,u=e.setHasCodeChecked,b=e.setInitialRunCompleted,C=e.config,R=(0,r.useState)(!1),S=R[0],w=R[1],I=(0,N.F)().openRightSidebar,E=(0,r.useCallback)(I,[I]),x=(0,i.Z)(function(e){var t,n=e.attempt,u=e.setInitialRunCompleted,b=e.setCodeRunning,C=e.onComplete,R=(0,T.A)(),S=R.linkUUID,w=R.onTaskCompleted,I=R.onTaskFailed,E=R.eventsData,x=R.taskContext,B=R.selectedTaskConfig,Z=(0,H.x)(),A=(0,i.Z)((0,a._)(o.d.hasSeenTaskSolutionMessage(null!==(t=null===n||void 0===n?void 0:n.testTask.slug)&&void 0!==t?t:""),!1),2),F=A[0],P=A[1],L=(0,k.ZW)().showMessage,z=(0,p.$G)().t,U=(0,i.Z)((0,D.M)(),2),N=U[0],j=U[1],W=j.loading,V=j.error,q=(0,$.h)(),G=q.isEnabled(q.ImprovedTestResults),Y=(0,p.tv)(),K=Y.pathname,O=Y.query,Q=Y.push,X=(0,r.useCallback)((function(){Q({pathname:K,query:(0,d.Z)((0,c.Z)({},O),{taskSection:M.M.Tests})})}),[Q,K,O]),J=(0,r.useCallback)(function(){var e=(0,l.Z)((function(e){var t,i,r,a,o,l,c,d,k,p;return(0,f.__generator)(this,(function(f){switch(f.label){case 0:if(!n)return[2];r=(new Date).getTime(),f.label=1;case 1:return f.trys.push([1,3,8,9]),u(n.testTask.slug),b(!0),[4,N({variables:{slug:n.testTask.slug,linkUUID:S,files:(0,g.a)(e),taskContext:x,testTaskAttemptId:n.id}})];case 2:return a=f.sent(),[3,9];case 3:return(null===(o=f.sent())||void 0===o?void 0:o.message)!==y?[3,5]:[4,L(h.X3.codeEditor.noTimeLeftError)];case 4:return f.sent(),[2];case 5:return(null===o||void 0===o?void 0:o.networkError)?[3,7]:[4,L(h.X3.codeEditor.checkTaskError)];case 6:f.sent(),f.label=7;case 7:return[2];case 8:return b(!1),C&&C(),[7];case 9:return V?V.networkError?[3,11]:[4,L(h.X3.codeEditor.checkTaskError)]:[3,12];case 10:f.sent(),f.label=11;case 11:return[2];case 12:return(null===(l=a.data)||void 0===l?void 0:l.checkCodeEditorTask)?(c=l.checkCodeEditorTask,d=c.testResults,k=c.status,p=((new Date).getTime()-r)/1e3,_({eventsData:E,testResults:d,checkType:s.Sync,attempt:n,config:B,shouldShowImprovedTestResults:G,doesHaveErrorDetails:Boolean(null===(t=d.results[0])||void 0===t||null===(i=t.error)||void 0===i?void 0:i.details),runFinishedInSeconds:p}),Z&&[v.tet.Failed,v.tet.Passed].includes(k)&&X(),!n.testTask.solutionUrl||k!==v.tet.Passed||F?[3,14]:(P(!0),[4,L({type:h.oK.info,heading:z("".concat(m.WY.codeEditor,":test_task_solved_title")),text:z("".concat(m.WY.codeEditor,":test_task_solved_description"))})])):[2];case 13:f.sent(),f.label=14;case 14:return d.meta.isSuccess?[4,null===w||void 0===w?void 0:w()]:[3,16];case 15:f.sent(),f.label=16;case 16:return d.meta.isFail&&(null===I||void 0===I||I()),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[b,w,I,N,n,E,S,u,L,z,x,F,P,V,Z,B,G,C,X]);return[J,W]}({attempt:n,setInitialRunCompleted:b,setCodeRunning:w,onComplete:E}),1),B=x[0],Z=(0,i.Z)(U({attempt:n,setHasCodeChecked:u,setInitialRunCompleted:b,setCodeRunning:w,onComplete:E}),1)[0];return(null===C||void 0===C||null===(t=C.tests)||void 0===t?void 0:t.some((function(e){return e.async})))?{runCode:Z,loading:S,hasAsyncTests:!0}:{runCode:B,loading:S,hasAsyncTests:!1}}},502496:function(e,t,n){"use strict";n.d(t,{a:function(){return i}});var s=n(870055),i=function(e){return e.filter((function(e){return e.kind!==s.h2x.Binary})).map((function(e){return{id:e.id,path:e.path,content:e.content}}))}},248160:function(e,t,n){"use strict";n.d(t,{M:function(){return v}});var s=n(626042),i=n(667294),r=n(586347),a=n(307297),o=n(937878),u=n(203463),l=n(910053),c=n(650319);function d(){var e=(0,a.Z)(["\n    mutation checkCodeEditorTask($slug: String!, $linkUUID: String!, $files: [BaseTestTaskfile]!, $taskContext: TestTaskContext!, $testTaskAttemptId: Int) {\n  checkCodeEditorTask(\n    slug: $slug\n    linkUUID: $linkUUID\n    files: $files\n    taskContext: $taskContext\n    testTaskAttemptId: $testTaskAttemptId\n  ) {\n    id\n    testTaskId\n    status\n    hasBeenPassed\n    shouldShowSolution\n    testResults {\n      ...TaskResults\n    }\n    files {\n      ...TestTaskAttemptFile\n    }\n  }\n}\n    ","\n",""]);return d=function(){return e},e}var f=(0,o.Ps)(d(),u.G,l.P);var v=function(){var e,t=(0,i.useCallback)((function(e,t){var n=t.data;if(null===n||void 0===n?void 0:n.checkCodeEditorTask){var i=n.checkCodeEditorTask,a=i.status,o=i.files,u=i.testResults,l=i.hasBeenPassed,c=i.shouldShowSolution;e.modify({id:"CodeEditorAttempt:".concat(i.id),fields:(0,s.Z)({},a&&{status:function(){return a}},o&&{files:function(){return o}},u&&{testResults:function(){return u}},(0,r.Gg)(l)&&{hasBeenPassed:function(){return l}},(0,r.Gg)(c)&&{shouldShowSolution:function(){return c}})})}}),[]);return e={update:t},c.D(f,e)}},586431:function(e,t,n){"use strict";n.d(t,{c:function(){return l},i:function(){return s}});var s,i=n(10253),r=n(667294),a=n(652744),o=n(943644),u=n(505950);!function(e){e.Editor="editor",e.Results="results",e.None="none"}(s||(s={}));var l=function(e,t){var n=(0,i.Z)((0,o._)(u.d.codeEditorFullScreenTab(e),s.None),2),l=n[0],c=n[1];return[l,(0,r.useCallback)((function(e){c(e),a.u.sendEvent(a.u.events.fullScreenToggle,{tab:e,taskSlug:t})}),[t,c])]}},384747:function(e,t,n){"use strict";n.d(t,{c8:function(){return c},dr:function(){return l},gw:function(){return d},lM:function(){return u}});var s=n(414924),i=n(626042),r=n(667294),a=n(706255),o=n(608151),u={isSampleTestsVisible:!0,isLinterEnabled:!0,isLinterBlocker:!0,isOptional:!1,isAutocompleteEnabled:!0,isRefSolutionVisible:!1,isFileTreeVisible:!1,hoursToPassToShowSolution:24,hasChecklist:!1,peerReviewAvailable:!1,tests:o.LZ,shouldShowAttachCheckbox:!0,isAIReviewEnabled:!1,isMentorReviewOptional:!1},l=function(e){var t=e.courseTopicTaskConfig,n=e.testTaskConfig,s=e.moduleConfig,r=e.topicConfig,l=e.courseConfig;return(0,i.Z)({},u,(0,a.xc)(l||o.Nu),(0,a.xc)(s||o.Nu),(0,a.xc)(r||o.Nu),(0,a.xc)(n||o.Nu),(0,a.xc)(t||o.Nu))},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.LZ;return e.reduce((function(e,t){return t?(0,i.Z)({},e,(0,a.xc)(t)):e}),u)},d=function(e){return(0,r.useMemo)((function(){return e.reduce((function(e,t){return Object.assign(e,(0,s.Z)({},t.slug,t.config))}),{})}),[e])}},706255:function(e,t,n){"use strict";n.d(t,{Zk:function(){return i},iS:function(){return r},xc:function(){return s}});var s=function(e){var t={};return Object.keys(e).forEach((function(n){var s=e[n];null!==s&&void 0!==s&&(t[n]=s)})),t},i=function(e,t){return e.reduce((function(e,n){return e.set(n[t],n)}),new Map)},r=function(e){return i(e,"id")}},511193:function(e){e.exports={tabButtonWrapper:"EditorTabs_tabButtonWrapper__jSySr",closeTabBtn:"EditorTabs_closeTabBtn__Ao7Jq",tabItem:"EditorTabs_tabItem__eooZi",noRightPadding:"EditorTabs_noRightPadding__yHlzn",isActive:"EditorTabs_isActive__59owk",closeTabBtnVisible:"EditorTabs_closeTabBtnVisible__WhpVo",notShrinkable:"EditorTabs_notShrinkable__WmeMI"}},213469:function(e){e.exports={image:"FileImage_image__RTHTz"}},700401:function(e){e.exports={wrapper:"LargeFileWarning_wrapper__m7vip",content:"LargeFileWarning_content__002nq",title:"LargeFileWarning_title__pTfl9"}},302078:function(e){e.exports={resizeColHandler:"ResizeHandlers_resizeColHandler__uQZRR",invisible:"ResizeHandlers_invisible__40IJl",mlAuto:"ResizeHandlers_mlAuto__GWGn1",resizeRowHandler:"ResizeHandlers_resizeRowHandler__zPvqV",browserResizeColumnHandler:"ResizeHandlers_browserResizeColumnHandler__Eqs4w",browserResizeRowHandler:"ResizeHandlers_browserResizeRowHandler__5zvFn",browserResizeIconWrapper:"ResizeHandlers_browserResizeIconWrapper__8hil6",browserResizeIcon:"ResizeHandlers_browserResizeIcon__UZ3MI",contentBlock:"ResizeHandlers_contentBlock__YO5to",isHidden:"ResizeHandlers_isHidden__K5oDm"}}}]);
//# sourceMappingURL=https://static.mate.academy/frontend/19564f7f85f845ca2949635ddb37550195fd838b/_next/static/chunks/9597-d57ea5a6a108e2aa.js.map