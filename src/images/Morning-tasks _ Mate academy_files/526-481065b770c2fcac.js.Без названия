(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[526],{64905:function(e,n,t){"use strict";t.d(n,{P:function(){return b}});var r=t(626042),i=t(269396),s=t(10253),a=t(667294),o=t(608151),c=t(897367),u=t(723224),l=t(157747),d=t(943644),v=t(219965),f=t(586347),p=t(71823),m={shouldShowExpirationBanner:!1,isEnglishSubscriptionExpired:!1,daysToSubscriptionEnding:0,closeBanner:f.Bi},b=function(){var e=(0,p.jT)({variables:{filter:{started:!0}}}).data,n=(0,s.Z)((0,d.Xs)(v.s.wasEnglishSubscriptionEndingBannerShown,!1),2),t=n[0],f=n[1],b=(0,s.Z)((0,l.f)({ssr:!0}),1)[0],h=(0,u.kk)(b),g=(0,a.useCallback)((function(){f(!0)}),[f]),x=(0,c.h)(),_=x.EnglishSubscriptionTriggers;if((0,x.isDisabled)(_))return m;var y=null===e||void 0===e?void 0:e.userSubscriptions.find((function(e){var n=e.subscriptionPlan,t=e.expired;return String(n.type).includes("ENGLISH")&&!t})),j=null===e||void 0===e?void 0:e.userSubscriptions.find((function(e){var n=e.subscriptionPlan,t=e.expired;return String(n.type).includes("ENGLISH")&&t}));if(h)return m;if(!y)return(0,i.Z)((0,r.Z)({},m),{isEnglishSubscriptionExpired:Boolean(j)});var E=y.dateNext;if(!E)return m;var k=new Date(E),W=new Date,w=k.getTime()-W.getTime(),Z=Math.ceil(w/o.x4);return(0,i.Z)((0,r.Z)({},m),{shouldShowExpirationBanner:!t&&w<o.ps&&w>0,closeBanner:g,daysToSubscriptionEnding:Z>0?Z:0})}},302847:function(e,n,t){"use strict";t.d(n,{i:function(){return _}});var r=t(147568),i=t(10253),s=t(197582),a=t(785893),o=t(667294),c=t(430155),u=t(751904),l=t(983896),d=t(584097),v=t(18852),f=t(445890),p=t(870055),m=t(234505),b=t(608151),h=t(929053),g=t(448148),x=t(586347),_=function(e){var n,t=e.event,_=e.amplitudeData,y=(0,d.$G)([c.WY.events]).t,j=(0,o.useState)(!1),E=j[0],k=j[1],W=(0,v.Q)(t),w=W.isOwner,Z=W.freePlaces,S=W.isParticipant,Y=W.isInQueue,I=W.isEventLocked,N=(0,i.Z)((0,l.D)(),2),T=N[0],P=N[1],D=(0,o.useMemo)((function(){return{title:y("".concat(c.WY.events,":confirm_unsubscribe_title")),body:t.type===p.GMl.EnglishLesson?y("".concat(c.WY.events,":confirm_unsubscribe_body")):y("".concat(c.WY.events,":sidebar.confirm_unsubscribe_message")),confirmText:y("".concat(c.WY.events,":confirm")),cancelText:y("".concat(c.WY.events,":cancel"))}}),[t.type,y]),L=(0,i.Z)((0,u.N)(D),1)[0],C=(0,o.useState)((0,m.c)(t.startAt)),A=C[0],G=C[1];(0,o.useEffect)((function(){if(S||w){var e=setInterval((function(){G((0,m.c)(t.startAt))}),b.EB);return function(){clearInterval(e)}}return x.HT}),[S,t.startAt,w]);var q=(0,o.useMemo)((function(){return A&&t.locationType===p.qXP.Online&&S}),[t.locationType,S,A]),O=(0,o.useCallback)(function(){var e=(0,r.Z)((function(e){return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return e.stopPropagation(),[4,L()];case 1:return n.sent()?[4,P(t,k)]:[2];case 2:return n.sent(),_&&f.J.sendEvent(f.J.events.unsubscribeFromEvent,_),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),[_,L,t,P]),$=(0,o.useCallback)(function(){var e=(0,r.Z)((function(e){return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return e.stopPropagation(),[4,T(t,k,Z>0)];case 1:return n.sent(),_&&f.J.sendEvent(f.J.events.subscribeToEvent,_),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),[t,T,Z,_]);(0,o.useEffect)((function(){k(!1)}),[Y,S,I]);var M=t.type===p.GMl.Webinar||t.type===p.GMl.EnglishLesson||t.type===p.GMl.TechCheck?"".concat(h.Z.user.event,"/").concat(t.id).concat(h.Z.user.join):t.location;return(0,a.jsx)(g.Z,{isOwner:w,freePlaces:Z,isEventLocked:I,lockReasonText:"".concat(y("".concat(c.WY.events,":english.user_is_banned"))),isParticipant:S,isInQueue:Y,isProcessing:E,subscribe:$,unsubscribe:O,eventLocation:M,isCorporate:"EventDetails"===(null===(n=t.details)||void 0===n?void 0:n.__typename)&&t.details.isCorporate,shouldRenderJoinButton:q,lessThan10MinToStart:A})}},572567:function(e,n,t){"use strict";t.d(n,{G:function(){return a}});var r=t(667294),i=t(292776),s=t(586347),a=(0,r.createContext)({eventsSearchParams:{filter:{level:null,category:null}},eventsOwnFilter:null,setEventsOwnFilter:s.Bi,activeEventsTable:i._1.EnglishLesson,selectedEventId:null,setSelectedEventId:s.Bi,updateSearchParams:s.Bi,setActiveEventsTable:s.Bi,isFormDirty:{current:!1}})},149629:function(e,n,t){"use strict";t.d(n,{s:function(){return s}});var r=t(667294),i=t(572567),s=function(){return(0,r.useContext)(i.G)}},348106:function(e,n,t){"use strict";t.d(n,{O:function(){return he}});var r=t(785893),i=t(667294),s=t(430155),a=t(584097),o=t(18852),c=t(449613),u=t(292776),l=t(889781),d=t(506780),v=t.n(d),f=t(630597),p=t(404201),m=t(147568),b=t(626042),h=t(269396),g=t(10253),x=t(197582),_=t(166688),y=t(521689),j=t(354358),E=function(){var e=(0,a.$G)([s.WY.events]).t;return(0,r.jsx)(y.W,{label:{for:"event-topic",text:e("".concat(s.WY.events,":sidebar.topic"))},renderInput:function(n){return(0,r.jsx)(j.o,(0,h.Z)((0,b.Z)({},n),{placeholder:e("".concat(s.WY.events,":sidebar.topic_placeholder"))}))},disabled:!1,name:"eventDetails.topic"})},k=t(548399),W=function(){var e=(0,a.$G)([s.WY.events]).t;return(0,r.jsx)(y.W,{label:{for:"event-comment",text:e("".concat(s.WY.events,":sidebar.comment"))},renderInput:function(n){return(0,r.jsx)(k.z,(0,h.Z)((0,b.Z)({},n),{rows:8,placeholder:e("".concat(s.WY.events,":sidebar.comment_placeholder"))}))},disabled:!1,name:"eventDetails.comment"})},w=t(347678),Z=t(575283),S=t(674054),Y=function(){var e=(0,a.$G)([s.WY.events]).t;return(0,r.jsx)(y.W,{label:{for:"event-category",text:e("".concat(s.WY.events,":sidebar.category"))},renderInput:function(n){return(0,r.jsx)(Z.Ph,(0,b.Z)({placeholder:e("".concat(s.WY.events,":sidebar.category")),options:(0,S.R)(e)},n))},disabled:!1,name:"eventDetails.category"})},I=t(234337),N=t(41428),T=t(197618),P=t(583575),D=t(157747),L=t(149629),C=t(840530),A=t(466782),G=function(e){var n=e.handleSubmit,t=e.initialValues,o=e.submitting,c=(0,a.$G)([s.WY.events]).t,u=(0,_.cI)(),l=(0,_.cl)(),d=(0,g.Z)((0,D.f)({ssr:!0}),1)[0],v=(0,i.useMemo)((function(){return(0,A.e)(d)}),[d]),f=(0,L.s)().isFormDirty;return(0,i.useEffect)((function(){f.current=l.dirty}),[l.dirty,f]),(0,r.jsx)("form",{onSubmit:n,children:(0,r.jsxs)("fieldset",{children:[(0,r.jsx)("div",{className:"mb-16",children:(0,r.jsx)(I.k,{name:"event.date"})}),(0,r.jsx)("div",{className:"mb-16",children:(0,r.jsx)(N.n,{name:"event.time",areTimeOptionsUnlimited:!0})}),v&&(0,r.jsx)("div",{className:"mb-16",children:(0,r.jsx)(C.j,{name:"event.creatorId"})}),(0,r.jsx)("div",{className:"mb-16",children:(0,r.jsx)(T.s,{name:"event.location"})}),(0,r.jsx)("div",{className:"mb-16",children:(0,r.jsx)(w.T,{name:"eventDetails.level"})}),(0,r.jsx)("div",{className:"mb-16",children:(0,r.jsx)(Y,{})}),(0,r.jsx)("div",{className:"mb-16",children:(0,r.jsx)(E,{})}),(0,r.jsx)("div",{className:"mb-16",children:(0,r.jsx)(W,{})}),(0,r.jsxs)("div",{className:"flex-container align-justify flex-child-grow",children:[(0,r.jsx)(P.zx,{className:"mr-8 align-center width-100",mode:P.zx.mode.Secondary,size:P.zx.size.Large,text:c("".concat(s.WY.events,":form.reset")),onClick:function(){return u.reset(t)},disabled:l.pristine,type:"reset"}),(0,r.jsx)(P.zx,{type:"submit",className:"align-center width-100","data-qa":"submit-update-button",mode:P.zx.mode.Primary,size:P.zx.size.Large,text:c("".concat(s.WY.events,":form.submit")),isLoading:o,disabled:l.hasValidationErrors||l.pristine})]})]})})},q=t(476157),O=t(751904),$=t(383185),M=t(512611),F=t(586347),U=t(534145),B=t(390828),z=t(989393),H=t(307297),R=t(937878),J=t(202947),Q=t(650319);function K(){var e=(0,H.Z)(["\n    mutation updateEnglishEvent($id: Int!, $event: UpdateEventOptions, $eventDetails: UpdateEventDetailsOptions) {\n  updateEnglishEvent(id: $id, event: $event, eventDetails: $eventDetails) {\n    ...EnglishEventFull\n  }\n}\n    ",""]);return K=function(){return e},e}var V=(0,R.Ps)(K(),J.X);var X,ee=t(335250);!function(e){e.Date="date",e.Time="time"}(X||(X={}));var ne=function(e){var n,t=e.event,o=(0,a.$G)([s.WY.events]).t,c=(0,g.Z)(Q.D(V,n),1)[0],u=(0,g.Z)((0,ee.T)(),1)[0],l=(0,g.Z)((0,O.N)({title:o("".concat(s.WY.events,":update.skeleton.confirm_save_title")),body:"",confirmText:o("".concat(s.WY.events,":update.skeleton.confirm_yes")),cancelText:o("".concat(s.WY.events,":update.skeleton.confirm_no"))}),1)[0],d=(0,g.Z)((0,O.N)({title:o("".concat(s.WY.events,":update.skeleton.confirm_is_update_all_events_title")),body:"",confirmText:o("".concat(s.WY.events,":update.skeleton.confirm_is_update_all_events_yes")),cancelText:o("".concat(s.WY.events,":update.skeleton.confirm_is_update_all_events_no"))}),1)[0],v=(0,U.ZW)().showMessage,f=(0,i.useCallback)(function(){var e=(0,m.Z)((function(e,n){var r,i,a,f,p;return(0,x.__generator)(this,(function(m){switch(m.label){case 0:return m.trys.push([0,8,,9]),(i=t.eventSkeletonId)?[4,d()]:[3,2];case 1:i=Boolean.apply(void 0,[m.sent()]),m.label=2;case 2:return r=i,[4,l()];case 3:return m.sent()?r&&t.eventSkeletonId?(f=(0,B.C)(e,n.getState().dirtyFields,t.eventSkeletonId),[4,u({variables:(0,h.Z)((0,b.Z)({},f),{updateEvents:!0})})]):[3,5]:[2,null];case 4:return a=m.sent(),[3,7];case 5:return p=function(e,n,t){var r,i={};return Object.keys(n).forEach((function(n){var r=(0,g.Z)(n.split("."),2),s=r[0],a=r[1];if((0,F.Gg)(s)){if(i[s]||(i[s]={id:e[s].id}),a===X.Date||a===X.Time)return i.event.startAt=(0,$.F)(e.event.date,e.event.time),void(i.event.endAt=(0,M.$)(i.event.startAt,t));if((0,F.Gg)(a))if("object"===typeof e[s][a]&&null!==e[s][a])i[s][a]=e[s][a].value;else{var o=void 0===e[s][a];i[s][a]=o?null:e[s][a]}}})),(null===(r=i.event)||void 0===r?void 0:r.creatorId)&&(i.event.creatorId=Number(i.event.creatorId)),i}(e,n.getState().dirtyFields,t.type),[4,c({variables:(0,b.Z)({id:t.id},p)})];case 6:a=m.sent(),m.label=7;case 7:return v({type:"success",text:o("".concat(s.WY.events,":form.event_successfully_updated"))}),[2,a];case 8:return m.sent(),[2,v({type:"error",text:o("".concat(s.WY.events,":form.error_during_event_updating"))})];case 9:return[2]}}))}));return function(n,t){return e.apply(this,arguments)}}(),[t.eventSkeletonId,t.type,t.id,d,l,v,o,u,c]),p=(0,i.useMemo)((function(){var e,n="".concat(new Date(t.startAt).getHours(),":").concat(new Date(t.startAt).getMinutes()||"00"),r={event:{id:t.id,location:t.location,date:t.startAt,creatorId:(0,z.O8)(null!==(e=t.creator)&&void 0!==e?e:null),time:{value:n,label:n}}};if(t.details){var i=t.details,s=i.level,a=i.topic,c=i.comment,u=i.category,l=i.id;return(0,h.Z)((0,b.Z)({},r),{eventDetails:{id:l,topic:a||void 0,comment:c||void 0,level:(0,q.l)(o).find((function(e){return e.value===s})),category:(0,S.R)(o).find((function(e){return e.value===u}))}})}return r}),[t,o]);return(0,r.jsx)(_.l0,{onSubmit:f,component:G,initialValues:p})},te=t(383869),re=t(618758),ie=function(e){var n=e.event,t=e.closeSidebar,d=(0,a.$G)([s.WY.events]).t,m=[{id:u.hv.Information,title:d("".concat(s.WY.events,":sidebar.information_tab"))},{id:u.hv.Participants,title:d("".concat(s.WY.events,":sidebar.participants_title"))}],b=(0,o.Q)(n),h=b.participantsCount,g=b.isEventFinished,x=g?u.hv.Participants:u.hv.Information,_=(0,i.useState)(x),y=_[0],j=_[1],E=(0,i.useCallback)((function(e){var n=e.title,t=e.isActive,i=e.id,s=e.className;return(0,r.jsx)(l.o,{className:(0,c.cn)(s,v().tab),clickHandler:j,tabId:i,isActive:t,tabTitle:n,children:i===u.hv.Participants&&(0,r.jsx)(f.h,{className:"ml-8",isActive:t,count:h})})}),[h,j]);return(0,r.jsxs)(r.Fragment,{children:[h>0&&!g&&(0,r.jsx)(p.m,{activeTab:y,tabsData:m,renderTab:E}),y===u.hv.Information&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ne,{event:n}),(0,r.jsx)(te.V,{eventId:n.id,onComplete:t})]}),y===u.hv.Participants&&(0,r.jsx)(re.$,{eventId:n.id,participantsCount:h,capacity:n.capacity,isEnglishEvent:!0})]})},se=t(306186),ae=t(870055),oe=t(218747),ce=t(660898),ue=t(360014),le=t(518695),de=t(445890),ve=function(e){var n=e.topic,t=e.category,o=e.comment,u=(0,a.$G)([s.WY.events]).t,l=Boolean(n||t||o),d=(0,g.Z)((0,D.f)({ssr:!0}),1)[0],f=(0,i.useCallback)((function(){de.J.sendEvent(de.J.events.englishHomeworkClicked,{userId:null===d||void 0===d?void 0:d.id})}),[null===d||void 0===d?void 0:d.id]);return l?(0,r.jsxs)("section",{className:v().contentSection,children:[t&&(0,r.jsxs)("div",{className:"mb-16",children:[(0,r.jsx)("h3",{className:(0,c.cn)(ue.c.platformH5,"mb-8","c-text-platform-secondary"),children:u("".concat(s.WY.events,":sidebar.category"))}),(0,r.jsx)("p",{className:(0,c.cn)("flex-container align-middle c-text-platform-default",ue.c.platformH4),"data-qa":"english-event-category",children:u("".concat(s.WY.events,":category.").concat(t.toLowerCase()))})]}),n&&(0,r.jsxs)("div",{className:"mb-16",children:[(0,r.jsx)("h3",{className:(0,c.cn)(ue.c.platformH5,"mb-8","c-text-platform-secondary"),children:u("".concat(s.WY.events,":sidebar.topic"))}),(0,r.jsx)("p",{className:(0,c.cn)("flex-container align-middle c-text-platform-default",ue.c.platformH4),"data-qa":"english-topic",children:n})]}),o&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:(0,c.cn)(ue.c.platformH5,"mb-8","c-text-platform-secondary"),children:u("".concat(s.WY.events,":sidebar.comment"))}),(0,r.jsx)("div",{onClick:f,"data-qa":"english-comment",children:(0,r.jsx)(le.r,{children:o})})]})]}):null},fe=t(394752),pe=t(499753),me=t(221741),be=t(289782),he=function(e){var n,t,c,u,l=e.event,d=e.closeSidebar,f=(0,a.$G)([s.WY.events]).t,p=(0,o.Q)(l),m=p.canUpdateEvent,b=p.isParticipant,h=p.isQueue,g=p.isEventFinished,x=(0,i.useState)(m),_=x[0],y=x[1],j=function(e,n,t){return e?"sidebar.warning_message_event_finished":n?"sidebar.warning_message_event_cancelling":!n&&t?"events.warning_queue":""}(g,b,h),E=h||b,k=m?{isAdminPanel:_,setIsAdminPanel:y}:void 0,W=(0,pe.V)(l.id),w=l.creator,Z=l.host,S=(null===Z||void 0===Z?void 0:Z.fullName)||(null===w||void 0===w?void 0:w.fullName),Y=(null===Z||void 0===Z?void 0:Z.avatar)||(null===w||void 0===w?void 0:w.avatar),I=(null===Z||void 0===Z?void 0:Z.id)||(null===w||void 0===w?void 0:w.id),N=(0,i.useMemo)((function(){return{title:l.title,subTitle:(e=l.locationType,e===ae.qXP.Online?"Online":"Offline"),speaker:S||"",hostAvatar:Y,userId:I};var e}),[l.title,l.locationType,S,Y,I]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(se.$,{closeSidebar:d,info:N,toggleData:k}),_?(0,r.jsx)(ie,{event:l,closeSidebar:d}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(oe.P,{event:l}),(0,r.jsx)(ve,{topic:null===l||void 0===l||null===(n=l.details)||void 0===n?void 0:n.topic,category:null===l||void 0===l||null===(t=l.details)||void 0===t?void 0:t.category,comment:null===l||void 0===l||null===(c=l.details)||void 0===c?void 0:c.comment}),b&&!g&&(0,r.jsx)(fe.n,{startAt:l.startAt,endAt:l.endAt,location:W,id:l.id,title:l.title,speaker:(null===(u=l.creator)||void 0===u?void 0:u.firstName)||""}),E&&(0,r.jsx)("section",{className:v().contentSection,"data-qa":"english-warning",children:(0,r.jsx)(me.b,{mode:me.b.mode.Warning,children:f("".concat(s.WY.events,":").concat(j))})}),!g&&(0,r.jsx)("section",{className:v().contentSection,children:(0,r.jsx)("div",{className:"flex-container align-left",children:(0,r.jsx)(be.d,{event:l,amplitudeData:(0,ce._)(l,"Sidebar")})})})]})]})}},780444:function(e,n,t){"use strict";t.d(n,{C:function(){return s}});var r=t(929053),i=t(33350);function s(e){return e?(0,i._)(r.Z.user.webinarLP(e)):null}},208037:function(e,n,t){"use strict";t.d(n,{U:function(){return p}});var r=t(785893),i=t(667294),s=t(430155),a=t(584097),o=t(583575),c=t(929053),u=t(952496),l=t(418795),d=t(780388),v=t(506780),f=t.n(v),p=(0,i.memo)((function(e){var n=e.webinarSlug,t=(0,d.B)(),i=t.subDomain,v=t.language,p=(0,a.$G)([s.WY.events]).t,m=c.Z.user.webinarConsultation(n),b=(0,l.Z)(m,{domain:i,language:v});return(0,r.jsxs)("div",{className:f().webinarButtonsRow,children:[(0,r.jsx)(o.zx,{"data-qa":"webinar-consultation-link-button",mode:o.qo.Secondary,size:o.qE.Small,href:m,text:p("".concat(s.WY.events,":link_to_webinar_consultation_page")),rel:"noreferrer nofollow noopener",target:"_blank"}),(0,r.jsx)(u.q,{content:b,mode:o.qo.Secondary})]})}))},364099:function(e,n,t){"use strict";t.d(n,{m:function(){return C}});var r=t(10253),i=t(785893),s=t(667294),a=t(306186),o=t(218747),c=t(394752),u=t(18852),l=t(660898),d=t(506780),v=t.n(d),f=t(430155),p=t(584097),m=t(499753),b=t(302847),h=t(157747),g=t(697345),x=t(449613),_=t(583575),y=t(929053),j=t(360014),E=t(307297),k=t(937878);function W(){var e=(0,E.Z)(["\n    fragment SpecialOffersLinkBase on SpecialOffersLink {\n  id\n  uuid\n  eventId\n  deadlineDate\n  title\n  placesLeft\n  timerTitle\n  timerDescription\n  placesLeftTitle\n  placesLeftDescription\n  supportLink\n}\n    "]);return W=function(){return e},e}var w=(0,k.Ps)(W()),Z=t(506388);function S(){var e=(0,E.Z)(["\n    query specialOffersLinks($eventId: Int!) {\n  specialOffersLinks(eventId: $eventId) {\n    ...SpecialOffersLinkBase\n  }\n}\n    ",""]);return S=function(){return e},e}var Y=(0,k.Ps)(S(),w);var I=t(440999),N=t.n(I),T=(0,s.memo)((function(e){var n,t=e.eventId,r=e.isEventFinished,s=e.isMateUser,a=(0,p.$G)([f.WY.events]).t,o=(n={variables:{eventId:t}},Z.aM(Y,n)),c=o.data,u=o.loading,l=s||r,d=null===c||void 0===c?void 0:c.specialOffersLinks.filter((function(e){var n=e.deadlineDate;return new Date(n).getTime()-(new Date).getTime()>0}));return u||!s&&!r?null:(0,i.jsxs)("div",{children:[l&&d&&(null===d||void 0===d?void 0:d.length)>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h3",{className:(0,x.cn)(j.c.platformH4,"mb-16"),children:a("".concat(f.WY.events,":event_offers_title"))}),(0,i.jsx)("ul",{className:"mb-16",children:d.map((function(e){var n=e.id,t=e.title,r=e.uuid;return(0,i.jsx)("li",{children:(0,i.jsx)(p.rU,{href:"".concat(y.Z.user.eventsOffers,"/").concat(r),passHref:!0,children:(0,i.jsx)("a",{className:(0,x.cn)(j.c.platformTextSecondary,N().offerLink),children:t})})},n)}))})]}),s&&(0,i.jsx)(_.zx,{"data-qa":"create-event-offers-button",text:a("".concat(f.WY.events,":create_event_offers_buttton")),href:"".concat(y.Z.user.eventsOffersGenerate,"/").concat(t)})]})})),P=t(221741),D=t(208037),L=t(723224),C=(0,s.memo)((function(e){var n,t,d,x,_,y=e.event,j=e.closeSidebar,E=(0,p.$G)([f.WY.events]).t,k=(0,u.Q)(y),W=k.isParticipant,w=k.isEventFinished,Z=(0,r.Z)((0,h.f)({ssr:!0}),1)[0],S=Boolean((0,L.eE)(Z)||(0,L.aG)(Z)),Y=(0,m.V)(y.id),I=(0,s.useMemo)((function(){var e,n;return{title:y.title,subTitle:(null===(e=y.details)||void 0===e?void 0:e.speakerPosition)||"",speaker:(null===(n=y.details)||void 0===n?void 0:n.speaker)||""}}),[y]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.$,{closeSidebar:j,info:I}),(0,i.jsx)(o.P,{event:y}),W&&!w&&(0,i.jsx)(c.n,{startAt:y.startAt,endAt:y.endAt,location:Y,id:y.id,title:y.title,speaker:(null===(n=y.details)||void 0===n?void 0:n.speaker)||""}),w&&(0,i.jsx)("section",{className:v().contentSection,children:(0,i.jsx)(P.b,{mode:P.b.mode.Warning,children:E("".concat(f.WY.events,":sidebar.warning_message_event_finished"))})}),!w&&(0,i.jsx)(b.i,{event:y,amplitudeData:(0,l._)(y,"Sidebar")}),S&&(null===(t=y.details)||void 0===t||null===(d=t.webinarLink)||void 0===d?void 0:d.link)&&(0,i.jsx)("div",{className:"mt-28",children:(0,i.jsx)(g.N,{webinarEvergreenSlug:y.details.webinarLink.link})}),S&&(null===(x=y.details)||void 0===x?void 0:x.slug)&&(0,i.jsx)("div",{className:"mt-28",children:(0,i.jsx)(D.U,{webinarSlug:null===(_=y.details)||void 0===_?void 0:_.slug})}),(0,i.jsx)("div",{className:"mt-28",children:(0,i.jsx)(T,{eventId:y.id,isEventFinished:w,isMateUser:S})})]})}))},697345:function(e,n,t){"use strict";t.d(n,{N:function(){return v}});var r=t(785893),i=t(667294),s=t(430155),a=t(584097),o=t(583575),c=t(952496),u=t(506780),l=t.n(u),d=t(780444),v=(0,i.memo)((function(e){var n=e.webinarEvergreenSlug,t=(0,a.$G)([s.WY.events]).t,i=(0,d.C)(n);return(0,r.jsxs)("div",{className:l().webinarButtonsRow,children:[(0,r.jsx)(o.zx,{mode:o.qo.Secondary,size:o.qE.Small,href:i,text:t("".concat(s.WY.events,":link_to_webinar_page")),rel:"noreferrer nofollow noopener",target:"_blank"}),(0,r.jsx)(c.q,{content:i,mode:o.qo.Secondary})]})}))},289782:function(e,n,t){"use strict";t.d(n,{d:function(){return I}});var r=t(147568),i=t(197582),s=t(785893),a=t(667294),o=t(430155),c=t(584097),u=t(18852),l=t(870055),d=t(234505),v=t(608151),f=t(929053),p=t(448148),m=t(82670),b=t(10253),h=t(830990),g=t(534145),x=t(298698),_=t(157747),y=t(751904),j=t(445890),E=t(292776),k=t(6231),W=t(210390),w=function(){var e=(0,g.ZW)().showMessage,n=(0,c.$G)([o.WY.events]).t,t=(0,b.Z)((0,_.f)({ssr:!0}),1)[0],s=(0,b.Z)((0,y.N)({title:n("".concat(o.WY.events,":confirm_subscribe_title")),body:n("".concat(o.WY.events,":confirm_subscribe_body")),confirmText:n("".concat(o.WY.events,":confirm")),cancelText:n("".concat(o.WY.events,":cancel"))}),1)[0],u=(0,b.Z)((0,W.B)(),2),l=u[0],d=u[1].loading,v=(0,a.useCallback)(function(){var t=(0,r.Z)((function(t,r){var s,a,c,u,d,v;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,l({variables:t,update:function(e,n){var t=n.data;if(null===t||void 0===t?void 0:t.createUserEvent){var r=t.createUserEvent,i=r.id,s=r.eventId;(0,k.z1)({store:e,eventTypename:E.OI.EnglishEvent,participantId:i,eventId:s,isOwnEvent:!0}),(0,k.tk)({cache:e,eventId:s||null})}}})];case 1:return i.sent(),e({type:x.oK.success,text:n("".concat(o.WY.events).concat(r?":message.user_successfully_subscribed":":message.user_successfully_subscribed_queue"))}),[3,3];case 2:return s=i.sent(),(0,m.Z)(s,h.cA)&&(u=function(e){switch(e){case E._3.EnglishLevelNotSuitable:return{type:x.oK.info,text:"".concat(o.WY.events,":message.english_level_permission_required")};case E._3.MaxAmountOfLessonPerWeek:return{type:x.oK.info,text:"".concat(o.WY.events,":message.max_amount_of_classes_per_week")};case E._3.UserIsBanned:return{type:x.oK.error,text:"".concat(o.WY.events,":message.user_is_banned")};case E._3.EnglishCoursePermissionRequired:return{type:x.oK.error,text:"".concat(o.WY.events,":message.user_need_english_course_permission")};default:return{type:x.oK.error,text:"".concat(o.WY.events,":message.error_during_user_subscribing")}}}(null!==(c=null===(a=null===s||void 0===s?void 0:s.graphQLErrors[0])||void 0===a?void 0:a.message)&&void 0!==c?c:""),d=u.type,v=u.text,e({type:d,text:n(v)})),[3,3];case 3:return[2]}}))}));return function(e,n){return t.apply(this,arguments)}}(),[l,e,n]),f=(0,a.useCallback)(function(){var e=(0,r.Z)((function(e){var n,r,a=arguments;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n=!(a.length>1&&void 0!==a[1])||a[1],r=a.length>2?a[2]:void 0,[4,s()];case 1:return i.sent()?[4,v({eventId:e.id,userId:null===t||void 0===t?void 0:t.id},n)]:[2];case 2:return i.sent(),r&&j.J.sendEvent(j.J.events.subscribeToEvent,r),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),[s,v,null===t||void 0===t?void 0:t.id]);return{subscribe:f,loading:d}},Z=t(257267),S=t(64905),Y=t(586347),I=function(e){var n,t=e.event,m=e.amplitudeData,h=(0,c.$G)([o.WY.events]).t,W=(0,a.useState)((0,d.c)(t.startAt)),I=W[0],N=W[1],T=(0,S.P)().isEnglishSubscriptionExpired,P=(0,u.Q)(t),D=P.isOwner,L=P.freePlaces,C=P.isParticipant,A=P.isInQueue,G=P.isEventLocked,q=w(),O=q.subscribe,$=q.loading,M=function(){var e=(0,b.Z)((0,_.f)({ssr:!0}),1)[0],n=(0,b.Z)((0,Z.k)(),2),t=n[0],s=n[1].loading,u=(0,c.$G)([o.WY.events]).t,l=(0,g.ZW)().showMessage,d=(0,b.Z)((0,y.N)({title:u("".concat(o.WY.events,":confirm_unsubscribe_title")),body:u("".concat(o.WY.events,":confirm_unsubscribe_body")),confirmText:u("".concat(o.WY.events,":confirm")),cancelText:u("".concat(o.WY.events,":cancel"))}),1)[0],v=(0,a.useCallback)(function(){var n=(0,r.Z)((function(n){return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return e?[4,t({variables:{userId:e.id,eventId:n.id},update:function(e,n){var t=n.data;if(null===t||void 0===t?void 0:t.cancelUserEvent){var r=t.cancelUserEvent,i=r.id,s=r.eventId;(0,k.gY)({store:e,eventTypename:E.OI.EnglishEvent,participantId:i,eventId:s,isOwnEvent:!0}),(0,k.Nk)({cache:e,eventId:s||null})}}})]:[2];case 1:return r.sent(),[2]}}))}));return function(e){return n.apply(this,arguments)}}(),[e,t]),f=(0,a.useCallback)(function(){var e=(0,r.Z)((function(e,n,t){return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),t.shouldConfirm?[4,d()]:[3,2];case 1:if(!r.sent())return[2];r.label=2;case 2:return[4,v(e)];case 3:return r.sent(),n&&j.J.sendEvent(j.J.events.unsubscribeFromEvent,n),l({type:x.oK.success,text:u("".concat(o.WY.events,":message.user_successfully_unsubscribed"))}),[3,5];case 4:return r.sent(),l({type:x.oK.error,text:u("".concat(o.WY.events,":message.user_unsubscription_failed"))}),[3,5];case 5:return[2]}}))}));return function(n,t,r){return e.apply(this,arguments)}}(),[d,v,l,u]);return{unsubscribe:f,loading:s}}(),F=M.unsubscribe,U=M.loading;(0,a.useEffect)((function(){if(C||D){var e=setInterval((function(){N((0,d.c)(t.startAt))}),v.EB);return function(){clearInterval(e)}}return Y.HT}),[C,t.startAt,D]);var B=(0,a.useMemo)((function(){return I&&t.locationType===l.qXP.Online&&C}),[t.locationType,C,I]),z=(0,a.useCallback)(function(){var e=(0,r.Z)((function(e){return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return e.stopPropagation(),[4,F(t,m,{shouldConfirm:C&&!A})];case 1:return n.sent(),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),[m,t,F,C,A]),H=(0,a.useCallback)(function(){var e=(0,r.Z)((function(e){return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return e.stopPropagation(),[4,O(t,L>0,m)];case 1:return n.sent(),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),[t,O,L,m]),R=(0,a.useMemo)((function(){return"".concat(f.Z.user.event,"/").concat(t.id).concat(f.Z.user.join)}),[t.id]),J=(0,a.useMemo)((function(){return T?h("".concat(o.WY.events,":english.subscription_ended")):"".concat(h("".concat(o.WY.events,":english.user_is_banned")))}),[T,h]);return(0,s.jsx)(p.Z,{isOwner:D,freePlaces:L,isEventLocked:G||T,lockReasonText:J,isParticipant:C,isInQueue:A,isProcessing:$||U,subscribe:H,unsubscribe:z,eventLocation:R,isCorporate:"EventDetails"===(null===(n=t.details)||void 0===n?void 0:n.__typename)&&t.details.isCorporate,shouldRenderJoinButton:B,lessThan10MinToStart:I})}},533193:function(e,n,t){"use strict";t.d(n,{C:function(){return d}});var r=t(147568),i=t(197582),s=t(906583),a=t(307297),o=t(937878),c=t(574065);function u(){var e=(0,a.Z)(["\n    query getFeature($name: String!) {\n  feature(name: $name) {\n    ...BaseFeature\n  }\n}\n    ",""]);return u=function(){return e},e}var l=(0,o.Ps)(u(),c.Y);var d=function(){var e=(0,r.Z)((function(e){var n,t,r,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,null===(n=e.apolloClient)||void 0===n?void 0:n.query({query:l,variables:{name:s.A.HomePage}})];case 1:return a=i.sent(),[2,Boolean(null===a||void 0===a||null===(t=a.data)||void 0===t||null===(r=t.feature)||void 0===r?void 0:r.enabled)]}}))}));return function(n){return e.apply(this,arguments)}}()},518695:function(e,n,t){"use strict";t.d(n,{r:function(){return u}});var r=t(785893),i=t(715176),s=t(449613),a=t(866085),o=t.n(a),c=t(360014),u=function(e){var n=e.children,t=e.className,a=(0,i.Z)({input:n,options:{attributes:function(){return{rel:"noopener noreferrer",target:"_blank"}}}});return(0,r.jsx)("p",{dangerouslySetInnerHTML:{__html:a},className:(0,s.cn)(o().paragraph,c.c.platformH4,t)})}},660898:function(e,n,t){"use strict";t.d(n,{_:function(){return r}});var r=function(e,n){var t;switch(null===(t=e.details)||void 0===t?void 0:t.__typename){case"EventDetails":var r,i;return{eventId:e.id,speaker:null===(r=e.creator)||void 0===r?void 0:r.fullName,level:e.details.level,category:e.details.category,type:e.type,capacity:e.capacity,startAt:new Date(e.startAt).toLocaleTimeString(),dayOfWeek:new Date(e.startAt).getDay(),participantStatus:null===(i=e.meta)||void 0===i?void 0:i.status,place:n};case"WebinarDetails":var s;return{eventId:e.id,speaker:null===(s=e.details)||void 0===s?void 0:s.speaker,type:e.type,place:n};default:return{eventId:e.id,type:e.type,place:n}}}},499753:function(e,n,t){"use strict";t.d(n,{V:function(){return s}});var r=t(667294),i=t(929053),s=function(e){var n=(0,r.useState)(""),t=n[0],s=n[1];return(0,r.useEffect)((function(){var n="".concat(window.location.origin).concat(i.Z.user.event,"/").concat(e).concat(i.Z.user.join);s(n)}),[e]),t}},269865:function(e,n,t){"use strict";t.d(n,{W:function(){return g}});var r=t(147568),i=t(626042),s=t(197582),a=t(785893),o=t(816072),c=t(694297),u=t(951628),l=t(183245),d=t(662705),v=t(929053),f=t(964277),p=t(337383),m=t(581140),b=t(381632),h=t(608151),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){var t=function(e){return(0,a.jsx)(n,(0,i.Z)({},e))};(0,c.h)(n,t,"withAuthUser");var x=function(){var t=(0,r.Z)((function(t){var r,a,c,x,_,y,j;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return x=h.Nu,t.apolloClient?[4,t.apolloClient.query({query:b.AS})]:(f.P.captureMessage("Apollo client is required to process authUser request",{logger:p.k.child(g.name),logLevel:o.LogLevels.Error}),(0,d.u)(t,v.Z.notFound,{action:d.u.action.Replace}),[2,x]);case 1:return _=s.sent(),y=(0,m.zl)(null===(r=_.data)||void 0===r?void 0:r.authUser),j=y&&!e.isAllowedForTemporaryEmailUsers,!(null===(a=_.data)||void 0===a?void 0:a.authUser)||j?((0,d.u)(t,(0,u.G)(e.redirectUrl||(0,l.n)(t)),{action:d.u.action.Replace}),[2,x]):(t.authUser=null===(c=_.data)||void 0===c?void 0:c.authUser,n.getInitialProps?[4,n.getInitialProps(t)]:[3,3]);case 2:x=s.sent(),s.label=3;case 3:return[2,(0,i.Z)({authUser:_.data.authUser},x)]}}))}));return function(e){return t.apply(this,arguments)}}();return t.getInitialProps=x,t}}},174212:function(e,n,t){"use strict";t.d(n,{n:function(){return b}});var r=t(147568),i=t(626042),s=t(197582),a=t(785893),o=t(816072),c=t(694297),u=t(662705),l=t(929053),d=t(964277),v=t(337383),f=t(18247),p=t(533193),m=t(608151),b=function(e){return function(n){var t=function(e){return(0,a.jsx)(n,(0,i.Z)({},e))};(0,c.h)(n,t,"withDomains");var h=function(){var t=(0,r.Z)((function(t){var r,i,a,c;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return t.subDomain?(e.restrictForPassedDomains?!e.domains.includes(t.subDomain):e.domains.includes(t.subDomain))?[3,2]:[4,(0,p.C)(t)]:(d.P.captureMessage("subDomain is required to check access",{logger:v.k.child(b.name),logLevel:o.LogLevels.Error}),(0,u.u)(t,l.Z.notFound,{action:u.u.action.Replace}),[2,m.Nu]);case 1:return i=s.sent(),a=(0,f.n0)(i),(0,u.u)(t,e.redirectUrl||a,{action:u.u.action.Replace}),[2,m.Nu];case 2:return[2,null!==(c=null===(r=n.getInitialProps)||void 0===r?void 0:r.call(n,t))&&void 0!==c?c:m.Nu]}}))}));return function(e){return t.apply(this,arguments)}}();return t.getInitialProps=h,t}}},620578:function(e,n,t){"use strict";t.d(n,{k:function(){return u}});var r=t(307297),i=t(937878),s=t(120449),a=t(506388);function o(){var e=(0,r.Z)(["\n    query authUserStudentsGroup {\n  authUser {\n    id\n    studentsGroup {\n      ...StudentsGroupMinimal\n    }\n  }\n}\n    ",""]);return o=function(){return e},e}var c=(0,i.Ps)(o(),s.k);var u=function(){var e,n,t=a.aM(c,n),r=t.data,i=t.loading;return{userGroup:null===r||void 0===r||null===(e=r.authUser)||void 0===e?void 0:e.studentsGroup,loading:i}}},440999:function(e){e.exports={offerLink:"WebinarOffers_offerLink__h9YuI"}},866085:function(e){e.exports={paragraph:"FormattedText_paragraph__CPex3"}}}]);
//# sourceMappingURL=https://static.mate.academy/frontend/19564f7f85f845ca2949635ddb37550195fd838b/_next/static/chunks/526-481065b770c2fcac.js.map