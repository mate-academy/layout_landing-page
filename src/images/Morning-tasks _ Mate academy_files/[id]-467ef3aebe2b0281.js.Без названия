(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8328],{816729:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/schedule-event/[id]",function(){return t(120528)}])},120528:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return R}});var o=t(147568),i=t(10253),r=t(197582),d=t(785893),a=t(667294),c=t(864059),u=t(189508),s=t(437388),l=t(268634),v=t(662705),_=t(929053),h=t(870055),k=t(584097),f=t(534145),g=t(298698),p=t(944487),E=t(430155),b=t(897367),m=t(906583),C=t(11969),w=t(307297),I=t(937878),T=t(637561),y=t(202947),B=t(945141),W=t(864628),N=t(430574),F=t(731959),L=t(765236),M=t(650319);function Z(){var e=(0,w.Z)(["\n    mutation ensureEventLocation($eventId: Int!) {\n  ensureEventLocation(eventId: $eventId) {\n    ... on WebinarEvent {\n      ...WebinarFull\n    }\n    ... on EnglishEvent {\n      ...EnglishEventFull\n    }\n    ... on TechCheckEvent {\n      ...TechCheckEventFull\n    }\n    ... on ScheduleEvent {\n      ...GroupEvent\n    }\n    ... on InterviewEvent {\n      ...InterviewEventFull\n    }\n    ... on TechCheckSessionEvent {\n      ...TechCheckSessionEventFull\n    }\n    ... on MarathonEvent {\n      ...MarathonEventFull\n    }\n  }\n}\n    ","\n","\n","\n","\n","\n","\n",""]);return Z=function(){return e},e}var G=(0,I.Ps)(Z(),T.f,y.X,B.V,W.V,N.V,F.O,L._);var O=t(404831),S=function(){var e,n=(0,k.tv)(),t=(0,b.h)(),o=(0,k.$G)([E.WY.schedule]).t,r=t.isDisabled(m.A.GoogleMeetLinkAutogeneration),d=(0,O.B3)({variables:{id:Number(n.query.id)}}),c=d.data,u=d.loading,s=(0,i.Z)((e={variables:{eventId:Number(n.query.id)},onError:function(e){var t=e.message;return t.startsWith("https")?(setTimeout((function(){null===window||void 0===window||window.open(t,"_blank"),n.back()}),10*C.sh),(0,f.PV)({type:g.oK.error,heading:o("".concat(E.WY.schedule,":ensure_google_meet_location_re-auth_title")),text:o("".concat(E.WY.schedule,":ensure_google_meet_location_re-auth_text"))})):(0,f.PV)({type:g.oK.error,text:o("".concat(E.WY.schedule,":ensure_google_meet_location_error_message"),{error:e.message})})}},M.D(G,e)),2),l=s[0],v=s[1],_=v.data,h=v.loading;(0,a.useEffect)((function(){r||l()}),[l,r]);var p=!u;return(0,a.useMemo)((function(){return r?p&&(null===c||void 0===c?void 0:c.eventById)?c.eventById:null:!h&&(null===_||void 0===_?void 0:_.ensureEventLocation)?null===_||void 0===_?void 0:_.ensureEventLocation:null}),[null===c||void 0===c?void 0:c.eventById,null===_||void 0===_?void 0:_.ensureEventLocation,h,r,p])},j=t(157747),P=t(921e3),x=t(466782),A=t(903827);function D(){var e=(0,w.Z)(["\n    mutation joinScheduleEvent($eventId: Int!) {\n  joinScheduleEvent(eventId: $eventId) {\n    ...UserEventBase\n  }\n}\n    ",""]);return D=function(){return e},e}var V=(0,I.Ps)(D(),A.B);var Y=function(){var e,n=(0,i.Z)((0,j.f)({ssr:!0}),1)[0],t=S(),d=(0,f.ZW)().showMessage,c=(0,k.$G)([E.WY.schedule]).t,u=(0,k.tv)(),s=(0,i.Z)(M.D(V,e),2),l=s[0],v=s[1],_=(0,a.useCallback)((0,o.Z)((function(){var e,n;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,l({variables:{eventId:Number(u.query.id)}})];case 1:return t.sent(),[3,3];case 2:return e=t.sent(),null===(n=null===e||void 0===e?void 0:e.graphQLErrors[0])||void 0===n||n.message,p.s.CannotFoundMorningTasks,d({type:g.oK.error,text:c("".concat(E.WY.schedule,": message.cannot_found_morning_tasks"))}),[3,3];case 3:return[2]}}))})),[u,l,d,c]),b=v.data,m=(null===t||void 0===t?void 0:t.type)===h.GMl.MorningTasks,C=(0,a.useCallback)((function(){(0,x.e)(n)&&m&&P.k.sendEvent(P.k.events.morningTasksVisitedByCoach,{eventId:null===t||void 0===t?void 0:t.id,userId:null===n||void 0===n?void 0:n.id})}),[n,null===t||void 0===t?void 0:t.id,m]);return(0,a.useEffect)((function(){if(b&&t&&n){m&&C();var e="".concat(t.location);u.push(e)}}),[b,t,u,C,n,m]),[_,v]},$=t(134744),q=t(721079),X=t(269865),K=t(608151),U=function(){var e=(0,i.Z)(Y(),2),n=e[0],t=e[1].loading;return(0,a.useEffect)((function(){n()}),[n]),t?(0,d.jsx)($.a,{loading:!0}):null};U.getInitialProps=function(){var e=(0,o.Z)((function(e){var n;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return[4,(0,l.e)(e)];case 1:return(n=t.sent())&&(null===n||void 0===n?void 0:n.status)===h.p$A.Confirmed||(0,v.u)(e,_.Z.notFound),[2,K.Nu]}}))}));return function(n){return e.apply(this,arguments)}}();var R=(0,c.q)((0,u.X)(q.u),(0,X.W)(),(0,s.h)([E.WY.schedule]))(U)},944487:function(e,n,t){"use strict";var o,i;t.d(n,{s:function(){return o},w:function(){return i}}),function(e){e.CannotFoundMorningTasks="cannot found morning tasks for this event"}(o||(o={})),function(e){e.NotFound="tech_check_event_not_found",e.NoLiveCodingTemplate="tech_check_event_has_no_associated_live_coding_template"}(i||(i={}))},921e3:function(e,n,t){"use strict";t.d(n,{k:function(){return r}});var o=t(758680),i=t(500787),r={sendEvent:function(e,n){var t="calendar_".concat(e);(0,o.jq)(t,n),i.B.getInstance().sendEvent(t,n)},events:{eventSidebarOpened:"event_sidebar_opened",joinEventButtonClicked:"join_event_button_clicked",joinChatButtonClicked:"join_chat_button_clicked",addToGoogleCalendarButtonClicked:"add_to_google_calendar_button_clicked",watchTheoryButtonClicked:"watch_theory_button_clicked",sidebarParticipantsTabOpened:"sidebar_participants_tab_opened",morningTasksVisitedByCoach:"morning_tasks_visited_by_coach",eventDeleted:"event_deleted",eventDuplicated:"event_duplicated",contextMenuOpened:"context_menu_opened",templateCreated:"template_created",templateApplied:"template_applied",pageOpened:"page_opened",eventRecordingLinkAdded:"recording_link_added_to_event",watchEventRecordingButtonClicked:"watch_event_recording_button_clicked",eventHostAddedOrUpdated:"event_host_added_or_updated",eventGuidelineAddedOrUpdated:"event_guideline_added_or_updated",techCheckSessionSkeletonCreated:"tech_check_session_skeleton_created",techCheckSessionEventCreated:"tech_check_session_event_created",techCheckEventsGenerated:"tech_check_events_generated",techCheckEventGenerated:"tech_check_event_generated",studentsDistributedToTechChecks:"students_distributed_to_tech_checks",manualDistributionLinkClicked:"manual_distribution_link_clicked"}}}},function(e){e.O(0,[2678,4885,5675,2571,7691,8491,1166,3186,7409,9714,3698,1920,2866,1017,268,5693,2380,333,5056,4410,5832,4074,1408,5070,1345,8998,9774,2888,179],(function(){return n=816729,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
//# sourceMappingURL=https://static.mate.academy/frontend/19564f7f85f845ca2949635ddb37550195fd838b/_next/static/chunks/pages/schedule-event/[id]-467ef3aebe2b0281.js.map