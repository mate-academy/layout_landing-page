(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[657],{916624:function(e,t,n){"use strict";n.d(t,{x:function(){return a}});var s=n(51438),a=function(){function e(t){(0,s.Z)(this,e),this.config=t}var t=e.prototype;return t.getPermissionRecord=function(e){return this.config.permissions.find((function(t){return t.permission===e}))||null},t.isAllowed=function(e,t){var n=this.getPermissionRecord(e);return!!n&&n.roles.includes(t)},t.isRestricted=function(e,t){var n=this.getPermissionRecord(e);return!n||!n.roles.includes(t)},e}()},641201:function(e,t,n){"use strict";n.d(t,{m:function(){return r}});var s=n(51438),a=n(251968),r=function(){function e(){(0,s.Z)(this,e)}return e.getMessageElement=function(e){var t=e.container,n=e.messageId;return t.querySelector((0,a.K)(n))||null},e.scrollToMessage=function(t){var n=t.container,s=t.messageId,a=t.topMargin,r=void 0===a?0:a,i=e.getMessageElement({container:n,messageId:s});i&&(e.scrollIntoView({container:n,element:i}),r>0&&requestAnimationFrame((function(){e.isViewportAtBottom({container:n})||n.scrollBy(0,-r)})))},e.scrollIntoView=function(t){var n=t.container,s=t.element;requestAnimationFrame((function(){var t=e.isElementFitInViewport({container:n,element:s});s.scrollIntoView({block:t?"center":"start"})}))},e.scrollToPosition=function(e){var t=e.container,n=e.position;requestAnimationFrame((function(){t.scrollTo({top:n})}))},e.scrollToBottom=function(e){var t=e.container;requestAnimationFrame((function(){t.scrollTo({top:t.scrollHeight})}))},e.isElementFitInViewport=function(e){var t=e.container;return e.element.clientHeight<=t.clientHeight},e.isViewportAtBottom=function(e){var t=e.container,n=t.scrollTop,s=t.scrollHeight;return n+t.clientHeight+100>=s},e.isViewportAboveElement=function(e){var t=e.container,n=e.element;return t.scrollTop<n.offsetTop},e}()},62605:function(e,t,n){"use strict";n.d(t,{j:function(){return l}});var s=n(414924),a=n(785893),r=n(667294),i=n(666229),o=n(959935),c=n.n(o),l=(0,r.memo)((function(e){var t=e.children,n=e.highlighted,r=void 0!==n&&n,o=e.className;return(0,a.jsx)("div",{className:(0,i.cn)(c().wrapper,o,(0,s.Z)({},c().highlighted,r)),children:t})}))},857134:function(e,t,n){"use strict";n.d(t,{l:function(){return c}});var s=n(785893),a=n(667294),r=n(666229),i=n(878149),o=n.n(i),c=(0,a.memo)((function(e){var t=e.children,n=e.className;return(0,s.jsx)("p",{className:(0,r.cn)(o().label,n),children:t})}))},673217:function(e,t,n){"use strict";n.d(t,{m:function(){return k}});var s=n(10253),a=n(785893),r=n(667294),i=n(870055),o=n(498912),c=n(394108),l=n(269854),d=n(584097),u=n(430155),h=n(622831),f=n(134744),g=n(534145),p=n(298698),m=n(221741),v=n(583575),C=n(767272),x=n(528559),_=n(888955),M=n.n(_),w=function(e){var t=(0,d.$G)([u.WY.chat]).t,n=e.chatId,o=e.chatName,c=e.shouldJoinManually,l=(0,g.ZW)(),_=(0,s.Z)((0,C.t)({onCompleted:function(){h.w.sendEvent(h.w.events.participantJoined,{chatId:n,chatName:o})},onError:function(e){l.showMessage({type:p.oK.error,text:t("".concat(u.WY.chat,":").concat(e.message)),heading:"Whoops!"})},update:function(e,t){var n=t.data;(null===n||void 0===n?void 0:n.joinChat)&&e.modify({id:e.identify({__typename:i.z_3.GroupChat,id:n.joinChat.chatId}),fields:{myParticipant:function(){return n.joinChat}}})}}),2),w=_[0],j=_[1],b=j.called,I=j.loading,L=j.error,T=(0,r.useCallback)((function(){w({variables:{chatId:n}})}),[n,w]);(0,r.useEffect)((function(){b||c||T()}),[b,T,c]);var k=t("".concat(u.WY.chat,c?":join_chat_manually_message":":join_chat_message"));return(0,a.jsx)("div",{className:M().messageWindow,children:(0,a.jsx)("div",{className:M().wrapper,children:(0,a.jsxs)("div",{className:M().container,children:[(0,a.jsx)(x.f2,{className:M().icon}),(0,a.jsx)("span",{className:M().message,children:"".concat(o||"Group Chat"," \n ").concat(k)}),!c&&(0,a.jsx)(f.a,{size:32,loading:I,className:M().loader}),L&&(0,a.jsx)(m.b,{mode:m.b.mode.Error,className:M().alert,children:t("".concat(u.WY.chat,":").concat(L.message))}),c&&(0,a.jsx)(v.zx,{text:t("".concat(u.WY.chat,":join_chat_button")),size:v.zx.size.Large,mode:v.zx.mode.Primary,onClick:T,isLoading:I})]})})})},j=n(590719),b=n(858293),I=n(759690),L=n(943644),T=n(505950),k=function(e){var t,n=e.chat,d=e.threadId,u=e.setThreadId,h=e.authUserParticipant,f=e.children,g=e.chatConnection,p=e.chatLesson,m=n.id,v=n.accessType,C=n.config,x=n.__typename,_=(0,I.c)(n),M=(0,b.Nl)(h),k=(0,r.useState)(!1),y=k[0],S=k[1],A=(0,r.useState)(!0),Z=A[0],H=A[1],B=(0,s.Z)((0,L._)(T.d.chat.isGuidelinesTabOpen,l.cd.Statistics),2),V=B[0],N=B[1],W=(0,r.useState)((null===p||void 0===p||null===(t=p.details)||void 0===t?void 0:t.chatGuidelineId)||null),P=W[0],R=W[1],E=(0,r.useState)(null),O=E[0],Y=E[1],q=(0,r.useCallback)((function(e,t){u(e,t)}),[u]),F=(0,r.useCallback)((function(){u(null)}),[u]),z=(0,r.useCallback)((function(){S(!y)}),[y]),$=(0,r.useCallback)((function(e){N(e)}),[N]),D=(0,r.useCallback)((function(e){R(e)}),[]),Q=(0,r.useCallback)((function(){R(null)}),[]),U=(0,r.useMemo)((function(){return M&&C.isNotAnsweredHintShown}),[C,M]),G=v===i.$CB.Public,J=(null===h||void 0===h?void 0:h.inactiveReason)===i.Y16.Left;return!h&&G||J?(0,a.jsx)(w,{chatId:n.id,chatName:n.name,shouldJoinManually:J}):h&&h.status!==i.fqv.Inactive?(0,a.jsx)(o.B,{chat:_,threadId:d,openThread:q,closeThread:F,chatTypename:x,config:C,hasRepliedInChat:Z,setHasRepliedInChat:H,isStudentViewEnabled:y,toggleStudentView:z,chatConnection:g,chatLesson:p,chatInputRef:O,setChatInputRef:Y,selectedExtension:V,selectExtension:$,openedGuidelineId:P,openGuideline:D,closeGuideline:Q,children:(0,a.jsx)(j.n,{authParticipant:h,chatId:m,shouldLoadAllParticipants:U,children:f})}):(0,a.jsx)(c._6,{})}},556902:function(e,t,n){"use strict";n.d(t,{E:function(){return o}});var s=n(785893),a=n(667294),r=n(579024),i=n(584698),o=(0,a.memo)((function(e){var t=e.firstUnreadMessageId,n=e.loadOlderMessages,o=e.hasUnreadMessages,c=e.hasMoreOlderMessages,l=e.olderMessagesLoading,d=e.hasMoreNewerMessages,u=e.loadNewerMessages,h=e.newerMessagesLoading,f=e.selectedMessageId,g=e.jumpToUnreadMessages,p=e.jumpToLatestMessages,m=e.unreadMessagesLoading,v=e.latestMessagesLoading,C=e.children,x=(0,a.useState)(null),_=x[0],M=x[1],w=(0,a.useState)(null),j=w[0],b=w[1],I=(0,a.useCallback)((function(e){M(e)}),[]),L=(0,a.useCallback)((function(){M(null)}),[]),T=(0,a.useCallback)((function(e){b(e)}),[]),k=(0,a.useCallback)((function(){b(null)}),[]);return(0,s.jsx)(r.a,{firstUnreadMessageId:t,selectedMessageId:f,jumpToUnreadMessages:g,jumpToLatestMessages:p,unreadMessagesLoading:m,latestMessagesLoading:v,hasUnreadMessages:o,hasMoreOlderMessages:c,olderMessagesLoading:l,hasMoreNewerMessages:d,newerMessagesLoading:h,loadOlderMessages:n,loadNewerMessages:u,children:(0,s.jsx)(i.W,{messageToUpdate:_,messageToDelete:j,updateMessage:I,cancelUpdating:L,cancelDeleting:k,deleteMessage:T,children:C})})}))},269083:function(e,t,n){"use strict";n.d(t,{z:function(){return Cn}});var s=n(785893),a=n(667294),r=n(293292),i=n(673217),o=n(821223),c=n(994321),l=n(584097),d=n(430155),u=n(394108),h=n(26170),f=n(421723),g=n(219478),p=n(498912),m=n(870055),v=n(956473),C=n(147568),x=n(626042),_=n(269396),M=n(10253),w=n(197582),j=n(269854),b=n(133145),I=n(58949),L=n(298698),T=n(534145),k=n(307297),y=n(937878),S=n(917604),A=n(650319);function Z(){var e=(0,k.Z)(["\n    mutation createOpenQuestion($fields: OpenQuestionFields!) {\n  createOpenQuestion(fields: $fields) {\n    ...OpenQuestion\n  }\n}\n    ",""]);return Z=function(){return e},e}var H=(0,y.Ps)(Z(),S.P);var B=n(608151),V=function(){var e,t=(0,T.ZW)(),n=(0,M.Z)((e={onError:function(e){t.showMessage({type:L.oK.error,heading:"Whoops!!!",text:e.message})}},A.D(H,e)),2),s=n[0],r=n[1];return[(0,a.useCallback)((function(e){var t=e.chatId,n=e.senderId,a=e.text,r=e.showCorrectAnswers,i=(new Date).getTime();return s({variables:{fields:e},optimisticResponse:{createOpenQuestion:{__typename:j.Cs.OpenQuestion,id:-1,chatId:t,text:a,senderId:n,isOwn:!0,pinnedBy:null,isSaved:!1,createdAt:i,updatedAt:i,answers:B.LZ,reactionStacks:B.LZ,lastActionTime:null,showCorrectAnswers:r,isPopular:null}},update:function(e,s){var a=s.data,r=null===a||void 0===a?void 0:a.createOpenQuestion;r&&((0,I.E)(e,r),(0,b.Sn)({store:e,participantId:n,lastActionTime:r.createdAt,chatId:t}))}})}),[s]),r]},N=n(486035);function W(){var e=(0,k.Z)(["\n    mutation createPoll($fields: PollFields!) {\n  createPoll(fields: $fields) {\n    ...Poll\n  }\n}\n    ",""]);return W=function(){return e},e}var P=(0,y.Ps)(W(),N.p);var R=function(){var e,t=(0,T.ZW)(),n=(0,M.Z)((e={onError:function(e){t.showMessage({type:L.oK.error,heading:"Whoops!!!",text:e.message})}},A.D(P,e)),2),s=n[0],r=n[1];return[(0,a.useCallback)((function(e){var t=e.chatId,n=e.senderId,a=e.text,r=e.options,i=e.hasCorrect,o=e.showAnswers,c=(new Date).getTime();return s({variables:{fields:e},optimisticResponse:{createPoll:{__typename:j.Cs.Poll,id:-1,chatId:t,senderId:n,text:a,options:r.map((function(e,t){return{__typename:j.i_.PollOption,id:-t,pollId:-1,text:e.text,isCorrect:e.isCorrect||null}})),votes:B.LZ,reactionStacks:B.LZ,isOwn:!0,pinnedBy:null,isSaved:!1,createdAt:c,updatedAt:c,hasCorrect:i,showAnswers:o}},update:function(e,s){var a=s.data,r=null===a||void 0===a?void 0:a.createPoll;r&&((0,I.E)(e,r),(0,b.Sn)({store:e,participantId:n,lastActionTime:r.createdAt,chatId:t}))}})}),[s]),r]},E=n(622831),O=n(726791),Y=n(183985),q=n(633233),F=n(584442),z=n(192399),$=n(825264),D=n(765263),Q=n(905945),U=n(830514),G=n(366252),J=n(584698),K=n(931785),X=n(297027),ee=function(e){return e.reduce((function(e,t){return t.isOwn?e?t.createdAt>e.createdAt?t:e:t:e}),null)},te=function(e){var t=(0,G.x)(),n=(0,J._)().updateMessage,s=e.chatId,r=e.threadId;return(0,a.useCallback)((function(){if(r){var e=t.cache.readQuery({query:K.FD,variables:{id:r}}),a="Thread"===(null===e||void 0===e?void 0:e.chatMessageById.__typename)?e.chatMessageById.messages:B.LZ,i=ee(a);i&&n(i)}else{var o=t.cache.readQuery({query:X.wf,variables:{chatId:s}}),c=ee((null===o||void 0===o?void 0:o.chatMessages.messages)||B.LZ);c&&n(c)}}),[s,r,t.cache,n])},ne=n(517083),se=n(819277),ae=n(789272),re=n(936301),ie=n(916624),oe=n(35068),ce=n(796631),le=n(704983),de=n(828625),ue=n(906583),he=n(846525),fe=n(73557),ge=n(586347),pe=n(620575),me=n(472569),ve=n(952220),Ce=function(){var e,t,n=(0,l.$G)([d.WY.chat]).t,r=(0,F.r)().participant,i=(0,p.f)(),c=i.chat,u=c.id,h=c.name,f=c.kind,g=i.config,v=i.chatLesson,b=i.threadId,I=(0,a.useMemo)((function(){return new ie.x(g)}),[g]),L=g.hasMentorSupport,T=g.allowedMessageTypes,k=(0,ne.s)().scrollViewToBottom,y=!(0,re.l)().isParticipantsModalOpen,S=(0,ce.a)(),A=S.setIsTyping,Z=S.isTyping,H=(0,pe.A)().selectedTask,B=(0,a.useMemo)((function(){return H?{type:fe.n.TASK,task:{id:H.id,name:H.name}}:me.jE}),[H]),N=(0,a.useState)(null),W=N[0],P=N[1],G=(0,M.Z)((0,O.N)(),1)[0],J=(0,M.Z)(V(),1)[0],K=(0,M.Z)(R(),1)[0],X=(0,M.Z)((0,U.H)(),1)[0],ee=te({chatId:u,threadId:b}),Ce=(0,o.R)(u).data,xe=(0,he.R)(),_e=(0,a.useMemo)((function(){return null!==(t=null===Ce||void 0===Ce?void 0:Ce.chat.draft)&&void 0!==t?t:null}),[null===Ce||void 0===Ce?void 0:Ce.chat.draft]),Me=(0,a.useCallback)((function(e){(_e||e)&&X({chatId:u,text:e})}),[u,_e,X]),we=(0,M.Z)((0,D.I)({delayedAction:Me,delay:Q.Lp}),2),je=we[0],be=we[1],Ie=g.areGroupTagsDisabled,Le=(0,z.Ye)($.y.ChatWrite)&&!Ie,Te=(0,ve.a)({chatId:u,allMentionsEnabled:Le}),ke=(0,a.useMemo)((function(){if(null===r||void 0===r?void 0:r.id)return{chatId:u,participantId:null===r||void 0===r?void 0:r.id,chatKind:f}}),[u,null===r||void 0===r?void 0:r.id,f]),ye=null===v||void 0===v||null===(e=v.details)||void 0===e?void 0:e.studentsGroup.name,Se=(0,a.useCallback)((function(e){return(null===r||void 0===r?void 0:r.id)?(0,x.Z)((0,_.Z)((0,x.Z)({chatId:u,chatKind:f,chatName:h,hasMentorSupport:L,isThread:!0,senderId:r.id},ye&&{groupName:ye}),{participantId:r.id,chatLocation:xe}),L&&{linkedTestTask:e.subjectType===fe.n.TASK?ae.gKB.Task:ae.gKB.Other}):null}),[u,f,null===r||void 0===r?void 0:r.id,L,ye,h,xe]),Ae=(0,a.useCallback)((function(e,t){var n=Se(e);n&&t(n)}),[Se]),Ze=(0,a.useCallback)(function(){var e=(0,C.Z)((function(e){var t,n;return(0,w.__generator)(this,(function(s){switch(s.label){case 0:return(null===r||void 0===r?void 0:r.id)?(A&&A(!0),k(),[4,G({chatId:u,senderId:r.id,text:e.text,media:e.uploadFiles,attachedTestTasksIds:(null===(t=e.subject)||void 0===t?void 0:t.type)===fe.n.TASK?[e.subject.task.id]:void 0})]):[2];case 1:return s.sent(),Ae({subjectType:null===(n=e.subject)||void 0===n?void 0:n.type},se.H.chat.sendMessageCreatedEvent),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[G,u,null===r||void 0===r?void 0:r.id,Ae,k,A]),He=(0,a.useCallback)(function(){var e=(0,C.Z)((function(e){return(0,w.__generator)(this,(function(t){switch(t.label){case 0:return(null===r||void 0===r?void 0:r.id)?(k(),[4,J({chatId:u,text:e.text,senderId:r.id,showCorrectAnswers:!0})]):[2];case 1:return t.sent(),Ae({},se.H.chat.sendOpenQuestionCreatedEvent),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[J,u,null===r||void 0===r?void 0:r.id,Ae,k]),Be=(0,a.useCallback)(function(){var e=(0,C.Z)((function(e){return(0,w.__generator)(this,(function(t){switch(t.label){case 0:return(null===r||void 0===r?void 0:r.id)?(k(),[4,K((0,x.Z)({chatId:u,senderId:null===r||void 0===r?void 0:r.id,showAnswers:!1},e))]):[2];case 1:return t.sent(),Ae({},se.H.chat.sendPollCreatedEvent),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[K,u,null===r||void 0===r?void 0:r.id,Ae,k]),Ve=(0,a.useCallback)((function(e){var t=e.text,n=e.options;(0,ge.Gg)(W)&&n&&(0,ge.Gg)(n[W])&&(n[W].isCorrect=!0),P(null);var s=(n||[]).filter((function(e){var t;return null===(t=e.text)||void 0===t?void 0:t.trim()})),a=Boolean(s.length),r=s.some((function(e){return e.isCorrect})),i=s.map((function(e){return(0,_.Z)((0,x.Z)({},e),{text:e.text})}));e.text.trim()&&(a?Be({text:t,options:i,hasCorrect:r}):He({text:t}))}),[W,He,Be]),Ne=(0,a.useCallback)((function(e,t){switch(be(),_e&&(X({chatId:u}),E.w.sendEvent(E.w.events.draftRecoveredAndSent)),t){case q.n$.MultipleFields:Ve(e);break;case q.n$.SingleField:default:Ze(e)}}),[u,Ze,Ve,X,be,_e]),We=(0,a.useMemo)((function(){return T.includes(m.Sqd.Poll)||T.includes(m.Sqd.OpenQuestion)}),[T]),Pe=(0,z.Ye)($.y.ChatMessagesWrite,[m.CL7.Regular,m.CL7.Direct]),Re=(0,a.useMemo)((function(){return!!(null===r||void 0===r?void 0:r.role)&&I.isAllowed(j.Qu.CreateChatMessage,r.role)}),[r,I]),Ee=(0,a.useMemo)((function(){var e;return(null===Ce||void 0===Ce||null===(e=Ce.chat)||void 0===e?void 0:e.kind)===m.CL7.Service}),[null===Ce||void 0===Ce?void 0:Ce.chat]),Oe=(0,a.useMemo)((function(){return Ee?le.gG:le.tX}),[Ee]),Ye=(0,de.B)({additionalFeatureToCheck:ue.A.SubscriptionProductChatPaywall}).isAvailable;return!Ee&&Ye&&!Pe?(0,s.jsx)(oe.U,{text:n("".concat(d.WY.chat,":free_subscription_message_sending_restricted.input_placeholder")),withPaywall:!0}):Re?(0,s.jsx)("div",{className:"p-16 padding-top-0",children:(0,s.jsx)(Y.x,{onSubmit:Ne,setCheckedIndex:P,richTextEditorMentionSuggestions:Te,uploadFilesOptions:ke,onEditLastOwnMessage:ee,initialText:(null===_e||void 0===_e?void 0:_e.text)||"",initialSubject:B,onFocus:be,onBlur:je,isAutoFocusable:y,maxInputLength:Oe,enableTypeToggling:We,shouldShowMessageSubject:L,disabled:Z})}):(0,s.jsx)(oe.U,{})},xe=n(579024),_e=n(599734),Me=n(886340),we=n(216314),je=n(970018),be=n(929053),Ie=n(982866),Le=n(666229),Te=n(360014),ke=n(519462),ye=n(789200),Se=n.n(ye),Ae=function(e){var t=e.subtitle,n=e.className,r=void 0===n?"":n,i=(0,a.useRef)(null),o=(0,a.useMemo)((function(){return Number(null===t||void 0===t?void 0:t.length)>50}),[null===t||void 0===t?void 0:t.length]);if(!t)return null;var c=(0,s.jsx)(ke.L,{text:t,shouldHighlightMentions:!1});return(0,s.jsx)(Ie.eE,{text:c,widthMode:Ie.X3.Full,containerWidthMode:Ie.fn.FullContent,textHorizontalPosition:Ie.o6.Left,messageClassName:(0,Le.cn)(Se().toolTip,Te.c.platformTextSecondary),verticalPosition:Ie.xE.Bottom,horizontalPosition:Ie.OI.RightSide,isVisibleOnHover:o,children:(0,s.jsx)("div",{className:(0,Le.cn)(Te.c.platformTextSecondary,Se().description,r),ref:i,"data-qa":"chat-heading-subtitle",children:(0,s.jsx)(ke.L,{text:t})})})},Ze=n(45590),He=n(583575),Be=n(204784),Ve=n(830464),Ne=n(928402),We=n(269979),Pe=n(780864),Re=n(712936),Ee=n(662652),Oe=n(484983),Ye=n(378606),qe=n(521282),Fe=n(208791),ze=n(80018),$e=n(650769),De=n(127199),Qe=n.n(De),Ue=(0,a.memo)((function(e){var t=e.isFullScreen,n=(0,l.$G)([d.WY.chat]).t,r=(0,l.tv)(),i=(0,Ze.M)().openModal,o=(0,qe.J)(),c=o.showSimplifiedChatHeader,u=o.closeModal,h=o.closeChat,f=(0,re.l)().setSettingsModalChatId,g=(0,p.f)(),v=g.chat,C=g.config,x=g.chatLesson,_=g.isStudentViewEnabled,M=g.toggleStudentView,w=(0,z.Ye)($.y.ChatGuidelineMessageRead),b=(0,a.useRef)(null),I=(0,Oe.r)(),L=I.isOpen,T=I.close,k=I.open,y=(0,a.useCallback)((function(){var e=(null===v||void 0===v?void 0:v.kind)===m.CL7.Direct?j.fh.Settings:j.fh.General;r.push(be.Z.chats.info.tab(String(v.id),e))}),[v.id,null===v||void 0===v?void 0:v.kind,r]),S=(0,a.useCallback)((function(){window.open(be.Z.chat(v.id).index,"_blank")}),[v.id]),A=(0,a.useCallback)((function(){f(v.id)}),[f,v.id]),Z=(0,$e.I)(),H=be.Z.chat(v.id).pinnedMessages,B=(0,a.useCallback)((function(){r.push(H)}),[r,H]),V=(0,a.useCallback)((function(){i(m.Trd.ChatMessage)}),[i]),N=Boolean(C.isCoachViewTogglingAvailable&&w),W=Boolean(C.isGuidelinesTabAvailable&&w&&(null===x||void 0===x?void 0:x.id)),P=be.Z.lessonMaterials.id(Number(null===x||void 0===x?void 0:x.id)).index,R=(0,a.useCallback)((function(){window.open(P,"_blank")}),[P]),E=(0,a.useMemo)((function(){return(0,s.jsxs)("div",{className:"flex-container ml-24",children:[(0,s.jsx)(He.zx,{LeftIcon:Fe.T,mode:He.qo.TransparentLight,size:He.qE.Small,hasFullWidth:!1,className:Qe().button,onClick:S}),u&&(0,s.jsx)(He.zx,{LeftIcon:ze.W,mode:He.qo.TransparentLight,size:He.qE.Small,hasFullWidth:!1,className:Qe().button,onClick:u,dataQa:"close-chat-button"})]})}),[u,S]),O=(0,a.useMemo)((function(){return(0,s.jsxs)("ul",{className:Qe().list,children:[(0,s.jsx)("li",{children:(0,s.jsx)(He.zx,{onClick:A,mode:He.zx.mode.TransparentLight,LeftIcon:Be.v,"data-qa":"notifications-button",className:Qe().button})}),(0,s.jsx)("li",{children:(0,s.jsx)(He.zx,{href:H,mode:He.zx.mode.TransparentLight,LeftIcon:Ve.D,"data-qa":"pinned-messages-button",className:Qe().button})}),(0,s.jsx)("li",{children:(0,s.jsx)(He.zx,{onClick:V,mode:He.zx.mode.TransparentLight,LeftIcon:Ne.j,className:Qe().button})}),(W||N)&&(0,s.jsx)("li",{className:Qe().divider}),N&&(0,s.jsx)("li",{children:(0,s.jsx)(He.zx,{onClick:M,mode:He.zx.mode.TransparentLight,LeftIcon:_?We.O:Pe.t,className:Qe().button,"data-qa":"student-view-toggler"})}),W&&(0,s.jsx)("li",{children:(0,s.jsx)(He.zx,{href:P,mode:He.zx.mode.TransparentLight,LeftIcon:Re.k,target:"_blank",className:Qe().button,"data-qa":"lesson-materials-link"})})]})}),[A,V,M,_,N,W,P,H]),Y=c?E:O,q=(0,a.useMemo)((function(){return[{text:n("".concat(d.WY.chat,":chat_header.open_notifications_modal")),renderLeftIcon:function(){return(0,s.jsx)(Be.v,{})},onClick:function(){A(),T()},dataQA:"notifications-button"},{text:n("".concat(d.WY.chat,":chat_header.pinned_messages_link")),renderLeftIcon:function(){return(0,s.jsx)(Ve.D,{})},onClick:B,dataQA:"pinned-messages-button"},{text:n("".concat(d.WY.chat,":chat_header.open_search_modal")),renderLeftIcon:function(){return(0,s.jsx)(Ne.j,{})},onClick:function(){V(),T()}},{text:n("".concat(d.WY.chat,_?":student_view_toggler.disable":":student_view_toggler.enable")),renderLeftIcon:function(){return _?(0,s.jsx)(We.O,{}):(0,s.jsx)(Pe.t,{})},onClick:M,skip:!N},{text:n("".concat(d.WY.chat,":chat_header.lesson_materials_link")),renderLeftIcon:function(){return(0,s.jsx)(Re.k,{})},onClick:R,skip:!W}]}),[A,V,_,W,N,M,T,R,B,n]),F=(0,a.useMemo)((function(){return(0,s.jsxs)("div",{ref:b,children:[(0,s.jsx)(He.zx,{mode:He.zx.mode.TransparentLight,LeftIcon:Ee.N,className:Qe().button,onClick:k,"data-qa":"more-options-button"}),L&&(0,s.jsx)(Ye.h,{onClose:T,parentNode:b.current,items:q})]})}),[k,T,L,q]);return(0,s.jsx)(we.v,{heading:v.name,onHeadingClick:y,onBackButton:c&&!Z?h:void 0,subheading:Z?void 0:(0,s.jsx)(Ae,{subtitle:v.description}),headingRightIcon:c?void 0:(0,s.jsx)(je.C,{}),RightButton:t?Y:F})})),Ge=n(817158),Je=n(215995),Ke=n.n(Je),Xe=["ai_assistant_quick_action_hint","ai_assistant_quick_action_example"],et=function(){var e=(0,l.$G)([d.WY.aiAssistant]).t,t=(0,M.Z)((0,O.N)(),1)[0],n=(0,p.f)().chat.id,r=(0,F.r)().participant,i=(0,ce.a)(),o=i.isTyping,c=i.setIsTyping,u=(0,pe.A)().selectedTask,h=(0,a.useCallback)((function(s){return(0,C.Z)((function(){var a;return(0,w.__generator)(this,(function(i){switch(i.label){case 0:return a=e("".concat(d.WY.aiAssistant,":").concat(s)),(null===r||void 0===r?void 0:r.id)?(c&&c(!0),[4,t({chatId:n,senderId:r.id,text:a,attachedTestTasksIds:[(null===u||void 0===u?void 0:u.id)||0]})]):[2];case 1:return i.sent(),u&&u.testTaskAttemptId&&se.H.aiAssistant.sendQuickActionButtonClickedEvent({chatId:n,userId:r.userId,senderId:r.id,testTaskId:u.id,testTaskAttemptId:u.testTaskAttemptId,flow:u.flow,taskSlug:u.slug,action:s}),[2]}}))}))}),[r,c,t,n,u,e]);return(0,s.jsx)("div",{className:Ke().buttonsWrapper,children:Xe.map((function(t){return(0,s.jsx)(He.zx,{mode:He.zx.mode.Secondary,size:He.zx.size.Small,text:e("".concat(d.WY.aiAssistant,":").concat(t)),onClick:h(t),disabled:o,dataQa:"quick-action-button"},t)}))})},tt=n(505950),nt=n(858293),st=n(354312),at=(0,a.memo)((function(){var e=(0,st.J)(),t=e.similarChatMessagesTitle,n=e.similarChatMessagesDescription;return(0,s.jsx)(we.v,{heading:t,subheading:(0,s.jsx)(Ae,{subtitle:n,className:"similar-chat-description"})})})),rt=n(449613),it=n(671522),ot=n.n(it),ct=function(){var e=(0,l.$G)([d.WY.aiAssistant]).t;return(0,s.jsxs)("header",{className:ot().header,"data-qa":"ai-chat-header",children:[(0,s.jsx)("h3",{className:(0,rt.cn)(Te.c.platformH3),children:e("".concat(d.WY.aiAssistant,":ai_buddy"))}),(0,s.jsx)("p",{className:(0,rt.cn)(Te.c.platformTextSmall,"c-text-platform-tertiary"),children:e("".concat(d.WY.aiAssistant,":ai_chat_header_subtitle"))})]})},lt=n(481627),dt=n.n(lt),ut=(0,a.memo)((function(e){var t=e.threads,n=(0,p.f)(),r=n.chat,i=n.threadId,o=r.id,c=r.kind,h=(0,xe.t)(),f=h.firstUnreadMessageId,g=h.selectedMessageId,C=h.hasMoreNewerMessages,x=(0,ce.a)().isTyping,_=(0,l.$G)([d.WY.aiAssistant]).t,M=r.kind===m.CL7.Service,w=(0,he.R)();(0,a.useEffect)((function(){se.H.chat.sendViewOpenedEvent({chatId:o})}),[o]);var j=(0,a.useMemo)((function(){return w===ae.oYl.SimilarChatsTab?(0,s.jsx)(at,{}):M?(0,s.jsx)(ct,{}):(0,s.jsx)(Ue,{isFullScreen:!i})}),[M,i,w]),b=(0,a.useMemo)((function(){return(0,s.jsx)(Ge.a,{chat:r})}),[r]),I=t.length>0||C||c===m.CL7.Direct,L=(0,a.useMemo)((function(){return M?(0,s.jsx)("div",{className:dt().emptyChatWrapper,children:(0,s.jsx)(et,{})}):(0,s.jsx)(u.ng,{})}),[M]);return(0,s.jsx)(_e.I,{children:(0,s.jsxs)(Me.$,{header:j,children:[I?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v.r,{messages:t,messageToScrollId:i||g,messageToHighlightId:g,firstUnreadMessageId:f,sessionStorageKeys:tt.d.chat.chatScrollPosition(o),banner:b}),x&&(0,s.jsx)("div",{className:dt().typingMessageIndicator,children:_("".concat(d.WY.aiAssistant,":ai_buddy_thinking"))}),M&&(0,s.jsx)(et,{})]}):L,(0,s.jsx)(Ce,{})]},(0,nt.qM)(o))})})),ht=n(493809),ft=n(199761),gt=n(47490),pt=n(556902),mt=n(844533),vt=n(884682),Ct=n.n(vt),xt=(0,a.memo)((function(){return(0,s.jsxs)("div",{className:Ct().header,children:[(0,s.jsx)("div",{className:Ct().text,style:{width:120,height:26}}),(0,s.jsx)("div",{className:Ct().text,style:{width:240,height:22}})]})})),_t=n(363439),Mt=n(713070),wt=n(467081),jt=function(){var e,t=(0,p.f)(),n=t.chat,r=t.threadId,i=(0,ht.M)().querySelectedMessageId,o=(0,_t.ot)({variables:{chatId:n.id},fetchPolicy:"cache-only"}).data,c=null===o||void 0===o?void 0:o.chat,l=(0,ft.m)({chatId:n.id,threadId:r,middleCursorMessageId:i}),d=l.messages,u=l.areMessagesReady,h=l.hasMoreNewerMessages,f=l.hasMoreOlderMessages,g=l.loadMoreNewerMessages,m=l.newerMessagesLoading,v=l.loadMoreOlderMessages,C=l.olderMessagesLoading,x=(0,ge.Gg)(c)&&(0,nt.oF)(c),_=(0,a.useMemo)((function(){var e;return(0,nt.z5)(d,null===c||void 0===c||null===(e=c.myParticipant)||void 0===e?void 0:e.lastActionTime)}),[d,null===c||void 0===c||null===(e=c.myParticipant)||void 0===e?void 0:e.lastActionTime]),M=(0,wt.Y)({chatId:n.id,skip:!x}),w=M.jumpToUnreadMessages,j=M.areUnreadMessagesLoading,b=(0,Mt.c)({chatId:n.id,skip:!h}),I=b.jumpToLatestMessages,L=b.areLatestMessagesLoading;return u?(0,s.jsxs)(pt.E,{firstUnreadMessageId:_,selectedMessageId:i,jumpToUnreadMessages:w,jumpToLatestMessages:I,unreadMessagesLoading:j,latestMessagesLoading:L,hasUnreadMessages:x,hasMoreOlderMessages:f,loadOlderMessages:v,olderMessagesLoading:C,hasMoreNewerMessages:h,loadNewerMessages:g,newerMessagesLoading:m,children:[(0,s.jsx)(ut,{threads:d}),(0,s.jsx)(mt.z,{})]}):(0,s.jsx)(Me.$,{header:(0,s.jsx)(xt,{}),children:(0,s.jsx)(gt.p,{})})},bt=(0,a.memo)((function(e){var t,n=e.thread,r=e.draftMessageText,i=(0,l.$G)([d.WY.chat]).t,o=(0,M.Z)((0,O.N)(),1)[0],c=(0,M.Z)((0,U.H)(),1)[0],u=(0,he.R)(),h=(0,p.f)(),f=h.chat,g=h.chatLesson,v=h.config,C=(0,F.r)().participant,_=(0,ne.s)().scrollViewToBottom,w=(0,ve.a)({chatId:f.id,allMentionsEnabled:!1}),j=(0,a.useMemo)((function(){if(null===C||void 0===C?void 0:C.id)return{chatId:f.id,participantId:C.id}}),[f.id,null===C||void 0===C?void 0:C.id]),b=(0,a.useCallback)((function(e){(r||e)&&c({chatId:f.id,threadId:n.id,text:e})}),[f.id,n.id,r,c]),I=(0,M.Z)((0,D.I)({delayedAction:b,delay:Q.Lp}),2),L=I[0],T=I[1],k=(0,a.useCallback)((function(e){L(e)}),[L]),y=te({chatId:n.chatId,threadId:n.id}),S=null===g||void 0===g||null===(t=g.details)||void 0===t?void 0:t.studentsGroup.name,A=v.hasMentorSupport,Z=(0,a.useCallback)((function(){(null===C||void 0===C?void 0:C.id)&&se.H.chat.sendMessageCreatedEvent((0,x.Z)({chatId:f.id,chatKind:f.kind,chatName:f.name,isThread:!1,senderId:C.id,threadId:n.id,chatLocation:u,hasMentorSupport:A},S&&{groupName:S}))}),[null===C||void 0===C?void 0:C.id,f.id,f.kind,f.name,n.id,A,S,u]),H=(0,a.useCallback)((function(){(null===C||void 0===C?void 0:C.id)&&(0,nt.gA)({participant:C,thread:n,chat:f})}),[n,f,C]),B=(0,a.useCallback)((function(e){(null===C||void 0===C?void 0:C.id)&&(T(),r&&(c({chatId:f.id,threadId:n.id}),E.w.sendEvent(E.w.events.draftRecoveredAndSent)),_(),o({chatId:f.id,threadId:n.id,senderId:C.id,text:e.text,media:e.uploadFiles}),Z(),H())}),[o,c,null===C||void 0===C?void 0:C.id,f.id,n.id,Z,H,T,r,_]),V=(0,z.Ye)($.y.ChatMessagesWrite,[m.CL7.Direct,m.CL7.Regular]);return(0,de.B)({additionalFeatureToCheck:ue.A.SubscriptionProductChatPaywall}).isAvailable&&!V?(0,s.jsx)(oe.U,{text:i("".concat(d.WY.chat,":free_subscription_message_sending_restricted.input_placeholder")),withPaywall:!0}):(0,s.jsx)("div",{className:"p-16 padding-top-0",children:(0,s.jsx)(Y.x,{onSubmit:B,uploadFilesOptions:j,enableTypeToggling:!1,onEditLastOwnMessage:y,onFocus:T,onBlur:k,initialText:r||"",richTextEditorMentionSuggestions:w})})})),It=n(348803),Lt=n(659104),Tt=n(92466),kt=(0,a.memo)((function(e){var t=e.heading,n=e.withBackButton,r=e.rightButton,i=(0,l.$G)([d.WY.chat]).t,o=(0,p.f)(),c=o.chat,u=o.threadId,h=o.closeThread,f=o.openThread,g=(0,a.useCallback)((function(){u&&f(u,{fullScreen:!0})}),[f,u]),m=(0,a.useMemo)((function(){return(0,s.jsx)(He.zx,{mode:He.zx.mode.TransparentLight,onClick:h,LeftIcon:Tt.b,dataQa:"close-thread-button"})}),[h]),v=(0,a.useMemo)((function(){return r||(n?void 0:m)}),[m,n,r]);return(0,s.jsx)(we.v,{heading:t||i("".concat(d.WY.chat,":chat_header.thread")),subheading:c.name,onHeadingClick:g,onBackButton:n?h:void 0,RightButton:v})})),yt=(0,a.memo)((function(e){var t=e.thread,n=e.isFullScreen,r=(0,l.$G)([d.WY.chat]).t,i=(0,ht.M)().querySelectedMessageId,o=(0,st.J)().rightHeaderThreadButton,c=(0,a.useMemo)((function(){if(!t)return null;var e=t.messages,n=t.lastActionTime;return(0,nt.z5)(e,n)}),[t]),u=t.messages,h=t.draft,f=(0,a.useMemo)((function(){return(0,s.jsx)(kt,{heading:r("".concat(d.WY.chat,":chat_header.thread")),withBackButton:n,rightButton:o})}),[n,r,o]);return(0,s.jsx)(_e.I,{children:(0,s.jsxs)(Lt._,{children:[(0,s.jsxs)(Me.$,{header:f,isSecondaryView:!n,children:[(0,s.jsx)(v.r,{messages:u,messageToScrollId:i,messageToHighlightId:i,firstUnreadMessageId:c,renderHeadingMessage:function(){return(0,s.jsx)("div",{className:(0,Le.cn)({"mb-16":!u.length}),children:(0,s.jsx)(It.S,{message:t})})},fallbackScrollPosition:j.Ij.Top,sessionStorageKeys:tt.d.chat.chatScrollPosition(t.id),isPaginated:!1},(0,nt.Tu)(t.id)),(0,s.jsx)(bt,{thread:t,draftMessageText:null===h||void 0===h?void 0:h.text})]}),(0,s.jsx)(mt.z,{})]})})})),St=n(363485),At=(0,a.memo)((function(){var e,t=(0,l.$G)(d.WY.chat).t,n=(0,M.Z)((0,St.N)(),1)[0],r=(0,p.f)(),i=r.chat,o=i.id,c=i.name,u=r.chatLesson,h=r.threadId,f=(0,F.r)().participant,g=(0,ne.s)().scrollViewToBottom,v=null===u||void 0===u||null===(e=u.details)||void 0===e?void 0:e.studentsGroup.name,C=(0,a.useCallback)((function(){(null===f||void 0===f?void 0:f.id)&&E.w.sendEvent(E.w.events.openQuestionAnswered,(0,x.Z)({chatId:o,chatName:c,isThread:!1,senderId:f.id,openQuestionId:h},v&&{groupName:v}))}),[o,null===f||void 0===f?void 0:f.id,h,v,c]),_=(0,a.useCallback)((function(e){h&&(null===f||void 0===f?void 0:f.id)&&(g(),n({chatId:o,senderId:f.id,threadId:h,text:e.text}),C())}),[n,null===f||void 0===f?void 0:f.id,o,h,C,g]),w=(0,de.B)({additionalFeatureToCheck:ue.A.SubscriptionProductChatPaywall}).isAvailable,j=(0,z.Ye)($.y.ChatMessagesWrite,[m.CL7.Regular,m.CL7.Direct]);return w&&!j?(0,s.jsx)(oe.U,{text:t("".concat(d.WY.chat,":free_subscription_message_sending_restricted.input_placeholder")),withPaywall:!0}):(0,s.jsx)("div",{className:"p-16 padding-top-0",children:(0,s.jsx)(Y.x,{onSubmit:_,enableTypeToggling:!1,enableMediaUpload:!1})})})),Zt=n(288527),Ht=n(506678),Bt=n(232132),Vt=n(6440),Nt=n.n(Vt),Wt=function(e){var t,n=e.selectedAnswers,r=e.isButtonsDisabled,i=e.questionId,o=(0,M.Z)((0,Bt.G)(),1)[0],c=(0,p.f)(),u=c.chat.id,h=c.chatLesson,f=(0,F.r)().participant,g=null===h||void 0===h||null===(t=h.details)||void 0===t?void 0:t.studentsGroup.name,m=(0,l.$G)([d.WY.chat]).t,v=(0,a.useCallback)(function(){var e=(0,C.Z)((function(e){return(0,w.__generator)(this,(function(t){switch(t.label){case 0:return[4,o(n,e)];case 1:return t.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[n,o]),_=(0,a.useCallback)((function(e){(null===f||void 0===f?void 0:f.id)&&E.w.sendEvent(E.w.events.openQuestionAnswerRated,(0,x.Z)({chatId:u,coachId:f.id,questionId:i,isCorrect:e},g&&{groupName:g}))}),[u,null===f||void 0===f?void 0:f.id,i,g]),j=(0,a.useCallback)((0,C.Z)((function(){return(0,w.__generator)(this,(function(e){switch(e.label){case 0:return[4,v(!0)];case 1:return e.sent(),_(!0),[2]}}))})),[_,v]),b=(0,a.useCallback)((0,C.Z)((function(){return(0,w.__generator)(this,(function(e){switch(e.label){case 0:return[4,v(!1)];case 1:return e.sent(),_(!1),[2]}}))})),[_,v]);return(0,s.jsxs)("div",{className:Nt().controlsButtonsWrapper,children:[(0,s.jsxs)("p",{className:Nt().counter,children:[n.length,(0,s.jsx)("span",{children:m("".concat(d.WY.chat,":open-question-answer.selected"))})]}),(0,s.jsx)(He.zx,{LeftIcon:Zt.U,mode:He.zx.mode.Secondary,size:He.qE.Small,text:m("".concat(d.WY.chat,":open-question-answer.mark-all-as-wrong")),onClick:b,disabled:r,"data-qa":"mark-all-as-wrong",className:Nt().correctAnswersButton}),(0,s.jsx)(He.zx,{LeftIcon:Ht.R,mode:He.zx.mode.Secondary,size:He.qE.Small,text:m("".concat(d.WY.chat,":open-question-answer.mark-all-as-correct")),onClick:j,disabled:r,"data-qa":"mark-all-as-correct",className:Nt().wrongAnswersButton})]})},Pt=n(375560),Rt=function(e){var t=e.question,n=e.isFullScreen,r=(0,l.$G)([d.WY.chat]).t,i=t.answers,o=t.lastActionTime,c=t.showCorrectAnswers,u=(0,p.f)().isStudentViewEnabled,h=(0,F.r)(),f=h.participant,g=h.participantsMap,m=(0,a.useState)(B.LZ),v=m[0],C=m[1],x=(0,nt.Nl)(f),_=g.get(t.senderId),M=!!(null===f||void 0===f?void 0:f.id)&&(null===_||void 0===_?void 0:_.id)===f.id,w=(0,a.useMemo)((function(){return(0,nt.z5)(i,o)}),[i,o]),j=(0,a.useMemo)((function(){return i.some((function(e){return e.senderId===(null===f||void 0===f?void 0:f.id)}))}),[i,null===f||void 0===f?void 0:f.id]),b=(0,a.useCallback)((function(){return(0,s.jsx)(It.S,{message:t})}),[t]),I=(0,a.useMemo)((function(){return(j||x||M)&&!u&&c?i:B.LZ}),[j,i,M,x,u,c]),L=M||x&&j,T=(0,a.useMemo)((function(){return(0,s.jsx)(kt,{heading:r("".concat(d.WY.chat,":chat_header.open_question")),withBackButton:n})}),[n,r]),k=(0,a.useMemo)((function(){return L?(0,s.jsx)(Wt,{selectedAnswers:v,isButtonsDisabled:!v.length,questionId:t.id}):j?null:(0,s.jsx)(At,{})}),[L,j,v,t]);return(0,s.jsx)(_e.I,{children:(0,s.jsxs)(Lt._,{children:[(0,s.jsxs)(Me.$,{header:T,isSecondaryView:!n,children:[(0,s.jsx)(Pt.U,{visibleMessages:I,allMessagesCount:i.length,firstUnreadMessageId:w,parentMessage:t,isSender:M,renderHeadingMessage:b,selectedAnswers:v,setSelectedAnswers:C,shouldRenderMultipleRateAnswer:L}),k]}),(0,s.jsx)(mt.z,{})]})})},Et=n(859459),Ot=n(524214),Yt=n(94102),qt=n.n(Yt),Ft=(0,a.memo)((function(e){var t=e.poll,n=e.isFullScreen,r=(0,p.f)().isStudentViewEnabled,i=(0,F.r)().participant,o=(0,nt.Nl)(i),c=(0,l.$G)([d.WY.chat]).t,u=t.options,h=t.votes,f=t.hasCorrect,g=(0,a.useMemo)((function(){return(0,s.jsx)(kt,{heading:c("".concat(d.WY.chat,f?":chat_header.quiz":":chat_header.poll")),withBackButton:n})}),[n,c,f]),m=(0,a.useMemo)((function(){return h.some((function(e){return e.senderId===(null===i||void 0===i?void 0:i.id)}))}),[h,null===i||void 0===i?void 0:i.id]),v=(o||m)&&!r;return(0,s.jsx)(Me.$,{header:g,isSecondaryView:!n,children:(0,s.jsxs)("div",{className:qt().container,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:qt().headingMessage,children:(0,s.jsx)(It.S,{message:t})}),r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:qt().replies,children:"".concat(c("".concat(d.WY.chat,":message.replies_count"),{count:h.length}))}),(0,s.jsx)("div",{className:qt().studentViewEnabledPlaceholder,children:c("".concat(d.WY.chat,":open_question_answers.student_view_placeholder"))})]}),v&&u.map((function(e){return(0,s.jsx)(Et.f,{option:e,votes:h,isAdmin:o,isQuiz:f},e.id)}))]}),o&&(0,s.jsx)(Ot.v,{votes:h})]})})})),zt=n(344842),$t=n(73393),Dt=n(989517),Qt=(0,a.memo)((function(e){var t=e.threadId,n=e.isFullScreen,a=(0,M.Z)((0,zt.U)(t),2),r=a[0];if(a[1])return(0,s.jsx)(Me.$,{header:(0,s.jsx)(xt,{}),isSecondaryView:!n,children:(0,s.jsx)($t.I,{})});if(!r)return(0,s.jsx)(Me.$,{isSecondaryView:!n,children:(0,s.jsx)(Dt.M,{})});switch(r.__typename){case j.Cs.Thread:return(0,s.jsx)(yt,{thread:r,isFullScreen:n});case j.Cs.OpenQuestion:return(0,s.jsx)(Rt,{question:r,isFullScreen:n});case j.Cs.Poll:return(0,s.jsx)(Ft,{poll:r,isFullScreen:n});default:return null}})),Ut=(0,a.memo)((function(){var e=(0,p.f)().threadId,t=(0,ht.M)().queryFullScreen;return e&&t?(0,s.jsx)(Qt,{threadId:e,isFullScreen:!0}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(jt,{}),e&&(0,s.jsx)(Qt,{threadId:e})]})})),Gt=n(629815),Jt=n(84870),Kt=n(506388);function Xt(){var e=(0,k.Z)(["\n    query chatMessagesByTestTaskId($testTaskId: Int!, $chatId: Int!, $limit: Int, $offset: Int) {\n  chatMessagesByTestTaskId(\n    testTaskId: $testTaskId\n    chatId: $chatId\n    limit: $limit\n    offset: $offset\n  ) {\n    ...AbstractMessage\n  }\n}\n    ",""]);return Xt=function(){return e},e}var en=(0,y.Ps)(Xt(),Jt.R);var tn=n(828005),nn=n(714718),sn=function(e){var t=e.fetchMoreMessages,n=(0,T.ZW)(),s=(0,a.useState)(0),r=s[0],i=s[1],o=(0,a.useState)(!0),c=o[0],l=o[1],d=(0,a.useState)(!1),u=d[0],h=d[1],f=(0,a.useCallback)((0,C.Z)((function(){var e,s,a;return(0,w.__generator)(this,(function(o){switch(o.label){case 0:if(u||!c||!t)return[2];e=r+tn.O,h(!0),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,t({variables:{offset:e,limit:tn.O},updateQuery:function(e,t){var n,s=t.fetchMoreResult;if(!s)return e;var a=null!==(n=s.chatMessagesByTestTaskId)&&void 0!==n?n:[],r=(0,Gt.Z)(a).concat((0,Gt.Z)(e.chatMessagesByTestTaskId||[]));return l(a.length===tn.O),(0,_.Z)((0,x.Z)({},e),{chatMessagesByTestTaskId:r})}})];case 2:return o.sent(),i(e),[3,5];case 3:return s=o.sent(),a=(0,nn.S)(s),n.showMessage({type:L.oK.error,heading:"Whoops!",text:"Something went wrong while loading messages. ".concat(a.message)}),[3,5];case 4:return h(!1),[7];case 5:return[2]}}))})),[t,n,r,c,u]);return[f,u,c]},an=n(186744),rn=n(808990),on=n(546171);function cn(){var e=(0,k.Z)(["\n    subscription chatMessageWithTestTaskCreatedWS($testTaskId: Int!) {\n  chatMessageWithTestTaskCreatedWS(testTaskId: $testTaskId) {\n    ...AbstractMessageWS\n  }\n}\n    ",""]);return cn=function(){return e},e}var ln=(0,y.Ps)(cn(),rn.M);var dn=n(505809),un=function(e){var t,n,s=e.chatId,r=e.testTaskId,i=(0,a.useState)(!0),o=i[0],c=i[1],l=(t={variables:{testTaskId:r,chatId:s,limit:tn.O},skip:!s,fetchPolicy:"cache-and-network",onCompleted:function(){o&&c(!1)}},Kt.aM(en,t)),d=l.data,u=l.fetchMore,h=(0,a.useMemo)((function(){return null!==(n=null===d||void 0===d?void 0:d.chatMessagesByTestTaskId)&&void 0!==n?n:[]}),[d]),f=(0,M.Z)(sn({fetchMoreMessages:u}),3),g=f[0],p=f[1],m=f[2];return function(e){on.m(ln,e)}({variables:{testTaskId:r},skip:!an.isBrowser,onData:function(e){var t=e.client,n=e.data.data,a=null===n||void 0===n?void 0:n.chatMessageWithTestTaskCreatedWS,i="".concat(j.Cs.Thread,":").concat(a.id);t.cache.writeFragment({id:i,fragment:dn.s,fragmentName:j.i_.Thread,data:(0,_.Z)((0,x.Z)({},a),{__typename:j.Cs.Thread})});var o=t.cache.readFragment({id:i,fragment:dn.s,fragmentName:j.i_.Thread});t.writeQuery({query:en,variables:{testTaskId:r,chatId:s,limit:tn.O},data:{chatMessagesByTestTaskId:(0,Gt.Z)(h).concat([o])}})}}),{messages:h,loadMoreMessages:g,loading:p,hasMoreMessages:m,initialLoad:o}},hn=n(907408),fn=function(){var e,t=(0,p.f)().chat,n=(0,ht.M)().querySelectedMessageId,r=(0,_t.ot)({variables:{chatId:t.id},fetchPolicy:"cache-only"}).data,i=null===r||void 0===r?void 0:r.chat,o=function(e){var t=(0,st.J)().selectedTaskId,n=(0,hn.id)(),s=n.setTabItemsCount,r=n.tabItemsCount,i=un({chatId:e,testTaskId:t}),o=i.messages,c=i.loadMoreMessages,l=i.loading,d=i.hasMoreMessages,u=i.initialLoad,h=Boolean(o.length!==r&&r<=tn.O&&!l&&!u);(0,a.useEffect)((function(){h&&s(o.length)}),[o.length,h,s]);var f=Boolean(o&&!l);return{messages:o,loadMoreMessages:c,hasMoreMessages:d,loading:l,areMessagesReady:f,initialLoad:u}}(t.id),c=o.messages,l=o.loadMoreMessages,d=o.hasMoreMessages,u=o.loading,h=o.areMessagesReady,f=o.initialLoad,g=(0,ge.Gg)(i)&&(0,nt.oF)(i),m=(0,a.useMemo)((function(){var e;return(0,nt.z5)(c,null===i||void 0===i||null===(e=i.myParticipant)||void 0===e?void 0:e.lastActionTime)}),[c,null===i||void 0===i||null===(e=i.myParticipant)||void 0===e?void 0:e.lastActionTime]),v=(0,wt.Y)({chatId:t.id,skip:!g}),C=v.jumpToUnreadMessages,x=v.areUnreadMessagesLoading,_=(0,Mt.c)({chatId:t.id}),M=_.jumpToLatestMessages,w=_.areLatestMessagesLoading;return h||u||f?f?(0,s.jsx)(gt.p,{}):(0,s.jsxs)(pt.E,{firstUnreadMessageId:m,selectedMessageId:n,jumpToUnreadMessages:C,jumpToLatestMessages:M,unreadMessagesLoading:x,latestMessagesLoading:w,hasUnreadMessages:g,hasMoreOlderMessages:d,loadOlderMessages:l,olderMessagesLoading:u,hasMoreNewerMessages:!1,loadNewerMessages:ge.PL,newerMessagesLoading:!1,children:[(0,s.jsx)(ut,{threads:c}),(0,s.jsx)(mt.z,{})]}):(0,s.jsx)(Me.$,{header:(0,s.jsx)(xt,{}),children:(0,s.jsx)(gt.p,{})})},gn=(0,a.memo)((function(){var e=(0,p.f)().threadId,t=(0,st.J)().shouldRenderSimilarChatMessages;return e?(0,s.jsx)(Qt,{threadId:e,isFullScreen:!0}):(0,s.jsxs)(s.Fragment,{children:[t?(0,s.jsx)(fn,{}):(0,s.jsx)(jt,{}),e&&(0,s.jsx)(Qt,{threadId:e})]})})),pn=n(259511),mn=n(20597),vn=n.n(mn),Cn=(0,a.memo)((function(e){var t=e.chatId,n=e.threadId,p=e.setThreadId,m=(0,l.tv)(),v=(0,l.$G)([d.WY.chat]).t,C=(0,o.R)(t),x=C.data,_=C.loading,M=C.error,w=(0,g.k)(null===x||void 0===x?void 0:x.chat.myParticipant),j=(0,a.useMemo)((function(){return m.pathname.includes(be.Z.chats.index)?Ut:m.pathname.includes((0,pn.no)(pn.J6.learn,{}))||m.pathname.includes((0,pn.no)(pn.J6.study))?gn:Ut}),[m]);if(M)return(0,s.jsx)(h._,{});if(_)return(0,s.jsx)(f.W,{children:(0,s.jsx)(c.w,{text:v("".concat(d.WY.chat,":preparing_chat"))})});if(!x)return(0,s.jsx)(u.AY,{});var b=x.chat,I=(0,r.F)(b),L=I.chatConnection,T=I.chatLesson;return(0,s.jsx)(i.m,{chat:b,threadId:n,setThreadId:p,authUserParticipant:w,chatConnection:L,chatLesson:T,children:(0,s.jsx)("div",{className:vn().chatPageWrapper,children:(0,s.jsx)(j,{})})})}))},817158:function(e,t,n){"use strict";n.d(t,{a:function(){return h}});var s=n(785893),a=n(667294),r=n(870055),i=n(626654),o=n(430155),c=n(584097),l=n(194298),d=n(703559),u=n.n(d),h=(0,a.memo)((function(e){var t=e.chat,n=t.name,a=t.kind,d=t.chatBuddy,h=t.isChatWithSelf,f=(0,c.$G)([o.WY.chat]).t;if(a!==r.CL7.Direct||!d)return null;var g=h?f("".concat(o.WY.chat,":direct_chat_with_self_banner_description")):f("".concat(o.WY.chat,":direct_chat_banner_description"),{chatName:n});return(0,s.jsxs)("div",{className:u().wrapper,children:[(0,s.jsx)(i.Y,{fullName:d.username||"",userId:d.userId,size:64,avatar:d.avatar,shouldShowBadgeIcon:!1,userProfileOpener:l.Kl.DirectChatBanner}),(0,s.jsx)("p",{className:u().chatName,children:n}),(0,s.jsx)("p",{className:u().description,children:g})]})}))},563048:function(e,t,n){"use strict";n.d(t,{HN:function(){return s},O4:function(){return a},PZ:function(){return r},QU:function(){return i}});var s=200,a=500,r=63,i=60},251968:function(e,t,n){"use strict";n.d(t,{K:function(){return a},L:function(){return s}});var s=function(e){var t=new Date(e),n=t.getFullYear(),s=t.getMonth(),a=t.getDate();return"".concat(n,"-").concat(s,"-").concat(a)},a=function(e){return'[data-message-id="'.concat(e,'"]')}},956473:function(e,t,n){"use strict";n.d(t,{r:function(){return G}});var s=n(414924),a=n(785893),r=n(667294),i=n(23279),o=n.n(i),c=n(607739),l=n.n(c),d=n(449613),u=n(584097),h=n(430155),f=n(517083),g=n(583575),p=n(748893),m=n(874946),v=n.n(m),C=function(e){var t=e.isAboveUnreads,n=void 0!==t&&t,s=(0,u.$G)([h.WY.chat]).t,i=(0,f.s)(),o=i.scrollViewToUnread,c=i.scrollViewToBottom,l=(0,r.useCallback)((function(){n?o():c()}),[n,o,c]),d=(0,r.useCallback)((function(){return(0,a.jsx)(p.b,{className:v().icon})}),[]);return(0,a.jsx)("div",{className:v().scrollLatestButtonContainer,children:(0,a.jsx)(g.zx,{mode:g.zx.mode.Secondary,"data-qa":"scroll-to-bottom-button",size:g.zx.size.Small,text:s("".concat(h.WY.chat,n?":scroll_bottom_button.to_unread_messages":":scroll_bottom_button.to_latest_messages")),LeftIcon:d,onClick:l})})},x=n(269854),_=n(579024),M=n(134744),w=n(100278),j=n(641201),b=n(816072),I=n(964277),L=n(337383),T=n(586347),k=function(e,t){try{window.sessionStorage.setItem(e,String(t))}catch(s){var n;I.P.captureException(null!==(n=null===s||void 0===s?void 0:s.message)&&void 0!==n?n:"Failed to write to sessionStorage",{logger:L.k.child(k.name),logLevel:b.LogLevels.Error})}},y=function(e){if(!e)return null;try{var t;return null!==(t=window.sessionStorage.getItem(e))&&void 0!==t?t:null}catch(s){var n;return I.P.captureException(null!==(n=null===s||void 0===s?void 0:s.message)&&void 0!==n?n:"Failed to read from sessionStorage",{logger:L.k.child(k.name),logLevel:b.LogLevels.Error}),null}},S=function(e){var t=y(e);return(0,T.Gg)(t)?t===String(!0)||t!==String(!1)&&(I.P.captureMessage("Failed to parse boolean from sessionStorage. Expected strings: 'true' or 'false', Received: ".concat(t),{logger:L.k.child(S.name),logLevel:b.LogLevels.Warning}),null):null},A=n(10253),Z=n(17296),H=n(225961),B=n(251968),V=n(563048),N=n(62605),W=n(857134),P=n(27954),R=function(e){var t=e.elementRef,n=e.handler;(0,r.useEffect)((function(){if(!t.current)return T.Bi;var e=new IntersectionObserver((function(e){var t=(0,A.Z)(e,1)[0];(null===t||void 0===t?void 0:t.isIntersecting)&&n()}),{threshold:.1}),s=t.current;return e.observe(s),function(){e.unobserve(s)}}),[n,t])},E=function(e,t){var n=(0,r.useRef)([]);(0,r.useLayoutEffect)((function(){var s=n.current;return n.current=t,e(s)}),t)},O=n(610928),Y=n.n(O),q=n(368935),F=n(133145),z=n(883664),$=n(611649),D=function(e){var t=e.messages,n=e.readMessageTriggersRefs,s=e.firstUnreadMessageId,a=(0,r.useRef)(0),i=(0,A.Z)(function(){var e=(0,A.Z)((0,z.q)(),2),t=e[0],n=e[1],s=(0,A.Z)((0,$.H)(),2),a=s[0],i=s[1],o=(0,r.useCallback)((function(e){t({variables:{id:e.id}})}),[t]),c=(0,r.useCallback)((function(e){a({variables:{id:e.id},update:function(t,n){var s=n.data,a=null===s||void 0===s?void 0:s.readThreadReply.hasReadSuccessfully,r=(null===s||void 0===s?void 0:s.readThreadReply.unreadThreadRepliesCount)||0;if(a)switch(e.__typename){case x.Cs.OpenQuestionAnswer:(0,F.jQ)(t,x.Cs.OpenQuestion,e.threadId,e.createdAt),(0,F.c$)(t,r);break;case x.Cs.Message:(0,F.jQ)(t,x.Cs.Thread,e.threadId,e.createdAt),(0,F.c$)(t,r)}}})}),[a]);return[(0,r.useCallback)((function(e){switch(e.__typename){case x.Cs.Thread:case x.Cs.OpenQuestion:case x.Cs.Poll:case x.Cs.SystemMessage:o(e);break;case x.Cs.Message:case x.Cs.OpenQuestionAnswer:case x.Cs.PollAnswer:c(e)}}),[o,c]),n.loading||i.loading]}(),1),c=i[0],l=(0,r.useMemo)((function(){return o()(c,V.O4)}),[c]);(0,r.useEffect)((function(){var e=new Map(n.current),s=new IntersectionObserver((function(e){e.forEach((function(e){var n;if(e&&e.isIntersecting){var s=null===(n=e.target.parentElement)||void 0===n?void 0:n.getAttribute("data-message-id");if(s){var r=Number(s),i=t.find((function(e){return e.id===r}));i&&a.current<r&&(a.current=r,l(i))}}}))}),{threshold:1});return e.forEach((function(e,t){t>a.current&&s.observe(e)})),function(){s.disconnect()}}),[t,n,l,s])},Q=n(803360),U=n.n(Q),G=(0,r.memo)((function(e){var t,n=e.messages,i=e.firstUnreadMessageId,c=void 0===i?null:i,g=e.messageToScrollId,p=void 0===g?null:g,m=e.messageToHighlightId,v=void 0===m?null:m,b=e.parentMessage,I=e.renderHeadingMessage,L=e.fallbackScrollPosition,O=void 0===L?x.Ij.Bottom:L,F=e.sessionStorageKeys,z=e.isPaginated,$=void 0===z||z,Q=e.banner,G=void 0===Q?null:Q,J=(0,_.t)(),K=J.hasUnreadMessages,X=J.hasMoreOlderMessages,ee=J.olderMessagesLoading,te=J.hasMoreNewerMessages,ne=J.newerMessagesLoading,se=J.unreadMessagesLoading,ae=J.latestMessagesLoading,re=J.loadOlderMessages,ie=J.loadNewerMessages,oe=J.jumpToUnreadMessages,ce=J.jumpToLatestMessages,le=(0,f.s)().chatEmitter,de=(0,r.useRef)(null),ue=(0,r.useRef)(null),he=(0,r.useRef)(new Map),fe=(0,r.useRef)(null),ge=(0,r.useRef)(null),pe=(0,u.$G)([h.WY.chat]).t,me=function(e){var t=(0,r.useState)(e),n=t[0],s=t[1];return(0,r.useEffect)((function(){null===n&&null!==e&&s(e)}),[n,e]),n}(c),ve=function(e){var t=e.containerRef,n=e.unreadMessageRef,s=e.unreadMessageId,a=e.isChatUnread,i=(0,r.useState)(!1),o=i[0],c=i[1];return(0,r.useEffect)((function(){if(!t.current||!a)return c(!1),T.Bi;if(!n.current)return c(!0),T.Bi;var e=new IntersectionObserver((function(e){var s=(0,A.Z)(e,1)[0];s&&t.current&&n.current?s.isIntersecting?c(!1):c(j.m.isViewportAboveElement({container:t.current,element:n.current})):c(!1)}),{threshold:1}),s=n.current;return e.observe(s),function(){e.unobserve(s)}}),[t,a,s,n]),o}({containerRef:de,unreadMessageRef:ue,unreadMessageId:me,isChatUnread:K}),Ce=(0,r.useState)(!1),xe=Ce[0],_e=Ce[1],Me=(0,r.useState)(!1),we=Me[0],je=Me[1],be=(0,T.Gg)(F),Ie=Boolean(I),Le=me===(null===(t=n[0])||void 0===t?void 0:t.id),Te=n[0],ke=(0,P.Z$)(n),ye=(0,r.useMemo)((function(){var e=l()(n,(function(e){return(0,B.L)(e.createdAt)}));return Object.values(e)}),[n]);D({messages:n,readMessageTriggersRefs:he,firstUnreadMessageId:c});var Se=function(e){var t=e.chatEmitter,n=e.containerRef,s=e.unreadMessageId,a=e.jumpToUnreadMessages,i=(0,r.useState)(!1),o=i[0],c=i[1];return(0,r.useEffect)((function(){var e=function(){s||a(),c(!0)};return t.listen(q.S.ScrollToUnread,e),function(){t.unsubscribe(q.S.ScrollToUnread,e)}}),[t,s,a,n]),(0,r.useEffect)((function(){n.current&&o&&s&&(j.m.scrollToMessage({container:n.current,messageId:s,topMargin:-V.QU}),requestAnimationFrame((function(){c(!1)})))}),[s,o,n]),o}({chatEmitter:le,containerRef:de,unreadMessageId:me,jumpToUnreadMessages:oe}),Ae=function(e){var t=e.chatEmitter,n=e.containerRef,s=e.hasNewerMessages,a=e.jumpToLatestMessages,i=(0,r.useState)(!1),o=i[0],c=i[1];return(0,r.useEffect)((function(){var e=function(){s&&a(),c(!0)};return t.listen(q.S.ScrollToBottom,e),function(){t.unsubscribe(q.S.ScrollToBottom,e)}}),[t,n,s,a]),(0,r.useEffect)((function(){n.current&&o&&!s&&(j.m.scrollToBottom({container:n.current}),requestAnimationFrame((function(){c(!1)})))}),[n,s,o]),o}({chatEmitter:le,containerRef:de,hasNewerMessages:te,jumpToLatestMessages:ce}),Ze=function(e){var t=e.messagesListRef,n=e.messages,s=e.areMessagesLoading,a=(0,r.useState)(!1),i=a[0],o=a[1];return(0,r.useEffect)((function(){s&&o(!0)}),[s]),E((function(e){var s=(0,A.Z)(e,1)[0],a=t.current,r=null===s||void 0===s?void 0:s[0],i=n[0];if(a&&r&&i&&r.id!==i.id&&n.length>s.length){var c=a.querySelector((0,B.K)(r.id));c&&(requestAnimationFrame((function(){a.scrollTo({top:c.offsetTop-V.PZ})})),requestAnimationFrame((function(){o(!1)})))}}),[n]),i}({messagesListRef:de,messages:n,areMessagesLoading:ee}),He=function(e){var t=e.messagesListRef,n=e.messages,s=e.areMessagesLoading,a=(0,r.useState)(!1),i=a[0],o=a[1];return(0,r.useEffect)((function(){s&&o(!0)}),[s]),E((function(e){var s,a=(0,A.Z)(e,1)[0],r=t.current,i=Y()(a),c=Y()(n);r&&i&&c&&i.id!==c.id&&n.length>(null!==(s=null===a||void 0===a?void 0:a.length)&&void 0!==s?s:0)&&requestAnimationFrame((function(){o(!1)}))}),[n]),i}({messagesListRef:de,messages:n,areMessagesLoading:ne});!function(e,t,n){(0,Z.a)((function(s){var a=(0,A.Z)(s,1)[0],r=e.current;if(r&&a&&n){var i=t[t.length-1],o=a[a.length-1];(null===i||void 0===i?void 0:i.id)!==(null===o||void 0===o?void 0:o.id)&&t.length-a.length===1&&j.m.scrollToBottom({container:r})}}),[t,n])}(de,n,xe);var Be=(0,r.useMemo)((function(){return o()((function(e,t){be&&(k(F.scrollHeight,e),k(F.isScrolledBottom,t))}),V.HN)}),[be,null===F||void 0===F?void 0:F.isScrolledBottom,null===F||void 0===F?void 0:F.scrollHeight]),Ve=(0,r.useCallback)((function(e){var t=e.currentTarget,n=j.m.isViewportAtBottom({container:t});_e(n),Be(t.scrollTop,n)}),[Be]);(0,r.useEffect)((function(){var e=de.current;if(e){var t=function(e){var t=y(e);return(0,T.Gg)(t)?Number(t):null}(null===F||void 0===F?void 0:F.scrollHeight),n=S(null===F||void 0===F?void 0:F.isScrolledBottom);p?j.m.scrollToMessage({container:e,messageId:p}):t&&!n?j.m.scrollToPosition({container:e,position:t}):me&&!Le?j.m.scrollToMessage({container:e,messageId:me,topMargin:V.QU}):O===x.Ij.Bottom&&j.m.scrollToBottom({container:e}),requestAnimationFrame((function(){_e(j.m.isViewportAtBottom({container:e})),je(!0)}))}}),[]);var Ne=$&&n.length>0&&X&&!ee&&!Se&&!Ae&&we,We=$&&n.length>0&&te&&!ne&&!Se&&!Ae&&we,Pe=(0,r.useCallback)((function(){Ne&&(0,T.Gg)(Te)&&re(Te.id)}),[re,Te,Ne]),Re=(0,r.useCallback)((function(){We&&(0,T.Gg)(ke)&&ie(ke.id)}),[ie,ke,We]);return R({elementRef:fe,handler:Pe}),R({elementRef:ge,handler:Re}),(0,a.jsxs)("ul",{ref:de,className:U().messageList,"data-qa":"message-list",onScroll:Ve,children:[!X&&G,I&&(0,a.jsx)("div",{className:U().listTopMargin,children:I()}),(0,a.jsx)("div",{className:U().intersectionObserverTrigger,ref:fe}),Ze&&(0,a.jsx)(M.a,{loading:!0,className:U().paginationLoader}),n.length>0&&(0,a.jsx)("div",{className:(0,d.cn)((0,s.Z)({},U().listTopMargin,!I&&!G)),children:ye.map((function(e,t){var i,o,l,u=0===t,f=!u&&(null===(i=e[0])||void 0===i?void 0:i.id)===me,g=Ie&&u?n.length:void 0;return(0,a.jsx)(H.o,{date:null===(o=e[0])||void 0===o?void 0:o.createdAt,shownMessagesCount:g,isUnread:f,isDividerHidden:u&&X,children:e.map((function(e,t){var n=e.id===v,i=e.id===me,o=Boolean(c&&e.id>=c),l=0===t;return(0,a.jsxs)(r.Fragment,{children:[i&&!l&&(0,a.jsx)(N.j,{highlighted:!0,className:U().separatedDivider,children:(0,a.jsx)(W.l,{className:U().newMessages,children:pe("".concat(h.WY.chat,":message_list.new_messages"))})}),(0,a.jsxs)("li",{ref:function(e){i&&(ue.current=e)},className:(0,d.cn)(U().message,(0,s.Z)({},U().selectedMessage,n)),"data-qa":"message","data-message-id":e.id,children:[(0,a.jsx)(w.v,{message:e,parentMessage:b}),(0,a.jsx)("div",{className:U().intersectionObserverTrigger,ref:function(t){t&&o?he.current.set(e.id,t):he.current.delete(e.id)}})]})]},e.id)}))},(0,B.L)(null===(l=e[0])||void 0===l?void 0:l.createdAt))}))}),(0,a.jsx)("div",{className:U().intersectionObserverTrigger,ref:ge}),He&&(0,a.jsx)(M.a,{loading:!0,className:U().paginationLoader}),(se||ae)&&(0,a.jsx)(M.a,{loading:!0,className:U().jumpingLoader}),!xe&&(0,a.jsx)(C,{isAboveUnreads:ve})]})}))},375560:function(e,t,n){"use strict";n.d(t,{U:function(){return J}});var s=n(629815),a=n(785893),r=n(667294),i=n(584097),o=n(430155),c=n(498912),l=n(532951),d=n(524214),u=n(147568),h=n(197582),f=n(517083),g=n(579024),p=n(583575),m=n(748893),v=n(404559),C=n.n(v),x=function(e){var t=e.shouldToggleLatestThreads,n=(0,i.$G)([o.WY.chat]).t,s=(0,g.t)().jumpToLatestMessages,c=(0,f.s)().scrollViewToBottom,l=(0,r.useCallback)((0,u.Z)((function(){return(0,h.__generator)(this,(function(e){switch(e.label){case 0:return t?[4,s()]:[3,2];case 1:e.sent(),e.label=2;case 2:return c(),[2]}}))})),[t,s,c]),d=(0,r.useCallback)((function(){return(0,a.jsx)(m.b,{className:C().icon})}),[]);return(0,a.jsx)("div",{className:C().scrollBottomButtonContainer,children:(0,a.jsx)(p.zx,{mode:p.zx.mode.Secondary,size:p.zx.size.Small,text:n("".concat(o.WY.chat,":scroll_bottom_button.to_latest_messages")),LeftIcon:d,onClick:l})})},_=n(269854),M=n(808427),w=n(626042),j=n(416650),b=n(622831),I=n(584442),L=n(375280),T=n.n(L),k=function(e){var t,n=e.setSelectedSortOption,s=(0,i.$G)([o.WY.chat]).t,l=(0,c.f)(),d=l.chat.id,u=l.chatLesson,h=(0,I.r)().participant,f=null===u||void 0===u||null===(t=u.details)||void 0===t?void 0:t.studentsGroup.name,g=(0,r.useCallback)((function(){(null===h||void 0===h?void 0:h.id)&&b.w.sendEvent(b.w.events.sortedByCorrectness,(0,w.Z)({chatId:d,userId:h.id},f&&{groupName:f}))}),[d,null===h||void 0===h?void 0:h.id,f]),p=(0,r.useCallback)((function(){n(_.Y7.IsCorrect)(),g()}),[g,n]);return(0,a.jsxs)("div",{className:T().optionsWrapper,children:[(0,a.jsx)(j.Zv,{name:"sortOption",label:s("".concat(o.WY.chat,":question.sort_option_date")),className:T().option,onClick:n(_.Y7.Date)}),(0,a.jsx)(j.Zv,{name:"sortOption",label:s("".concat(o.WY.chat,":question.sort_option_value")),className:T().option,onClick:p})]})},y=n(449613),S=n(100278),A=n(37509),Z=n.n(A),H=(0,r.memo)((function(e){var t=e.answer,n=e.parentMessage,i=e.selectedAnswers,o=e.setSelectedAnswers,c=e.shouldRenderMultipleRateAnswer,d=e.elementRef,u=(0,r.useCallback)((function(e){return null===i||void 0===i?void 0:i.some((function(t){return t.id===e}))}),[i]),h=(0,r.useCallback)((function(e){e.target.checked?o((0,s.Z)(i).concat([t])):o(i.filter((function(e){return e.id!==t.id})))}),[i,o,t]);return(0,a.jsxs)("li",{className:(0,y.cn)(Z().message,Z().itemWrapper),ref:d,"data-qa":"open-question-answer",children:[(0,a.jsx)("div",{className:Z().messageWrapper,children:(0,a.jsx)(S.v,{message:t,parentMessage:n})}),c&&(0,a.jsx)(l.KK,{checked:u(t.id),onChange:h})]})})),B=n(206309),V=n.n(B),N=(0,r.memo)((function(e){var t=e.messages,n=e.parentMessage,c=e.selectedAnswers,d=e.setSelectedAnswers,u=e.shouldRenderMultipleRateAnswer,h=(0,i.$G)([o.WY.chat]).t,f=(0,r.useMemo)((function(){return t.filter((function(e){return e.isCorrect}))}),[t]),g=(0,r.useMemo)((function(){return t.filter((function(e){return!1===e.isCorrect}))}),[t]),p=(0,r.useMemo)((function(){return t.filter((function(e){return null===e.isCorrect}))}),[t]),m=(0,r.useCallback)((function(e){return e.every((function(e){return c.find((function(t){return t.id===e.id}))}))}),[c]),v=(0,r.useCallback)((function(e){return e.some((function(e){return c.find((function(t){return t.id===e.id}))}))}),[c]),C=(0,r.useCallback)((function(e,t){e.target.checked?d((0,s.Z)(c).concat((0,s.Z)(t.filter((function(e){return!c.find((function(t){return t.id===e.id}))}))))):d(c.filter((function(e){return!t.find((function(t){return e.id===t.id}))})))}),[c,d]);return t.length?(0,a.jsxs)("li",{className:V().itemWrapper,style:{display:"block"},children:[p.length>0&&(0,a.jsxs)("ul",{className:V().messageList,children:[(0,a.jsxs)("div",{className:V().repliesWrapper,children:[(0,a.jsx)("p",{className:V().replies,children:"".concat(h("".concat(o.WY.chat,":question.not_rated_replies_count"),{count:p.length}))}),u&&(0,a.jsx)("div",{className:V().markAllMessages,children:(0,a.jsx)(l.KK,{checked:v(p),onChange:function(e){return C(e,p)},disabled:!p.length,mode:v(p)&&!m(p)?l.zA.Minus:l.zA.CheckMark})})]}),p.map((function(e){return(0,a.jsx)(H,{answer:e,parentMessage:n,selectedAnswers:c,setSelectedAnswers:d,shouldRenderMultipleRateAnswer:u},e.id)}))]}),f.length>0&&(0,a.jsxs)("ul",{className:V().messageList,children:[(0,a.jsxs)("div",{className:V().repliesWrapper,children:[(0,a.jsx)("p",{className:V().replies,children:"".concat(h("".concat(o.WY.chat,":question.correct_replies_count"),{count:f.length}))}),u&&(0,a.jsx)("div",{className:V().markAllMessages,children:(0,a.jsx)(l.KK,{checked:v(f),onChange:function(e){return C(e,f)},disabled:!f.length,mode:v(f)&&!m(f)?l.zA.Minus:l.zA.CheckMark})})]}),f.map((function(e){return(0,a.jsx)(H,{answer:e,selectedAnswers:c,setSelectedAnswers:d,shouldRenderMultipleRateAnswer:u},e.id)}))]}),g.length>0&&(0,a.jsxs)("ul",{className:V().messageList,children:[(0,a.jsxs)("div",{className:V().repliesWrapper,children:[(0,a.jsx)("p",{className:V().replies,children:"".concat(h("".concat(o.WY.chat,":question.wrong_replies_count"),{count:g.length}))}),u&&(0,a.jsx)("div",{className:V().markAllMessages,children:(0,a.jsx)(l.KK,{checked:v(g),onChange:function(e){return C(e,g)},disabled:!g.length,mode:v(g)&&!m(g)?l.zA.Minus:l.zA.CheckMark})})]}),g.map((function(e){return(0,a.jsx)(H,{answer:e,selectedAnswers:c,setSelectedAnswers:d,shouldRenderMultipleRateAnswer:u},e.id)}))]})]}):null})),W=n(641201),P=n(368935),R=n(10253),E=n(70251),O=n(141309),Y=n(186744),q=function(e,t,n){var s=(0,I.r)().participant,a=function(){var e=(0,r.useState)((function(){return Y.isBrowser&&document.hasFocus()})),t=e[0],n=e[1];return(0,r.useEffect)((function(){n(document.hasFocus())}),[]),(0,r.useEffect)((function(){var e=function(){return n(!0)},t=function(){return n(!1)};return window.addEventListener(O.y.Focus,e),window.addEventListener(O.y.Blur,t),function(){window.removeEventListener(O.y.Focus,e),window.removeEventListener(O.y.Blur,t)}}),[]),t}(),i=(0,R.Z)((0,E.y)(null===s||void 0===s?void 0:s.id),1)[0],o=e[e.length-1]||null;(0,r.useEffect)((function(){var e=Boolean(t&&o&&o.id>=t);if(!(n&&!!o&&e&&a))return function(){return null};var s=setTimeout((function(){i(o)}),250);return function(){clearTimeout(s)}}),[o,t,i,n,a])},F=n(225961),z=n(62605),$=n(857134),D=n(586347),Q=n(563048),U=n(706725),G=n.n(U),J=(0,r.memo)((function(e){var t=e.visibleMessages,n=e.allMessagesCount,u=e.firstUnreadMessageId,h=e.messageToScrollId,g=e.parentMessage,m=e.isSender,v=e.renderHeadingMessage,C=e.selectedAnswers,w=e.setSelectedAnswers,j=e.shouldRenderMultipleRateAnswer,b=(0,c.f)().isStudentViewEnabled,I=(0,f.s)().chatEmitter,L=(0,r.useRef)(null),T=(0,r.useState)(!1),y=T[0],S=T[1],A=(0,r.useState)(_.Y7.Date),Z=A[0],B=A[1],V=(0,r.useState)(!1),R=V[0],E=V[1];q(t,u||null,R);var O=(0,r.useCallback)((function(e){var t=e.currentTarget;E(W.m.isViewportAtBottom({container:t}))}),[]),Y=(0,r.useCallback)((function(){S(!y)}),[y]),U=(0,r.useCallback)((function(e){return function(){B(e),S(!1)}}),[]),J=(0,i.$G)([o.WY.chat]).t,K=(0,r.useMemo)((function(){return t.length>0&&(null===C||void 0===C?void 0:C.length)===t.length}),[t,C]),X=(0,r.useMemo)((function(){return C.length>0}),[C]),ee=(0,r.useCallback)((function(e){e.target.checked?w((0,s.Z)(t)):w([])}),[t,w]),te=(0,r.useMemo)((function(){return J("".concat(o.WY.chat,":question.sort_by"))+(Z===_.Y7.Date?J("".concat(o.WY.chat,":question.sort_option_date")):J("".concat(o.WY.chat,":question.sort_option_value")))}),[J,Z]);(0,r.useEffect)((function(){var e=L.current;if(!e)return D.Bi;h?W.m.scrollToMessage({container:e,messageId:h}):u&&W.m.scrollToMessage({container:e,messageId:u,topMargin:Q.QU}),requestAnimationFrame((function(){E(W.m.isViewportAtBottom({container:e}))}));var t=function(){W.m.scrollToBottom({container:e})};return I.listen(P.S.ScrollToBottom,t),function(){I.unsubscribe(P.S.ScrollToBottom,t)}}),[]);var ne=t[0];return(0,a.jsxs)("ul",{onScroll:O,ref:L,className:G().messageList,children:[v&&(0,a.jsxs)("div",{className:G().headingMessage,children:[v(),(0,a.jsxs)("div",{className:G().repliesWrapper,children:[(0,a.jsx)("p",{className:G().replies,children:"".concat(J("".concat(o.WY.chat,":message.replies_count"),{count:n}))}),j&&(0,a.jsx)("div",{className:G().markAllMessages,children:(0,a.jsx)(l.KK,{checked:X,onChange:ee,disabled:!t.length,mode:X&&!K?l.zA.Minus:l.zA.CheckMark})})]})]}),(0,a.jsxs)("div",{className:G().sortButtonWrapper,children:[(0,a.jsx)(p.zx,{LeftIcon:M.e,mode:p.zx.mode.TransparentLight,size:p.zx.size.Small,text:te,onClick:Y}),y&&(0,a.jsx)(k,{setSelectedSortOption:U})]}),b&&(0,a.jsx)("div",{className:G().studentViewEnabledPlaceholder,children:J("".concat(o.WY.chat,":open_question_answers.student_view_placeholder"))}),Z===_.Y7.IsCorrect&&(0,a.jsx)(N,{messages:t,shouldRenderMultipleRateAnswer:j,selectedAnswers:C,setSelectedAnswers:w}),Z!==_.Y7.IsCorrect&&(0,D.Gg)(ne)&&(0,a.jsx)(F.o,{date:ne.createdAt,children:t.map((function(e,t){var n=e.id===u,s=0===t;return(0,a.jsxs)(r.Fragment,{children:[n&&!s&&(0,a.jsx)(z.j,{highlighted:!0,className:G().separatedDivider,children:(0,a.jsx)($.l,{className:G().newMessages,children:J("".concat(o.WY.chat,":message_list.new_messages"))})}),(0,a.jsx)(H,{answer:e,parentMessage:g,selectedAnswers:C,setSelectedAnswers:w,shouldRenderMultipleRateAnswer:j},e.id)]},e.id)}))}),m&&(0,a.jsx)(d.v,{votes:g.answers}),!R&&(0,a.jsx)(x,{})]})}))},225961:function(e,t,n){"use strict";n.d(t,{o:function(){return m}});var s=n(785893),a=n(667294),r=n(666229),i=n(31708),o=n(42100),c=n.n(o),l=(0,a.memo)((function(e){var t=e.date,n=e.className,a=(0,i.MC)(t);return(0,s.jsx)("p",{"data-qa":"day-label",className:(0,r.cn)(c().date,n),children:a})})),d=n(62605),u=n(430155),h=n(584097),f=n(857134),g=n(367706),p=n.n(g),m=(0,a.memo)((function(e){var t=e.date,n=e.children,a=e.shownMessagesCount,r=e.isUnread,i=void 0!==r&&r,o=e.isDividerHidden,c=void 0!==o&&o,g=function(e,t){var n=(0,h.$G)([u.WY.chat]).t;return"number"===typeof t?(0,s.jsx)(f.l,{className:p().repliesCount,children:n("".concat(u.WY.chat,":message.replies_count"),{count:t})}):e?(0,s.jsx)(f.l,{className:p().newMessages,children:n("".concat(u.WY.chat,":message_list.new_messages"))}):null}(i,a);return(0,s.jsxs)("div",{className:p().wrapper,children:[(0,s.jsx)(l,{date:t,className:p().dayLabel}),!c&&(0,s.jsx)(d.j,{highlighted:i,className:p().divider,children:g}),n]})}))},47490:function(e,t,n){"use strict";n.d(t,{p:function(){return l}});var s=n(785893),a=n(50384),r=n(369528),i=n(62583),o=n(375015),c=n.n(o),l=function(){return(0,s.jsxs)("div",{className:c().wrapper,children:[(0,s.jsx)(a.$,{}),(0,s.jsx)(r.B,{}),(0,s.jsx)(i.H,{}),(0,s.jsx)(a.$,{}),(0,s.jsx)(r.B,{}),(0,s.jsx)(i.H,{})]})}},454491:function(e,t,n){"use strict";n.d(t,{o:function(){return i}});var s=n(785893),a=n(5429),r=n.n(a),i=function(e){var t=e.width,n=e.height;return(0,s.jsx)("div",{style:{width:t,height:n},className:r().message})}},62583:function(e,t,n){"use strict";n.d(t,{H:function(){return l}});var s=n(785893),a=n(40563),r=n(454491),i=n(537634),o=n(630879),c=n.n(o),l=function(){return(0,s.jsxs)(a.u,{children:[(0,s.jsx)(r.o,{width:130,height:20}),(0,s.jsx)(r.o,{width:154,height:20}),(0,s.jsxs)("div",{className:c().reactionsContainer,children:[(0,s.jsx)("div",{className:c().reactionWrapper,children:(0,s.jsx)("div",{className:c().reactionInnerContent})}),(0,s.jsx)(i.u,{className:c().icon})]})]})}},40563:function(e,t,n){"use strict";n.d(t,{u:function(){return l}});var s=n(785893),a=n(531574),r=n(201006),i=n(454491),o=n(883813),c=n.n(o),l=function(e){var t=e.withBottomButton,n=e.children;return(0,s.jsxs)("div",{className:c().messageWrapper,children:[(0,s.jsx)(a.o,{size:40}),(0,s.jsxs)("div",{className:c().messageBubble,children:[(0,s.jsx)("div",{className:c().messagesList,children:n}),t&&(0,s.jsxs)("div",{className:c().bottomButton,children:[(0,s.jsx)(i.o,{width:48,height:20}),(0,s.jsx)(r.V,{className:c().icon})]})]})]})}},369528:function(e,t,n){"use strict";n.d(t,{B:function(){return i}});var s=n(785893),a=n(40563),r=n(454491),i=function(){return(0,s.jsxs)(a.u,{children:[(0,s.jsx)(r.o,{width:130,height:20}),(0,s.jsx)(r.o,{width:154,height:20})]})}},50384:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});var s=n(785893),a=n(40563),r=n(454491),i=function(){return(0,s.jsxs)(a.u,{withBottomButton:!0,children:[(0,s.jsx)(r.o,{width:130,height:20}),(0,s.jsx)(r.o,{width:430,height:20}),(0,s.jsx)(r.o,{width:430,height:20}),(0,s.jsx)(r.o,{width:130,height:20})]})}},26170:function(e,t,n){"use strict";n.d(t,{_:function(){return c}});var s=n(785893),a=n(430155),r=n(584097),i=n(421723),o=n(394839),c=function(){var e=(0,r.$G)([a.WY.chat]).t;return(0,s.jsx)(i.s,{chubbsType:o.X.Undefined,textPrimary:e("".concat(a.WY.chat,":not_participant_window.oooops")),textSecondary:e("".concat(a.WY.chat,":not_participant_window.not_a_member"))})}},989517:function(e,t,n){"use strict";n.d(t,{M:function(){return c}});var s=n(785893),a=n(430155),r=n(584097),i=n(421723),o=n(394839),c=function(){var e=(0,r.$G)([a.WY.chat]).t;return(0,s.jsx)(i.s,{chubbsType:o.X.Undefined,textPrimary:e("".concat(a.WY.chat,":something_went_wrong_placeholder.title")),textSecondary:e("".concat(a.WY.chat,":something_went_wrong_placeholder.description"))})}},73393:function(e,t,n){"use strict";n.d(t,{I:function(){return l}});var s=n(785893),a=n(50384),r=n(369528),i=n(62583),o=n(141995),c=n.n(o),l=function(){return(0,s.jsxs)("div",{className:c().wrapper,children:[(0,s.jsx)(i.H,{}),(0,s.jsx)("div",{className:c().threadSplitter}),(0,s.jsx)(a.$,{}),(0,s.jsx)(i.H,{}),(0,s.jsx)(r.B,{})]})}},394108:function(e,t,n){"use strict";n.d(t,{ng:function(){return c},AY:function(){return h},_6:function(){return l._}});var s=n(785893),a=n(430155),r=n(584097),i=n(421723),o=n(394839),c=function(){var e=(0,r.$G)([a.WY.chat]).t;return(0,s.jsx)(i.s,{chubbsType:o.X.Typing,textPrimary:e("".concat(a.WY.chat,":empty_chat_placeholder.no_messages")),textSecondary:e("".concat(a.WY.chat,":empty_chat_placeholder.write_message"))})},l=n(26170),d=n(793164),u=n.n(d),h=function(){var e=(0,r.$G)([a.WY.chat]).t;return(0,s.jsx)("div",{className:u().page,children:(0,s.jsx)("div",{className:u().content,children:(0,s.jsx)(i.s,{chubbsType:o.X.Phone,textPrimary:e("".concat(a.WY.chat,":placeholder.no_selected_chat")),textSecondary:e("".concat(a.WY.chat,":placeholder.no_selected_chat_cta"))})})})}},599734:function(e,t,n){"use strict";n.d(t,{I:function(){return o}});var s=n(785893),a=n(667294),r=n(368935),i=n(517083),o=function(e){var t=e.children,n=(0,r.$)(),o=(0,a.useCallback)((function(){n.notify({type:r.S.ScrollToUnread})}),[n]),c=(0,a.useCallback)((function(){n.notify({type:r.S.ScrollToBottom})}),[n]);return(0,s.jsx)(i.I,{chatEmitter:n,scrollViewToUnread:o,scrollViewToBottom:c,children:t})}},859459:function(e,t,n){"use strict";n.d(t,{f:function(){return l}});var s=n(785893),a=n(667294),r=n(430155),i=n(584097),o=n(628380),c=n(584442),l=function(e){var t=e.option,n=e.votes,l=e.isAdmin,d=e.isQuiz,u=(0,i.$G)([r.WY.chat]).t,h=(0,c.r)(),f=h.participantsMap,g=h.loadParticipant,p=t.id,m=t.text,v=t.isCorrect,C=(0,a.useMemo)((function(){return n.filter((function(e){return e.pollOptionId===p}))}),[n,p]),x=(0,a.useMemo)((function(){if(!C.length)return"No votes \ud83d\ude14";var e=C.map((function(e){var t=f.get(e.senderId);return t||g(e.senderId),t}));return e.some((function(e){return!e}))?"Loading...":e.reduce((function(e,t,n){if(!t)return e;var s=t.username||"John Doe";return 0===n?s:"".concat(e,", ").concat(s)}),"")}),[g,C,f]),_=n.length?Math.round(C.length/n.length*100):0,M="".concat(u("".concat(r.WY.chat,":message.replies_count"),{count:C.length})," - ").concat(_,"%");return(0,s.jsx)(o.r,{title:M,optionLabel:m,isCorrect:v,participantNames:x,isAdmin:l,isQuiz:d})}},524214:function(e,t,n){"use strict";n.d(t,{v:function(){return d}});var s=n(785893),a=n(667294),r=n(430155),i=n(584097),o=n(858293),c=n(628380),l=n(584442),d=function(e){var t=e.votes,n=(0,i.$G)([r.WY.chat]).t,d=(0,l.r)().participantsMap,u=(0,a.useMemo)((function(){return Array.from(d.values())}),[d]),h=(0,a.useMemo)((function(){return u.filter((function(e){return!(0,o.Nl)(e)&&!t.some((function(t){return t.senderId===e.id}))}))}),[u,t]),f=h.length,g=(0,a.useMemo)((function(){return f?h.reduce((function(e,t,n){var s=t.username||"John Doe";return 0===n?s:"".concat(e,", ").concat(s)}),""):"All participants voted! \ud83d\ude80"}),[h,f]),p=u.length?Math.round(f/u.length*100):100,m="".concat(f," ").concat(n("".concat(r.WY.chat,":question_view.not_answered"))," - ").concat(p,"%");return(0,s.jsx)(c.r,{title:m,participantNames:g})}},628380:function(e,t,n){"use strict";n.d(t,{r:function(){return c}});var s=n(414924),a=n(785893),r=n(449613),i=n(321120),o=n.n(i),c=function(e){var t,n=e.title,i=e.participantNames,c=e.isCorrect,l=e.optionLabel,d=e.isAdmin,u=e.isQuiz;return(0,a.jsxs)("div",{className:o().optionContainer,children:[(0,a.jsx)("p",{className:o().title,"data-qa":"poll-results",children:n}),(0,a.jsxs)("div",{className:(0,r.cn)((0,s.Z)({},o().rightAnswer,c&&!d),o().namesBlock),"data-qa":c?"correct-answers":"wrong-answers",children:[l&&(0,a.jsx)("p",{className:(0,r.cn)((t={},(0,s.Z)(t,o().rightAnswerTitle,c),(0,s.Z)(t,o().wrongAnswerTitle,!c&&u),t),o().optionLabel),children:l}),(0,a.jsx)("p",{"data-qa":"poll-participants",children:i})]})]})}},796631:function(e,t,n){"use strict";n.d(t,{a:function(){return h},p:function(){return u}});var s=n(626042),a=n(269396),r=n(999534),i=n(10253),o=n(785893),c=n(667294),l=n(586347),d=(0,c.createContext)({isTyping:!1,setIsTyping:l.Bi,aiChatFeedback:null,setAiChatFeedback:l.Bi}),u=function(e){var t=e.children,n=(0,r.Z)(e,["children"]),l=(0,c.useState)(!1),u=l[0],h=l[1],f=(0,i.Z)((0,c.useState)(null),2),g=f[0],p=f[1],m=(0,c.useMemo)((function(){return(0,a.Z)((0,s.Z)({},n),{isTyping:u,setIsTyping:h,aiChatFeedback:g,setAiChatFeedback:p})}),[n,u,h,g,p]);return(0,o.jsx)(d.Provider,{value:m,children:t})},h=function(){return(0,c.useContext)(d)}},579024:function(e,t,n){"use strict";n.d(t,{a:function(){return c},t:function(){return l}});var s=n(999534),a=n(785893),r=n(667294),i=n(586347),o=(0,r.createContext)({firstUnreadMessageId:null,selectedMessageId:null,hasUnreadMessages:!1,hasMoreOlderMessages:!1,olderMessagesLoading:!1,hasMoreNewerMessages:!1,newerMessagesLoading:!1,unreadMessagesLoading:!1,latestMessagesLoading:!1,loadOlderMessages:i.PL,loadNewerMessages:i.PL,jumpToUnreadMessages:i.PL,jumpToLatestMessages:i.PL}),c=function(e){var t=e.children,n=(0,s.Z)(e,["children"]);return(0,a.jsx)(o.Provider,{value:n,children:t})},l=function(){return(0,r.useContext)(o)}},517083:function(e,t,n){"use strict";n.d(t,{I:function(){return l},s:function(){return d}});var s=n(999534),a=n(785893),r=n(667294),i=n(958043),o=n(586347),c=(0,r.createContext)({chatEmitter:new i.Q,scrollViewToBottom:o.Bi,scrollViewToUnread:o.Bi}),l=function(e){var t=e.children,n=(0,s.Z)(e,["children"]);return(0,a.jsx)(c.Provider,{value:n,children:t})},d=function(){return(0,r.useContext)(c)}},216314:function(e,t,n){"use strict";n.d(t,{v:function(){return l}});var s=n(785893),a=n(667294),r=n(583575),i=n(416283),o=n(365214),c=n.n(o),l=function(e){var t=e.heading,n=e.subheading,o=e.onHeadingClick,l=e.headingRightIcon,d=e.onBackButton,u=e.RightButton,h=(0,a.useMemo)((function(){return n?"string"===typeof n?(0,s.jsx)("p",{className:c().subheading,"data-qa":"chat-heading-subtitle",children:n}):n:null}),[n]);return(0,s.jsxs)("header",{className:c().header,children:[(0,s.jsxs)("div",{className:c().leftControls,children:[d&&(0,s.jsx)(r.zx,{onClick:d,mode:r.zx.mode.TransparentLight,LeftIcon:i.e,dataQa:"chat-header-back-btn"}),(0,s.jsxs)("div",{className:c().headings,children:[o?(0,s.jsx)("button",{className:c().headingButton,onClick:o,children:(0,s.jsxs)("h2",{className:c().heading,"data-qa":"chat-heading-title",children:[t,l]})}):(0,s.jsxs)("h2",{className:c().heading,"data-qa":"chat-heading-title",children:[t,l]}),h]})]}),u]})}},886340:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});var s=n(785893),a=n(973747),r=n.n(a),i=function(e){var t=e.header,n=e.isSecondaryView,a=e.children;return(0,s.jsxs)(s.Fragment,{children:[n&&(0,s.jsx)("div",{className:r().splitter}),(0,s.jsxs)("div",{className:r().windowWithHeader,"data-qa":n?"thread-view":"primary-view",children:[t,(0,s.jsx)("div",{className:r().messagesBlock,children:a})]})]})}},767272:function(e,t,n){"use strict";n.d(t,{t:function(){return l}});var s=n(307297),a=n(937878),r=n(164582),i=n(650319);function o(){var e=(0,s.Z)(["\n    mutation joinChat($chatId: Int!) {\n  joinChat(chatId: $chatId) {\n    ...ParticipantBase\n  }\n}\n    ",""]);return o=function(){return e},e}var c=(0,a.Ps)(o(),r.d);function l(e){return i.D(c,e)}},363485:function(e,t,n){"use strict";n.d(t,{N:function(){return f}});var s=n(10253),a=n(667294),r=n(269854),i=n(133145),o=n(963775),c=n(307297),l=n(937878),d=n(650319);function u(){var e=(0,c.Z)(["\n    mutation answerOpenQuestion($fields: OpenQuestionAnswerFields!) {\n  answerOpenQuestion(fields: $fields) {\n    ...OpenQuestionAnswer\n  }\n}\n    ",""]);return u=function(){return e},e}var h=(0,l.Ps)(u(),o.a);var f=function(){var e,t=(0,s.Z)(d.D(h,e),2),n=t[0],c=t[1];return[(0,a.useCallback)((function(e){var t=e.chatId,s=e.threadId,a=e.text,c=e.senderId,l=(new Date).getTime();return n({variables:{fields:e},optimisticResponse:{answerOpenQuestion:{__typename:r.Cs.OpenQuestionAnswer,id:-1,chatId:t,threadId:s,text:a,senderId:c,reactionStacks:[],createdAt:l,updatedAt:l,isCorrect:null,isOwn:!0,pinnedBy:null,isSaved:!1}},update:function(e,t){var n=t.data,s=null===n||void 0===n?void 0:n.answerOpenQuestion;if(s){var a={fragment:o.a,fragmentName:r.i_.OpenQuestionAnswer,message:s},c={type:r.Cs.OpenQuestion,fieldToUpdate:"answers"};(0,i.vL)(e,c,a),(0,i.jQ)(e,r.Cs.OpenQuestion,s.threadId,s.createdAt)}}})}),[n]),c]}},368935:function(e,t,n){"use strict";n.d(t,{$:function(){return i},S:function(){return s}});var s,a=n(667294),r=n(958043);!function(e){e.ScrollToBottom="scroll-to-bottom",e.ScrollToUnread="scroll-to-unread"}(s||(s={}));var i=function(){return(0,a.useRef)(new r.Q).current}},344842:function(e,t,n){"use strict";n.d(t,{U:function(){return r}});var s=n(667294),a=n(931785),r=function(e){var t=(0,a.g6)({variables:{id:e}}),n=t.data,r=t.loading;return[(0,s.useMemo)((function(){return(null===n||void 0===n?void 0:n.chatMessageById)||null}),[null===n||void 0===n?void 0:n.chatMessageById]),r]}},199761:function(e,t,n){"use strict";n.d(t,{m:function(){return x}});var s=n(626042),a=n(10253),r=n(366252),i=n(297027),o=n(147568),c=n(269396),l=n(629815),d=n(197582),u=n(667294),h=n(534145),f=n(298698),g=n(714718),p=function(e){var t=e.chatId,n=e.hasMoreNewerMessages,a=e.fetchMoreMessages,r=(0,h.ZW)(),i=(0,u.useState)(!1),p=i[0],m=i[1],v=(0,u.useCallback)(function(){var e=(0,o.Z)((function(e,i){var o,u;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:return d.trys.push([0,2,3,4]),!p&&a&&n?(m(!0),[4,a({variables:{chatId:t,rightCursor:e},updateQuery:function(e,t){var n=t.fetchMoreResult;if(!n)return e;null===i||void 0===i||i();var a=e.chatMessages.messages,r=n.chatMessages,o=r.hasMoreNewerMessages,d=r.messages,u=(0,l.Z)(a).concat((0,l.Z)(d));return(0,c.Z)((0,s.Z)({},e),{chatMessages:(0,c.Z)((0,s.Z)({},e.chatMessages),{hasMoreNewerMessages:o,messages:u})})}})]):[2];case 1:return d.sent(),[3,4];case 2:return o=d.sent(),u=(0,g.S)(o),r.showMessage({type:f.oK.error,heading:"Whoops!",text:"Something went wrong while loading messages. ".concat(u.message)}),[3,4];case 3:return m(!1),[7];case 4:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),[a,r,t,n,p]);return[v,p]},m=function(e){var t=e.chatId,n=e.hasMoreOlderMessages,a=e.fetchMoreMessages,r=(0,h.ZW)(),i=(0,u.useState)(!1),p=i[0],m=i[1],v=(0,u.useCallback)(function(){var e=(0,o.Z)((function(e,i){var o,u;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:return d.trys.push([0,2,3,4]),!p&&a&&n?(m(!0),[4,a({variables:{chatId:t,leftCursor:e},updateQuery:function(e,t){var n=t.fetchMoreResult;if(!n)return e;null===i||void 0===i||i();var a=e.chatMessages.messages,r=n.chatMessages,o=r.hasMoreOlderMessages,d=r.messages,u=(0,l.Z)(d).concat((0,l.Z)(a));return(0,c.Z)((0,s.Z)({},e),{chatMessages:(0,c.Z)((0,s.Z)({},e.chatMessages),{hasMoreOlderMessages:o,messages:u})})}})]):[2];case 1:return d.sent(),[3,4];case 2:return o=d.sent(),u=(0,g.S)(o),r.showMessage({type:f.oK.error,heading:"Whoops!",text:"Something went wrong while loading messages. ".concat(u.message)}),[3,4];case 3:return m(!1),[7];case 4:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),[a,r,t,n,p]);return[v,p]},v=n(17296),C={messages:n(608151).LZ,hasMoreNewerMessages:!1,hasMoreOlderMessages:!1},x=function(e){var t,n=e.chatId,o=e.threadId,c=e.middleCursorMessageId,l=(0,r.x)(),d=(0,i.HX)({variables:{chatId:n},fetchPolicy:"cache-only"}),u=d.data,h=d.fetchMore,f=null!==(t=null===u||void 0===u?void 0:u.chatMessages)&&void 0!==t?t:C,g=f.messages,x=f.hasMoreNewerMessages,_=f.hasMoreOlderMessages,M=(0,a.Z)((0,i.U9)({onCompleted:function(e){var t=e.chatMessages;l.writeQuery({query:i.wf,variables:{chatId:n},data:{chatMessages:t}})}}),2),w=M[0],j=M[1].loading,b=!!(null===u||void 0===u?void 0:u.chatMessages)&&!j,I=(0,a.Z)(p({chatId:n,hasMoreNewerMessages:x,fetchMoreMessages:h}),2),L=I[0],T=I[1],k=(0,a.Z)(m({chatId:n,hasMoreOlderMessages:_,fetchMoreMessages:h}),2),y=k[0],S=k[1];return(0,v.a)((function(e){var t=(0,a.Z)(e,2),r=t[0],i=t[1],l=0===e.length,d=n!==r,u=Boolean(c)&&i!==c,h=Boolean(o||c);(l||d||u)&&w({variables:(0,s.Z)({chatId:n},h&&{middleCursor:o||c})})}),[n,c,o,w]),{messages:g,areMessagesReady:b,hasMoreNewerMessages:x,hasMoreOlderMessages:_,loadMoreNewerMessages:L,newerMessagesLoading:T,loadMoreOlderMessages:y,olderMessagesLoading:S}}},759690:function(e,t,n){"use strict";n.d(t,{c:function(){return r}});var s=n(667294),a=n(870055),r=function(e){var t=e.id,n=e.name,r=e.description,i=e.kind,o=e.accessType,c=e.chatBuddy,l=e.myParticipant;return(0,s.useMemo)((function(){return{id:t,name:n,description:r,kind:i,accessType:o,chatBuddy:c,isChatWithSelf:Boolean(i===a.CL7.Direct&&c&&c.id===(null===l||void 0===l?void 0:l.id))}}),[l,c,i,t,n,r,o])}},493809:function(e,t,n){"use strict";n.d(t,{M:function(){return r}});var s=n(667294),a=n(741771),r=function(){var e=(0,a.o)(),t=e.threadId,n=e.selectedMessageId,r=e.fullScreen;return{queryThreadId:(0,s.useMemo)((function(){return t?Number(t):null}),[t]),querySelectedMessageId:(0,s.useMemo)((function(){return n?Number(n):null}),[n]),queryFullScreen:"true"===r}}},765263:function(e,t,n){"use strict";n.d(t,{I:function(){return r}});var s=n(629815),a=n(667294),r=function(e){var t=e.delayedAction,n=e.delay,r=(0,a.useRef)(null),i=(0,a.useCallback)((function(){for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];r.current&&clearTimeout(r.current),r.current=setTimeout.apply(void 0,[t,n].concat((0,s.Z)(a)))}),[n,t,r]);return[i,(0,a.useCallback)((function(){r.current&&clearTimeout(r.current)}),[r])]}},713070:function(e,t,n){"use strict";n.d(t,{c:function(){return f}});var s=n(10253),a=n(667294),r=n(366252),i=n(307297),o=n(937878),c=n(84870),l=n(273359);function d(){var e=(0,i.Z)(["\n    query latestThreads($chatId: Int!) {\n  latestThreads(chatId: $chatId) {\n    ...AbstractMessage\n  }\n}\n    ",""]);return d=function(){return e},e}var u=(0,o.Ps)(d(),c.R);var h=n(297027),f=function(e){var t,n=e.chatId,i=e.skip,o=(0,r.x)(),c=(0,s.Z)((t={variables:{chatId:n},fetchPolicy:"network-only",onCompleted:function(e){var t=e.latestThreads;o.cache.writeQuery({query:h.wf,variables:{chatId:n},data:{chatMessages:{__typename:"ChatMessagesQueryResult",messages:t,hasMoreNewerMessages:!1,hasMoreOlderMessages:!0}}})}},l.t(u,t)),2),d=c[0],f=c[1].loading;return{jumpToLatestMessages:(0,a.useCallback)((function(){i||d()}),[i,d]),areLatestMessagesLoading:f}}},467081:function(e,t,n){"use strict";n.d(t,{Y:function(){return i}});var s=n(10253),a=n(667294),r=n(297027),i=function(e){var t=e.chatId,n=e.skip,i=(0,s.Z)((0,r.U9)({variables:{chatId:t},fetchPolicy:"network-only"}),2),o=i[0],c=i[1].loading;return{jumpToUnreadMessages:(0,a.useCallback)((function(){n||o()}),[n,o]),areUnreadMessagesLoading:c}}},830514:function(e,t,n){"use strict";n.d(t,{H:function(){return b}});var s=n(10253),a=n(667294),r=n(147568),i=n(197582),o=n(307297),c=n(937878),l=n(546445),d=n(650319);function u(){var e=(0,o.Z)(["\n    mutation saveDraftChatMessage($fields: SaveDraftChatMessageFields!) {\n  saveDraftChatMessage(fields: $fields) {\n    ...DraftMessageFull\n  }\n}\n    ",""]);return u=function(){return e},e}var h=(0,c.Ps)(u(),l.u);var f=n(622831),g=n(51438),p=n(629815),m=n(500649),v=n(269854),C=function(){function e(t){(0,g.Z)(this,e),this.store=t}var t=e.prototype;return t.addChatDraft=function(e,t){this.insertIntoDraftsQuery({chatId:e,draftId:t.id}),this.modifyChatDraft(e,t)},t.removeChatDraft=function(e){this.removeFromDraftsQuery(e),this.modifyChatDraft(e,null)},t.addThreadDraft=function(e,t){this.store.modify({id:this.store.identify({__typename:v.Cs.Thread,id:e}),fields:{draft:function(){return t}}})},t.removeThreadDraft=function(e){this.store.modify({id:this.store.identify({__typename:v.Cs.Thread,id:e}),fields:{draft:function(){return null}}})},t.removeFromDraftsQuery=function(e){var t=this.store.readQuery({query:m.EM});if(t){var n=null===t||void 0===t?void 0:t.draftMessages.filter((function(t){return t.chatId!==e}));this.store.writeQuery({query:m.EM,data:{draftMessages:n}})}},t.insertIntoDraftsQuery=function(e){var t=e.draftId,n=e.chatId,s=this.store.readQuery({query:m.EM});if(s){var a=(0,p.Z)(s.draftMessages).concat([{id:t,chatId:n,threadId:null}]);this.store.writeQuery({query:m.EM,data:{draftMessages:a}})}},t.modifyChatDraft=function(e,t){this.store.modify({id:this.store.identify({__typename:"GroupChat",id:e}),fields:{draft:function(){return t}}}),this.store.modify({id:this.store.identify({__typename:"PrivateChat",id:e}),fields:{draft:function(){return t}}})},e}(),x=function(){var e,t=(0,s.Z)((e={onCompleted:function(){f.w.sendEvent(f.w.events.draftSaved)}},d.D(h,e)),1)[0],n=(0,a.useCallback)(function(){var e=(0,r.Z)((function(e){return(0,i.__generator)(this,(function(n){return[2,t({variables:{fields:e},optimisticResponse:{saveDraftChatMessage:{__typename:"DraftMessage",id:-1,text:e.text,chatId:e.chatId,threadId:e.threadId}},update:function(t,n){var s=n.data;if(s){var a=e.chatId,r=e.threadId,i=s.saveDraftChatMessage,o=new C(t);r?o.addThreadDraft(r,i):o.addChatDraft(a,i)}}})]}))}));return function(t){return e.apply(this,arguments)}}(),[t]);return[n]};function _(){var e=(0,o.Z)(["\n    mutation deleteDraftChatMessage($fields: DeleteDraftChatMessageFields!) {\n  deleteDraftChatMessage(fields: $fields)\n}\n    "]);return _=function(){return e},e}var M=(0,c.Ps)(_());var w=function(){var e,t=(0,s.Z)(d.D(M,e),1)[0];return[(0,a.useCallback)((function(e){return t({variables:{fields:e},optimisticResponse:{deleteDraftChatMessage:!0},update:function(t,n){if(n.data){var s=e.chatId,a=e.threadId,r=new C(t);a?r.removeThreadDraft(a):r.removeChatDraft(s)}}})}),[t])]},j=n(905945),b=function(){var e=(0,s.Z)(x(),1)[0],t=(0,s.Z)(w(),1)[0];return[(0,a.useCallback)((function(n){var s=n.text;s?s.length>j.tW||e({chatId:n.chatId,threadId:n.threadId||null,text:s}):t({chatId:n.chatId,threadId:n.threadId||null})}),[t,e])]}},219478:function(e,t,n){"use strict";n.d(t,{k:function(){return a}});var s=n(667294),a=function(e){var t=null===e||void 0===e?void 0:e.id,n=null===e||void 0===e?void 0:e.fullName,a=null===e||void 0===e?void 0:e.userId,r=null===e||void 0===e?void 0:e.chatId,i=null===e||void 0===e?void 0:e.role,o=null===e||void 0===e?void 0:e.status,c=null===e||void 0===e?void 0:e.archivedAt,l=(null===e||void 0===e?void 0:e.isFavourite)||!1,d=(null===e||void 0===e?void 0:e.activeStreakDaysCount)||0,u=null===e||void 0===e?void 0:e.inactiveReason;return(0,s.useMemo)((function(){return t&&n&&a&&r&&i&&o?{id:t,fullName:n,userId:a,chatId:r,role:i,status:o,archivedAt:c,isFavourite:l,activeStreakDaysCount:d,inactiveReason:u}:null}),[t,a,r,i,o,n,c,l,d,u])}},279939:function(e,t,n){"use strict";n.d(t,{p:function(){return z}});var s=n(785893),a=n(667294),r=n(907408),i=n(796424),o=n(584097),c=n(430155),l=n(620575),d=n(10253),u=n(298698),h=n(534145),f=n(307297),g=n(937878),p=n(650319);function m(){var e=(0,f.Z)(["\n    mutation ensureAiAssistantChat($testTaskAttemptId: Int!) {\n  createAiAssistantChat(testTaskAttemptId: $testTaskAttemptId) {\n    id\n  }\n}\n    "]);return m=function(){return e},e}var v=(0,g.Ps)(m());var C=function(e){var t,n,s=e.testTaskAttemptId,r=(0,o.$G)([c.WY.aiAssistant]).t,i=(0,d.Z)((n={onError:function(){(0,h.PV)({type:u.oK.error,text:r("".concat(c.WY.aiAssistant,":create_chat_error")),heading:"Whoops!"})}},p.D(v,n)),2),l=i[0],f=i[1],g=f.loading,m=f.data;return(0,a.useEffect)((function(){s&&l({variables:{testTaskAttemptId:s}})}),[s,l]),{isAiAssistantChatLoading:g,aiAssistantChatId:(null===m||void 0===m||null===(t=m.createAiAssistantChat)||void 0===t?void 0:t.id)||null}},x=n(994321),_=n(449613),M=n(269083),w=n(186744),j=n(796631),b=n(546171);function I(){var e=(0,f.Z)(["\n    subscription aiChatMessageProcessed {\n  aiChatMessageProcessed {\n    wasAiMessageProcessed\n  }\n}\n    "]);return I=function(){return e},e}var L=(0,g.Ps)(I());var T=function(){var e,t=(0,j.a)().setIsTyping,n=(0,l.A)().setIsUsedAiAssistant,s=(0,o.$G)([c.WY.aiAssistant]).t;e={skip:!w.isBrowser,onData:function(e){var a=e.data.data,r=null===a||void 0===a?void 0:a.aiChatMessageProcessed;r&&(null===n||void 0===n||n(!0),(null===r||void 0===r?void 0:r.wasAiMessageProcessed)||((0,h.PV)({type:u.oK.error,text:s("".concat(c.WY.aiAssistant,":chat_message_error")),heading:"Whoops!"}),t&&t(!1)),r.wasAiMessageProcessed&&t&&t(!1))}},b.m(L,e)},k=n(567191),y=n(870055),S=n(583575),A=n(223410),Z=n(897367),H=n(906583),B=n(418795),V=n(740697),N=n.n(V),W=function(e){var t=e.aiAssistantChatId,n=(0,a.useState)(null),r=n[0],i=n[1];T();var c=(0,Z.h)().isDisabled(H.A.AiChatFeedback),d=(0,l.A)().selectedTask,u=(null===o.F0||void 0===o.F0?void 0:o.F0.asPath)?(0,B.Z)(o.F0.asPath):"",h=(0,a.useMemo)((function(){return c?null:(0,s.jsx)("div",{className:N().aiFeedback,children:(0,s.jsx)(k.c,{isButtonWithoutText:!0,isStaticPositioned:!0,showComment:!0,regularButtonHover:!0,link:u,feedbackTypeProp:y.lvk.AiAssistant,ratingItemType:y.I1k.TestTaskAiSuggestions,ratingItemId:(null===d||void 0===d?void 0:d.id)||0,relatedChildType:A.H.Chat,relatedChildId:t||0,buttonSize:S.qE.Small})})}),[t,null===d||void 0===d?void 0:d.id,c,u]),f=(0,j.a)().setAiChatFeedback;return h&&(null===f||void 0===f||f(h)),t?(0,s.jsx)(M.z,{chatId:t,threadId:r,setThreadId:i}):null},P=n(183526),R=n.n(P),E=n(819277),O=n(157747),Y=n(789272),q=function(e){var t=e.aiAssistantChatId,n=function(e){var t=e.selectedTask,n=e.aiAssistantChatId,s=(0,d.Z)((0,O.f)({ssr:!0}),1)[0],r=[y.tet.NotStarted,y.tet.NotChecked].includes(null===t||void 0===t?void 0:t.status)?Y.ZXQ.BeforeFirstRun:Y.ZXQ.TestsFail;return(0,a.useCallback)((function(){return E.H.aiAssistant.sendWidgetOpenedEvent({userId:(null===s||void 0===s?void 0:s.id)||0,chatId:n,testTaskId:t.id,testTaskAttemptId:t.testTaskAttemptId||0,flow:t.flow,taskSlug:t.slug,context:r})}),[null===s||void 0===s?void 0:s.id,n,t.id,t.testTaskAttemptId,t.flow,t.slug,r])}({aiAssistantChatId:t,selectedTask:e.selectedTask});return(0,a.useEffect)((function(){n()}),[n]),(0,s.jsx)("div",{className:(0,_.cn)(R().structureWrapper),children:(0,s.jsx)(j.p,{children:(0,s.jsx)(W,{aiAssistantChatId:t})})})},F=a.memo((function(){var e=(0,l.A)().selectedTask,t=null===e||void 0===e?void 0:e.testTaskAttemptId,n=C({testTaskAttemptId:t}).aiAssistantChatId;return n&&e?(0,s.jsx)(q,{aiAssistantChatId:n,selectedTask:e}):(0,s.jsx)(x.w,{text:"Loading..."})})),z=function(){var e=(0,r.id)().addInTabComponent,t=(0,o.$G)([c.WY.aiAssistant]).t;return(0,a.useCallback)((function(){e({id:i.d.AIBuddy,title:t("".concat(c.WY.aiAssistant,":ai_buddy")),dataQa:"ai-assistant-tab",content:(0,s.jsx)(F,{}),shouldRenderCloseTab:!0})}),[e,t])}},320083:function(e,t,n){"use strict";n.d(t,{d:function(){return d},y:function(){return u}});var s=n(626042),a=n(269396),r=n(785893),i=n(667294),o=n(870055),c=n(259511),l=(0,i.createContext)({isAiAssistantEnabled:!0,isTaskComplexityEnabled:!1,backButtonUrl:"",isLeftSidebarCollapsedInitial:!1,shouldItemBeSelectedOnMobileInitially:!1,testTaskType:o.szx.TopicTasks}),d=function(){return(0,i.useContext)(l)},u=function(e){var t=e.config,n=e.children,o=(0,c.no)(c.J6.study.autoRedirect),d=(0,i.useMemo)((function(){return t.backButtonUrl?t:(0,a.Z)((0,s.Z)({},t),{backButtonUrl:o})}),[t,o]);return(0,r.jsx)(l.Provider,{value:d,children:n})}},609582:function(e,t,n){"use strict";n.d(t,{Bp:function(){return i},JE:function(){return r},sl:function(){return a}});var s=n(840117),a=function(e){var t;return(null===document||void 0===document||null===(t=document.body)||void 0===t?void 0:t.clientWidth)?Math.round(document.body.clientWidth*(.01*parseInt(e,10))):s.kv},r=function(e){return e?s.i4:a(s.es)||s.Xi},i=function(e){return e?s.i4:a(s.oo)||s.St}},521282:function(e,t,n){"use strict";n.d(t,{F:function(){return c},J:function(){return l}});var s=n(999534),a=n(785893),r=n(667294),i=n(586347),o=(0,r.createContext)({showSimplifiedChatHeader:!1,closeChat:i.Bi}),c=function(e){var t=e.children,n=(0,s.Z)(e,["children"]);return(0,a.jsx)(o.Provider,{value:n,children:t})},l=function(){return(0,r.useContext)(o)}},828005:function(e,t,n){"use strict";n.d(t,{O:function(){return s}});var s=50},567191:function(e,t,n){"use strict";n.d(t,{c:function(){return S}});var s=n(147568),a=n(414924),r=n(626042),i=n(10253),o=n(197582),c=n(785893),l=n(667294),d=n(449613),u=n(583575),h=n(584097),f=n(430155),g=n(823601),p=n(870055),m=n(157747),v=n(534145),C=n(360014),x=n(413528),_=n(269396),M=n(94923),w=function(e){return(0,c.jsxs)(M.s,(0,_.Z)((0,r.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:[(0,c.jsxs)("g",{clipPath:"url(#clip0_19854_141255)",children:[(0,c.jsx)("path",{d:"M20.6364 18.8585H16.2728L16.8884 21.3361C16.9844 21.7224 16.9485 22.1308 16.7867 22.4933C16.6248 22.8558 16.3467 23.1507 15.9987 23.3289L14.7618 23.9632C14.6889 24.0005 14.6054 24.0098 14.5263 23.9895C14.4472 23.9691 14.3779 23.9204 14.3309 23.8521L10.613 18.4554C10.55 18.3641 10.4665 18.2896 10.3696 18.2382C10.2727 18.1867 10.1651 18.1599 10.0559 18.16H7.68184C7.50101 18.16 7.32759 18.0864 7.19972 17.9554C7.07186 17.8244 7.00002 17.6467 7.00002 17.4614V15.3659H8.36366V16.7629H9.7273V15.3659H11.0909L11.0909 17.0507C11.3384 17.2002 11.5566 17.4028 11.7271 17.65L14.9384 22.3105L15.3891 22.08C15.4588 22.0443 15.5144 21.9853 15.5468 21.9128C15.5792 21.8402 15.5863 21.7585 15.5671 21.6812L14.9514 19.2028C14.9002 18.9966 14.8957 18.7812 14.9381 18.5729C14.9806 18.3646 15.0689 18.169 15.1963 18.0011C15.3238 17.8331 15.487 17.6971 15.6736 17.6036C15.8601 17.5101 16.0651 17.4615 16.2728 17.4614H20.6364V15.9918L18.7 11.1748H17.2273L17.9091 9.7778H19.1568C19.2919 9.77794 19.4239 9.81917 19.5361 9.89628C19.6482 9.97338 19.7355 10.0829 19.7868 10.2109L21.8978 15.4595C21.9655 15.6284 22.0002 15.8092 22 15.9918V17.4614C22 17.832 21.8564 18.1873 21.6006 18.4493C21.3449 18.7113 20.998 18.8585 20.6364 18.8585Z",fill:"currentColor"}),(0,c.jsx)("path",{d:"M11.2728 5.14203H15.6364C15.998 5.14203 16.3449 5.28921 16.6006 5.55119C16.8564 5.81317 17 6.16849 17 6.53898V8.00858C17.0002 8.19114 16.9655 8.37196 16.8978 8.54082L14.7875 13.7899C14.736 13.9179 14.6486 14.0273 14.5363 14.1043C14.424 14.1812 14.292 14.2223 14.1568 14.2222H2.68184C2.50101 14.2222 2.32759 14.1487 2.19972 14.0177C2.07186 13.8867 2.00002 13.709 2.00002 13.5238V6.53898C2.00002 6.35374 2.07186 6.17608 2.19972 6.04509C2.32759 5.9141 2.50101 5.84051 2.68184 5.84051H5.05593C5.16509 5.84053 5.27266 5.81371 5.36959 5.7623C5.46653 5.71089 5.55 5.63638 5.61298 5.54505L9.33093 0.147907C9.37793 0.0796745 9.44724 0.030954 9.5263 0.0105792C9.60535 -0.00979563 9.68892 -0.000475839 9.76184 0.0368487L10.9987 0.670369C11.3467 0.848594 11.6248 1.14346 11.7867 1.50597C11.9485 1.86848 11.9844 2.27681 11.8884 2.66313L11.2728 5.14203ZM6.09093 6.94969V12.8253H13.7L15.6364 8.00858V6.53898H11.2728C11.0651 6.53895 10.8601 6.49033 10.6736 6.39681C10.487 6.3033 10.3238 6.16737 10.1963 5.9994C10.0689 5.83143 9.98056 5.63585 9.9381 5.42758C9.89565 5.21932 9.90019 5.00387 9.95139 4.79768L10.5671 2.31948C10.5863 2.24217 10.5792 2.16044 10.5468 2.08788C10.5144 2.01532 10.4588 1.9563 10.3891 1.92064L9.93843 1.69015L6.72707 6.35039C6.55661 6.59766 6.33843 6.80021 6.09093 6.94969ZM4.7273 7.23746H3.36366V12.8253H4.7273V7.23746Z",fill:"currentColor"}),(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.8978 15.4595C21.9655 15.6284 22.0002 15.8092 22 15.9918V17.4614C22 17.832 21.8564 18.1873 21.6006 18.4493C21.3449 18.7113 20.998 18.8585 20.6364 18.8585H16.2728L16.8884 21.3361C16.9844 21.7224 16.9485 22.1308 16.7867 22.4933C16.6248 22.8558 16.3467 23.1507 15.9987 23.3289L14.7618 23.9632C14.6889 24.0005 14.6054 24.0098 14.5263 23.9895C14.4472 23.9691 14.3779 23.9204 14.3309 23.8521L10.613 18.4554C10.55 18.3641 10.4665 18.2896 10.3696 18.2382C10.2727 18.1867 10.1651 18.1599 10.0559 18.16H7.68184C7.50101 18.16 7.32759 18.0864 7.19972 17.9554C7.07186 17.8244 7.00002 17.6467 7.00002 17.4614V15.3659H8.36366V16.7629H9.7273V15.3659H11.0909L11.0909 17.0507C11.3384 17.2002 11.5566 17.4028 11.7271 17.65L14.9384 22.3105L15.3891 22.08C15.4588 22.0443 15.5144 21.9853 15.5468 21.9128C15.5792 21.8402 15.5863 21.7585 15.5671 21.6812L14.9514 19.2028C14.9002 18.9966 14.8957 18.7812 14.9381 18.5729C14.9806 18.3646 15.0689 18.169 15.1963 18.0011C15.3238 17.8331 15.487 17.6971 15.6736 17.6036C15.8601 17.5101 16.0651 17.4615 16.2728 17.4614H20.6364V15.9918L18.7 11.1748H17.2273L17.9091 9.7778H19.1568C19.2919 9.77794 19.4239 9.81917 19.5361 9.89628C19.6482 9.97338 19.7355 10.0829 19.7868 10.2109L21.8978 15.4595ZM19.8797 10.1737L21.9905 15.4222C22.063 15.603 22.1002 15.7966 22.1 15.9919M19.8797 10.1737C19.8211 10.0276 19.7214 9.9023 19.5927 9.81387C19.4641 9.72542 19.3124 9.67796 19.1569 9.6778H17.8466L17.0672 11.2748H18.6324L20.5364 16.0111V17.3614H16.2728C16.0494 17.3615 15.8292 17.4138 15.6288 17.5142C15.4284 17.6147 15.2533 17.7606 15.1167 17.9406C14.9801 18.1206 14.8855 18.3301 14.8401 18.5529C14.7947 18.7758 14.7996 19.0063 14.8543 19.2269L15.47 21.7053C15.4839 21.761 15.4787 21.8199 15.4555 21.872C15.4323 21.9241 15.3926 21.9659 15.3436 21.991C15.3436 21.991 15.3436 21.991 15.3436 21.991L14.971 22.1815L11.8094 17.5933C11.642 17.3504 11.4305 17.1486 11.1909 16.9952L11.1909 15.2659H9.6273V16.6629H8.46366V15.2659H6.90002V17.4614C6.90002 17.6725 6.98182 17.8753 7.12816 18.0252C7.27459 18.1752 7.4737 18.26 7.68184 18.26H10.0559C10.1487 18.2599 10.2402 18.2827 10.3227 18.3265C10.4053 18.3703 10.4767 18.4339 10.5307 18.5122L14.2486 23.9089C14.309 23.9966 14.3986 24.0598 14.5013 24.0863C14.6042 24.1128 14.7128 24.1006 14.8074 24.0522L16.0442 23.418C16.0442 23.418 16.0443 23.4179 16.0442 23.418C16.4129 23.2292 16.707 22.9171 16.878 22.5341C17.049 22.1511 17.0869 21.7199 16.9855 21.312L16.4006 18.9585H20.6364C21.0254 18.9585 21.3979 18.8001 21.6722 18.5191C21.9464 18.2382 22.1 17.8577 22.1 17.4614V15.9919M5.05593 5.84051C5.16509 5.84053 5.27266 5.81371 5.36959 5.7623C5.46653 5.71089 5.55 5.63638 5.61298 5.54505L9.33093 0.147907C9.37793 0.0796745 9.44724 0.030954 9.5263 0.0105792C9.60535 -0.00979563 9.68892 -0.000475839 9.76184 0.0368487L10.9987 0.670369C11.3467 0.848594 11.6248 1.14346 11.7867 1.50597C11.9485 1.86848 11.9844 2.27681 11.8884 2.66313L11.2728 5.14203H15.6364C15.998 5.14203 16.3449 5.28921 16.6006 5.55119C16.8564 5.81317 17 6.16849 17 6.53898V8.00858C17.0002 8.19114 16.9655 8.37196 16.8978 8.54082L14.7875 13.7899C14.736 13.9179 14.6486 14.0273 14.5363 14.1043C14.424 14.1812 14.292 14.2223 14.1568 14.2222H2.68184C2.50101 14.2222 2.32759 14.1487 2.19972 14.0177C2.07186 13.8867 2.00002 13.709 2.00002 13.5238V6.53898C2.00002 6.35374 2.07186 6.17608 2.19972 6.04509C2.32759 5.9141 2.50101 5.84051 2.68184 5.84051H5.05593ZM14.1568 14.3222H2.68184C2.4737 14.3222 2.27459 14.2375 2.12817 14.0875C1.98182 13.9376 1.90002 13.7348 1.90002 13.5238V6.53898C1.90002 6.32798 1.98182 6.12515 2.12817 5.97523C2.27459 5.82523 2.4737 5.74051 2.68184 5.74051H5.05593C5.14865 5.74053 5.24016 5.71775 5.32274 5.67396C5.40531 5.63016 5.47666 5.56657 5.53063 5.48832C5.53062 5.48833 5.53064 5.48831 5.53063 5.48832L9.24858 0.0911798C9.30903 0.00342253 9.39857 -0.0597684 9.50134 -0.0862564C9.60416 -0.112755 9.7128 -0.100589 9.8074 -0.0521686L11.0442 0.581359C11.4129 0.770149 11.707 1.08221 11.878 1.4652C12.049 1.84815 12.0869 2.27932 11.9855 2.68723C11.9855 2.68723 11.9855 2.68724 11.9855 2.68723L11.4006 5.04203H15.6364C16.0254 5.04203 16.3979 5.20034 16.6722 5.48133C16.9464 5.76224 17.1 6.14274 17.1 6.53898V8.00848M14.1568 14.3222C14.1568 14.3222 14.1568 14.3222 14.1568 14.3222V14.3222ZM6.72707 6.35039C6.55661 6.59766 6.33843 6.80021 6.09093 6.94969V12.8253H13.7L15.6364 8.00858V6.53898H11.2728C11.0651 6.53895 10.8601 6.49033 10.6736 6.39681C10.487 6.3033 10.3238 6.16737 10.1963 5.9994C10.0689 5.83143 9.98056 5.63585 9.9381 5.42758C9.89565 5.21932 9.90019 5.00387 9.95139 4.79768L10.5671 2.31948C10.5863 2.24217 10.5792 2.16044 10.5468 2.08788C10.5144 2.01532 10.4588 1.9563 10.3891 1.92064L9.93843 1.69015L6.72707 6.35039ZM9.971 1.81912L6.80941 6.40714C6.64196 6.65005 6.43049 6.85186 6.19093 7.00525V12.7253H13.6324L15.5364 7.98924V6.63898H11.2727C11.0494 6.63895 10.8292 6.58666 10.6288 6.48621C10.4284 6.38577 10.2533 6.23988 10.1167 6.05985C9.98008 5.87983 9.88554 5.67039 9.84012 5.44756C9.79469 5.22472 9.79955 4.99422 9.85433 4.77358L10.47 2.29537C10.4839 2.23967 10.4787 2.18073 10.4555 2.12863C10.4323 2.07656 10.3926 2.03475 10.3436 2.00966L9.971 1.81912ZM3.36366 7.23746H4.7273V12.8253H3.36366V7.23746ZM3.46366 12.7253H4.6273V7.33746H3.46366V12.7253Z",fill:"currentColor"})]}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"clip0_19854_141255",children:(0,c.jsx)("rect",{width:"24",height:"24",fill:"white"})})})]}))},j=n(819277),b=n(819881),I=n(645832),L=n(982866),T=n(650769),k=n(694034),y=n.n(k),S=(0,l.memo)((function(e){var t,n=e.ratingItemId,_=e.ratingItemType,M=e.isStaticPositioned,k=e.withoutBackground,S=e.relatedChildId,A=e.relatedChildType,Z=e.relatedChildTitle,H=e.workspace,B=void 0===H?p.VE$.Lms:H,V=e.link,N=e.relatedParentId,W=e.relatedParentType,P=e.relatedRootId,R=e.relatedRootType,E=e.isButtonWithoutText,O=void 0!==E&&E,Y=e.buttonSize,q=void 0===Y?u.qE.Small:Y,F=e.feedbackTypeProp,z=e.showComment,$=e.regularButtonHover,D=e.buttonProps,Q=(0,v.ZW)().showMessage,U=(0,i.Z)((0,I.I)(),2),G=U[0],J=U[1].loading,K=(0,i.Z)((0,m.f)({ssr:!0}),1)[0],X=(0,l.useState)(!1),ee=X[0],te=X[1],ne=(0,i.Z)((0,l.useState)(null!==z&&void 0!==z&&z),2),se=ne[0],ae=ne[1],re=(0,h.$G)([f.WY.likeRating]).t,ie=(0,b.xZ)().parentCourseSlug,oe=void 0===ie?"":ie,ce=(0,T.I)(),le=(0,l.useCallback)((function(){j.H.reportProblem.sendProblemReportEvent({courseSlug:oe})}),[oe]),de=(0,l.useCallback)(function(){var e=(0,s.Z)((function(e,t){var s;return(0,o.__generator)(this,(function(a){switch(a.label){case 0:s=e,V&&(s="".concat(e," \n[LINK]: ").concat(V)),a.label=1;case 1:return a.trys.push([1,4,,5]),e?[4,G({variables:{userId:K.id,rating:0,relatedId:n,relatedType:_,comment:s,relatedChildId:S,relatedChildType:A,relatedChildTitle:Z,workspace:B,relatedParentId:N,relatedParentType:W,relatedRootId:P,relatedRootType:R,feedbackType:t}})]:[3,3];case 2:a.sent(),le(),Q({text:re("".concat(f.WY.likeRating,":report_successfully_submitted_body")),type:"success"}),a.label=3;case 3:return[3,5];case 4:return a.sent(),Q({text:re("".concat(f.WY.likeRating,":error_during_submitting_report")),type:"error"}),[3,5];case 5:return te(!1),[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),[V,G,K,n,_,S,A,Z,B,N,W,P,R,le,Q,re]),ue=(0,l.useCallback)((function(){te(!1),z||ae(!1)}),[z]),he=(0,l.useCallback)((function(){ae(!0)}),[]),fe=(0,l.useCallback)(function(){var e=(0,s.Z)((function(e){return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return[4,de(e.comment,F||e.feedbackType)];case 1:return t.sent(),ue(),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[ue,de,F]),ge=(0,l.useCallback)((function(){return(0,c.jsx)("div",{className:C.c.platformH2,children:re("".concat(f.WY.likeRating,":report_problem_modal_title"))})}),[re]),pe=(0,l.useCallback)((function(){return te(!0)}),[te]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(g.u_,{isOpen:ee,onRequestClose:ue,type:g.$T.System,renderTitle:ge,children:[(0,c.jsx)("p",{className:(0,d.cn)(C.c.platformTextMain,"pb-16"),children:re("".concat(f.WY.likeRating,se?":report_problem_comment_text":":report_problem_modal_text"))}),(0,c.jsx)(x.M,{loading:J,shouldShowComment:se,openComment:he,submitCallback:fe,isModalOpen:ee})]}),(0,c.jsx)(L.eE,{text:re("".concat(f.WY.likeRating,":report_problem")),renderWithPortal:!0,widthMode:L.X3.Max,isVisible:!ce,children:(0,c.jsx)(u.zx,(0,r.Z)({dataQa:"report-problem-button",onClick:pe,mode:u.qo.TransparentLight,size:q,text:O?void 0:re("".concat(f.WY.likeRating,":report_problem")),LeftIcon:w,className:(0,d.cn)(y().reportProblem,(t={},(0,a.Z)(t,y().staticPositioned,M),(0,a.Z)(t,y().withoutBackground,k),(0,a.Z)(t,y().regularButtonHover,$),t))},D))})]})}))},907408:function(e,t,n){"use strict";n.d(t,{Lx:function(){return u},id:function(){return d}});var s=n(629815),a=n(785893),r=n(667294),i=n(586347),o=n(924373),c=n(689681),l=(0,r.createContext)({inTabComponents:[],addInTabComponent:i.Bi,removeInTabComponent:i.Bi,cleanInTabComponents:i.Bi,setTabItemsCount:i.Bi,tabItemsCount:0}),d=function(){return(0,r.useContext)(l)},u=(0,r.memo)((function(e){var t=e.children,n=(0,o.F)().openRightSidebar,i=(0,r.useState)([]),d=i[0],u=i[1],h=(0,r.useState)(0),f=h[0],g=h[1],p=(0,r.useCallback)((function(e){g(e)}),[]),m=(0,r.useCallback)((function(){u([])}),[]),v=(0,r.useCallback)((function(e){u((function(t){return t.filter((function(t){return t.id!==e}))}))}),[]),C=(0,r.useCallback)((function(e){n(),u((function(t){return t.some((function(t){return t.id===e.id}))?t:(0,s.Z)(t).concat([e])})),(0,c.fx)(e.id)}),[n]),x=(0,r.useMemo)((function(){return{inTabComponents:d,addInTabComponent:C,removeInTabComponent:v,cleanInTabComponents:m,tabItemsCount:f,setTabItemsCount:p}}),[d,C,v,m,f,p]);return(0,a.jsx)(l.Provider,{value:x,children:t})}))},183618:function(e,t,n){"use strict";n.d(t,{T:function(){return l},a:function(){return d}});var s=n(999534),a=n(785893),r=n(667294),i=n(437497),o=n(586347),c=(0,r.createContext)({callbacks:{setActiveFile:o.HT},activeFilePath:"",codeLoading:!1,resultsLoading:!1,taskData:i.Dj,testTasksState:{},hasCodeChecked:!1,setHasCodeChecked:o.Bi,hasAsyncTests:!1}),l=function(e){var t=e.children,n=(0,s.Z)(e,["children"]);return(0,a.jsx)(c.Provider,{value:n,children:t})},d=function(){return(0,r.useContext)(c)}},796424:function(e,t,n){"use strict";var s,a;n.d(t,{X:function(){return a},d:function(){return s}}),function(e){e.Results="results-tab",e.Browser="browser-tab",e.CodeErrors="code-errors-tab",e.AIBuddy="ai-buddy-tab",e.MentorSolution="mentor_solution"}(s||(s={})),function(e){e.CodeFilesResults="code-files-results-tab",e.ReferenceFileResults="ref-files-results-tab"}(a||(a={}))},689681:function(e,t,n){"use strict";n.d(t,{bM:function(){return o},fx:function(){return c}});var s,a=n(667294),r=n(586347),i="result-block-tabs";!function(e){e.ActiveTabChanged="activeTabChanged"}(s||(s={}));var o=function(e){var t=e.setActiveTab;(0,a.useEffect)((function(){if("undefined"===typeof BroadcastChannel)return r.Bi;var e=new BroadcastChannel(i),n=function(e){if(e.data.type===s.ActiveTabChanged)t(e.data.tabName)};return e.addEventListener("message",n),function(){e.removeEventListener("message",n),e.close()}}),[t])},c=function(e,t){if("undefined"!==typeof BroadcastChannel){var n=new BroadcastChannel(i);n.postMessage({type:s.ActiveTabChanged,tabName:e,attemptId:t}),n.close()}}},681885:function(e,t,n){"use strict";n.d(t,{u:function(){return p}});var s=n(414924),a=n(626042),r=n(785893),i=n(667294),o=n(546312),c=n(17862),l=n(840117),d=n(408640),u=n.n(d),h=n(666229),f=n(128781),g=n(586347),p=function(e){var t,n=e.children,d=e.layoutChangesEmitter,p=e.width,m=e.setWidth,v=e.resizableInstance,C=e.isFullScreen,x=e.minWidth,_=e.maxWidth,M=e.isSmoothResize,w=void 0!==M&&M,j=e.onResizeStop,b=void 0===j?g.Bi:j,I=e.isResizeDisabled,L=void 0!==I&&I,T=e.className,k=(0,f.x)(),y=(0,i.useMemo)((function(){return C?l.Am:k?l.O_:_}),[C,k,_]),S=(0,i.useMemo)((function(){return L||C?{top:!1,right:!1,bottom:!1,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1}:{left:!0}}),[L,C]);return(0,r.jsx)(o.e,{ref:v,size:{width:p,height:k?0:l.wU},style:(0,a.Z)({flexGrow:C?1:0},k&&{overflow:"hidden"}),className:(0,h.cn)((t={},(0,s.Z)(t,u().smoothResize,w),(0,s.Z)(t,"classNameProps",T),t)),minWidth:k?0:x,maxWidth:y,enable:S,handleComponent:{left:(0,r.jsx)(c.E,{})},handleStyles:{left:{left:0}},onResize:function(e,t,n){m("".concat(n.clientWidth,"px")),null===d||void 0===d||d.notify({type:l.Cb.Resize})},onResizeStop:b,children:n})}},777923:function(e,t,n){"use strict";n.d(t,{R:function(){return u}});var s=n(626042),a=n(269396),r=n(999534),i=n(785893),o=n(667294),c=n(666229),l=n(733281),d=n.n(l),u=o.forwardRef((function(e,t){var n=e.className,o=e.children,l=(0,r.Z)(e,["className","children"]);return(0,i.jsx)("div",(0,a.Z)((0,s.Z)({ref:t,className:(0,c.cn)(d().container,n)},l),{"data-qa":e.dataQa,children:o}))}))},187720:function(e,t,n){"use strict";n.d(t,{L:function(){return p}});var s,a=n(414924),r=n(749294),i=n(893134),o=n(795538),c=n(626042),l=n(269396),d=n(785893),u=n(94923),h=function(e){return(0,d.jsx)(u.s,(0,l.Z)((0,c.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,d.jsx)("path",{xmlns:"http://www.w3.org/2000/svg",d:"M12.6238 13.9425C12.2762 14.1005 11.8954 14.3064 11.1329 14.7204C10.8438 14.8813 10.5418 15.0421 10.2606 15.1937C10.2411 15.1744 10.2209 15.1501 10.2014 15.1301C8.69309 13.5357 5.90348 12.4096 6.022 10.2682C6.06608 9.48813 6.3371 7.44041 11.3794 4.95368C15.5291 2.93027 18.8311 3.49082 19.4013 4.73418C20.2208 6.50663 17.6314 9.80487 13.3458 10.2832C12.8715 10.3784 12.3816 10.3669 11.9124 10.2496C11.4432 10.1322 11.0066 9.91209 10.635 9.60539C10.4081 9.36158 10.3741 9.34728 10.2903 9.3959C10.1522 9.46739 10.2411 9.68832 10.2903 9.81488C10.4537 10.1077 10.6749 10.3651 10.9407 10.5719C11.2064 10.7787 11.5114 10.9307 11.8376 11.0189C13.524 11.3796 15.2824 11.2072 16.8646 10.5263C19.462 9.53174 21.4899 6.76689 20.8959 4.4489C20.2996 2.09874 16.3566 1.32369 12.626 2.63498C10.2897 3.41388 8.13122 4.64002 6.2735 6.24352C4.21814 8.14538 3.89293 9.79843 4.02591 10.4905C4.50433 12.9479 7.92848 14.5474 9.3016 15.7321C9.22933 15.7714 9.16863 15.8036 9.11442 15.8344C8.42931 16.1711 5.81748 17.5217 5.16632 18.9503C4.427 20.569 5.28485 21.7294 5.85144 21.8853C6.7053 22.0876 7.60172 22.0211 8.41551 21.695C9.22931 21.3689 9.91985 20.7995 10.3907 20.0664C10.7906 19.4584 11.0361 18.7639 11.1064 18.0419C11.1768 17.3199 11.0698 16.5918 10.7947 15.9194C10.957 15.7913 11.1301 15.6772 11.3122 15.5784C11.6619 15.3739 11.9951 15.1723 12.2907 15.0164C13.3027 14.5474 14.4072 14.3059 15.5248 14.3093C17.8706 14.5824 18.3339 16.0303 18.245 16.6401C18.2034 16.8565 18.1155 17.0616 17.9871 17.2415C17.8587 17.4215 17.6928 17.5721 17.5006 17.6833C17.338 17.7856 17.2838 17.8199 17.2983 17.8928C17.3178 18 17.3965 17.995 17.5346 17.9757C17.887 17.8655 18.1976 17.6524 18.4253 17.3644C18.6531 17.0764 18.7875 16.727 18.8109 16.362C18.8831 14.932 17.505 13.3634 15.0651 13.3777C14.3346 13.3789 13.6113 13.5215 12.9361 13.7974C12.8276 13.8417 12.7224 13.8893 12.6202 13.9404L12.6238 13.9425ZM9.13683 19.5473C8.35776 20.386 7.27371 20.7027 6.8054 20.4346C6.29952 20.1486 6.4997 18.9081 7.45583 18.0208C8.02211 17.516 8.63417 17.0639 9.28426 16.6702C9.39772 16.5987 9.56539 16.5043 9.76702 16.3842L9.82122 16.3549L9.93975 16.2834C10.1103 16.849 10.1258 17.4493 9.9847 18.0228C9.84362 18.5963 9.55101 19.1224 9.13683 19.5473Z",fill:"currentColor"})}))},f=function(e){return(0,d.jsx)(u.s,(0,l.Z)((0,c.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,d.jsx)("path",{xmlns:"http://www.w3.org/2000/svg",d:"M7 17H17V14.5L20.5 18L17 21.5V19H7V21.5L3.5 18L7 14.5V17ZM13 6V15H11V6H5V4H19V6H13Z",fill:"currentColor"})}))},g=(s={},(0,a.Z)(s,i.ml.JS,(function(e){return(0,d.jsxs)(u.s,(0,l.Z)((0,c.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:[(0,d.jsx)("path",{d:"M10 10V15C10 15.5523 9.55228 16 9 16H8V18H9C10.6569 18 12 16.6569 12 15V10H10Z",fill:"currentColor"}),(0,d.jsx)("path",{d:"M15.5 10C14.1193 10 13 11.1193 13 12.5C13 13.8807 14.1193 15 15.5 15C15.7761 15 16 15.2239 16 15.5C16 15.7761 15.7761 16 15.5 16H13.5V18H15.5C16.8807 18 18 16.8807 18 15.5C18 14.1193 16.8807 13 15.5 13C15.2239 13 15 12.7761 15 12.5C15 12.2239 15.2239 12 15.5 12H17.5V10H15.5Z",fill:"currentColor"}),(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 3H4C3.73478 3 3.48043 3.10536 3.29289 3.29289C3.10536 3.48043 3 3.73478 3 4V20C3 20.2652 3.10536 20.5196 3.29289 20.7071C3.48043 20.8946 3.73478 21 4 21H20C20.2652 21 20.5196 20.8946 20.7071 20.7071C20.8946 20.5196 21 20.2652 21 20V4C21 3.73478 20.8946 3.48043 20.7071 3.29289C20.5196 3.10536 20.2652 3 20 3ZM5 19V5H19V19H5Z",fill:"currentColor"})]}))})),(0,a.Z)(s,i.ml.TS,(function(e){return(0,d.jsxs)(u.s,(0,l.Z)((0,c.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:[(0,d.jsx)("path",{d:"M7.35913 12H8.85913V18H10.8591V12H12.3591V10H7.35913V12Z",fill:"currentColor"}),(0,d.jsx)("path",{d:"M15.8591 10C14.4784 10 13.3591 11.1193 13.3591 12.5C13.3591 13.8807 14.4784 15 15.8591 15C16.1353 15 16.3591 15.2239 16.3591 15.5C16.3591 15.7761 16.1353 16 15.8591 16H13.8591V18H15.8591C17.2398 18 18.3591 16.8807 18.3591 15.5C18.3591 14.1193 17.2398 13 15.8591 13C15.583 13 15.3591 12.7761 15.3591 12.5C15.3591 12.2239 15.583 12 15.8591 12H17.8591V10H15.8591Z",fill:"currentColor"}),(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.3591 3H4.35913C4.09391 3 3.83956 3.10536 3.65202 3.29289C3.46449 3.48043 3.35913 3.73478 3.35913 4V20C3.35913 20.2652 3.46449 20.5196 3.65202 20.7071C3.83956 20.8946 4.09391 21 4.35913 21H20.3591C20.6243 21 20.8787 20.8946 21.0662 20.7071C21.2538 20.5196 21.3591 20.2652 21.3591 20V4C21.3591 3.73478 21.2538 3.48043 21.0662 3.29289C20.8787 3.10536 20.6243 3 20.3591 3ZM5.35913 19V5H19.3591V19H5.35913Z",fill:"currentColor"})]}))})),(0,a.Z)(s,i.ml.PYTHON,(function(e){return(0,d.jsx)(u.s,(0,l.Z)((0,c.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,d.jsx)("path",{xmlns:"http://www.w3.org/2000/svg",d:"M16.5 6V6.5H17H20C20.8284 6.5 21.5 7.17157 21.5 8V14C21.5 14.8284 20.8284 15.5 20 15.5H12.5V14.5H20H20.5V14V8V7.5H20H17H16.5V8V11C16.5 11.8284 15.8284 12.5 15 12.5H9H8.5V13V20V20.5H9H15H15.5V20V16.5909H16.5V20C16.5 20.8284 15.8284 21.5 15 21.5H9C8.17157 21.5 7.5 20.8284 7.5 20V18V17.5H7H4C3.17157 17.5 2.5 16.8284 2.5 16V10C2.5 9.17157 3.17157 8.5 4 8.5H11.5V9.5H4H3.5V10V16V16.5H4H7H7.5V16V13C7.5 12.1716 8.17157 11.5 9 11.5H15H15.5V11V4V3.5H15L9 3.5H8.5V4V7.40909H7.5V4C7.5 3.17157 8.17157 2.5 9 2.5H15C15.8284 2.5 16.5 3.17157 16.5 4V6ZM10.5 6C10.5 5.72386 10.7239 5.5 11 5.5C11.2761 5.5 11.5 5.72386 11.5 6C11.5 6.27614 11.2761 6.5 11 6.5C10.7239 6.5 10.5 6.27614 10.5 6ZM12.5 18C12.5 17.7239 12.7239 17.5 13 17.5C13.2761 17.5 13.5 17.7239 13.5 18C13.5 18.2761 13.2761 18.5 13 18.5C12.7239 18.5 12.5 18.2761 12.5 18Z",fill:"currentColor",stroke:"currentColor"})}))})),(0,a.Z)(s,i.ml.JSON,(function(e){return(0,d.jsx)(u.s,(0,l.Z)((0,c.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,d.jsx)("path",{xmlns:"http://www.w3.org/2000/svg",d:"M5 18V14.3C5 13.9022 4.84196 13.5206 4.56066 13.2393C4.27936 12.958 3.89782 12.8 3.5 12.8H3V11.2H3.5C3.69698 11.2 3.89204 11.1612 4.07403 11.0858C4.25601 11.0104 4.42137 10.8999 4.56066 10.7607C4.69995 10.6214 4.81044 10.456 4.88582 10.274C4.9612 10.092 5 9.89698 5 9.7V6C5 5.20435 5.31607 4.44129 5.87868 3.87868C6.44129 3.31607 7.20435 3 8 3H9V5H8C7.73478 5 7.48043 5.10536 7.29289 5.29289C7.10536 5.48043 7 5.73478 7 6V10.1C7.0001 10.521 6.86735 10.9313 6.62064 11.2725C6.37393 11.6136 6.02586 11.8682 5.626 12C6.02586 12.1318 6.37393 12.3864 6.62064 12.7275C6.86735 13.0687 7.0001 13.479 7 13.9V18C7 18.2652 7.10536 18.5196 7.29289 18.7071C7.48043 18.8946 7.73478 19 8 19H9V21H8C7.20435 21 6.44129 20.6839 5.87868 20.1213C5.31607 19.5587 5 18.7956 5 18ZM19 14.3V18C19 18.7956 18.6839 19.5587 18.1213 20.1213C17.5587 20.6839 16.7956 21 16 21H15V19H16C16.2652 19 16.5196 18.8946 16.7071 18.7071C16.8946 18.5196 17 18.2652 17 18V13.9C16.9999 13.479 17.1327 13.0687 17.3794 12.7275C17.6261 12.3864 17.9741 12.1318 18.374 12C17.9741 11.8682 17.6261 11.6136 17.3794 11.2725C17.1327 10.9313 16.9999 10.521 17 10.1V6C17 5.73478 16.8946 5.48043 16.7071 5.29289C16.5196 5.10536 16.2652 5 16 5H15V3H16C16.7956 3 17.5587 3.31607 18.1213 3.87868C18.6839 4.44129 19 5.20435 19 6V9.7C19 10.0978 19.158 10.4794 19.4393 10.7607C19.7206 11.042 20.1022 11.2 20.5 11.2H21V12.8H20.5C20.1022 12.8 19.7206 12.958 19.4393 13.2393C19.158 13.5206 19 13.9022 19 14.3Z",fill:"currentColor"})}))})),(0,a.Z)(s,i.ml.CSS,(function(e){return(0,d.jsx)(u.s,(0,l.Z)((0,c.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,d.jsx)("path",{xmlns:"http://www.w3.org/2000/svg",d:"M4 3H21L20.0722 19.1712L12.5013 22L4.92862 19.1712L4 3ZM5.7905 4.6838L6.55266 17.9791L12.5013 20.2017L18.4482 17.9791L19.2095 4.6838H5.7905ZM6.99289 6.3676H17.8483L17.757 7.95627L11.5971 10.8945H17.588L17.2466 16.8585L12.4996 18.6324L7.75252 16.8585L7.6562 15.1798V15.1764L7.59282 14.0062H9.29122L9.34361 15.0872L9.3774 15.6681L12.4996 16.8333L15.6226 15.6664L15.8 12.5766H7.50579L7.41622 11.0208L13.6445 8.0514H12.4996L7.21428 8.0615L6.99289 6.3676Z",fill:"currentColor"})}))})),(0,a.Z)(s,i.ml.HTML,o._),(0,a.Z)(s,i.ml.JAVA,(function(e){return(0,d.jsx)(u.s,(0,l.Z)((0,c.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,d.jsx)("path",{xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",d:"M12.0111 6H10.0092V2H12.0111V6ZM8.00737 6V4H6.00552V6H8.00737ZM16.0148 9V17C16.0148 17.5304 15.8039 18.0391 15.4285 18.4142C15.053 18.7893 14.5439 19 14.0129 19H8.00737C7.47645 19 6.96727 18.7893 6.59185 18.4142C6.21643 18.0391 6.00552 17.5304 6.00552 17V9H16.0148ZM20.0185 7H5.00459C4.73913 7 4.48454 7.10536 4.29683 7.29289C4.10912 7.48043 4.00366 7.73478 4.00366 8V17C4.00366 18.0609 4.42548 19.0783 5.17632 19.8284C5.92716 20.5786 6.94552 21 8.00737 21H14.0129C15.0748 21 16.0932 20.5786 16.844 19.8284C17.5948 19.0783 18.0167 18.0609 18.0167 17V14H20.0185C20.5494 14 21.0586 13.7893 21.434 13.4142C21.8095 13.0391 22.0204 12.5304 22.0204 12V9C22.0204 8.46957 21.8095 7.96086 21.434 7.58579C21.0586 7.21071 20.5494 7 20.0185 7ZM18.0167 12V9H20.0185V12H18.0167ZM16.0148 6V3H14.0129V6H16.0148Z",fill:"currentColor"})}))})),(0,a.Z)(s,i.ml.SCSS,h),(0,a.Z)(s,i.ml.SASS,h),(0,a.Z)(s,i.ml.MD,f),(0,a.Z)(s,i.ml.SQL,f),s),p=function(e){var t,n=null!==(t=(0,r.mD)(e))&&void 0!==t?t:"";return g[n]}},748893:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var s=n(626042),a=n(269396),r=n(785893),i=n(94923),o=function(e){return(0,r.jsx)(i.s,(0,a.Z)((0,s.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,r.jsx)("path",{d:"M13.5152 0H10.4849V18.1818L2.15151 9.84847L0 12L12 24L24 12L21.8485 9.84847L13.5152 18.1818V0Z",fill:"currentColor"})}))}},318286:function(e,t,n){"use strict";n.d(t,{C:function(){return o}});var s=n(626042),a=n(269396),r=n(785893),i=n(94923),o=function(e){return(0,r.jsx)(i.s,(0,a.Z)((0,s.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,r.jsx)("path",{d:"M7.41 16L12 11.42L16.59 16L18 14.59L12 8.59L6 14.59L7.41 16Z",fill:"currentColor"})}))}},712936:function(e,t,n){"use strict";n.d(t,{k:function(){return o}});var s=n(626042),a=n(269396),r=n(785893),i=n(94923),o=function(e){return(0,r.jsx)(i.s,(0,a.Z)((0,s.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,r.jsx)("path",{d:"M19 3H14.82C14.4 1.84 13.3 1 12 1C10.7 1 9.6 1.84 9.18 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM12 3C12.55 3 13 3.45 13 4C13 4.55 12.55 5 12 5C11.45 5 11 4.55 11 4C11 3.45 11.45 3 12 3ZM12 7C13.66 7 15 8.34 15 10C15 11.66 13.66 13 12 13C10.34 13 9 11.66 9 10C9 8.34 10.34 7 12 7ZM18 19H6V17.6C6 15.6 10 14.5 12 14.5C14 14.5 18 15.6 18 17.6V19Z",fill:"currentColor"})}))}},547941:function(e,t,n){"use strict";n.d(t,{U:function(){return o}});var s=n(626042),a=n(269396),r=n(785893),i=n(94923),o=function(e){return(0,r.jsx)(i.s,(0,a.Z)((0,s.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",dataQa:"icon-error-alternate"},e),{children:(0,r.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12C2 17.53 6.47 22 12 22C17.53 22 22 17.53 22 12C22 6.47 17.53 2 12 2ZM17 15.59L15.59 17L12 13.41L8.41 17L7 15.59L10.59 12L7 8.41L8.41 7L12 10.59L15.59 7L17 8.41L13.41 12L17 15.59Z",fill:"currentColor"})}))}},269979:function(e,t,n){"use strict";n.d(t,{O:function(){return o}});var s=n(626042),a=n(269396),r=n(785893),i=n(94923),o=function(e){return(0,r.jsx)(i.s,(0,a.Z)((0,s.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,r.jsx)("path",{d:"M11 4C13.76 4 16 6.24 16 9C16 9.65 15.87 10.26 15.64 10.83L18.56 13.75C20.07 12.49 21.26 10.86 21.99 9C20.26 4.61 15.99 1.5 10.99 1.5C9.59 1.5 8.25 1.75 7.01 2.2L9.17 4.36C9.74 4.13 10.35 4 11 4ZM1 1.27L3.28 3.55L3.74 4.01C2.08 5.3 0.78 7.02 0 9C1.73 13.39 6 16.5 11 16.5C12.55 16.5 14.03 16.2 15.38 15.66L15.8 16.08L18.73 19L20 17.73L2.27 0L1 1.27ZM6.53 6.8L8.08 8.35C8.03 8.56 8 8.78 8 9C8 10.66 9.34 12 11 12C11.22 12 11.44 11.97 11.65 11.92L13.2 13.47C12.53 13.8 11.79 14 11 14C8.24 14 6 11.76 6 9C6 8.21 6.2 7.47 6.53 6.8ZM10.84 6.02L13.99 9.17L14.01 9.01C14.01 7.35 12.67 6.01 11.01 6.01L10.84 6.02Z",fill:"currentColor"})}))}},959144:function(e,t,n){"use strict";n.d(t,{q:function(){return o}});var s=n(626042),a=n(269396),r=n(785893),i=n(94923),o=function(e){return(0,r.jsx)(i.s,(0,a.Z)((0,s.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,r.jsx)("path",{d:"M22 22H20V20H22V22ZM22 18H20V16H22V18ZM18 22H16V20H18V22ZM18 18H16V16H18V18ZM14 22H12V20H14V22ZM22 14H20V12H22V14Z",fill:"currentColor"})}))}},89477:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var s=n(626042),a=n(269396),r=n(785893),i=n(94923),o=function(e){return(0,r.jsx)(i.s,(0,a.Z)((0,s.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",dataQa:"icon-sparkles"},e),{children:(0,r.jsx)("path",{d:"M19 1L17.74 3.75L15 5L17.74 6.26L19 9L20.25 6.26L23 5L20.25 3.75M9 4L6.5 9.5L1 12L6.5 14.5L9 20L11.5 14.5L17 12L11.5 9.5M19 15L17.74 17.74L15 19L17.74 20.25L19 23L20.25 20.25L23 19L20.25 17.74",fill:"currentColor"})}))}},696019:function(e,t,n){"use strict";n.d(t,{w:function(){return o}});var s=n(626042),a=n(269396),r=n(785893),i=n(94923),o=function(e){return(0,r.jsx)(i.s,(0,a.Z)((0,s.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:(0,r.jsx)("path",{d:"M13 21V23H11V21H3C2.73478 21 2.48043 20.8946 2.29289 20.7071C2.10536 20.5196 2 20.2652 2 20V4C2 3.73479 2.10536 3.48043 2.29289 3.2929C2.48043 3.10536 2.73478 3 3 3H9C9.56759 2.99933 10.1288 3.11976 10.6461 3.35325C11.1635 3.58674 11.625 3.92792 12 4.354C12.375 3.92792 12.8365 3.58674 13.3539 3.35325C13.8712 3.11976 14.4324 2.99933 15 3H21C21.2652 3 21.5196 3.10536 21.7071 3.2929C21.8946 3.48043 22 3.73479 22 4V20C22 20.2652 21.8946 20.5196 21.7071 20.7071C21.5196 20.8946 21.2652 21 21 21H13ZM20 19V5H15C14.4696 5 13.9609 5.21072 13.5858 5.58579C13.2107 5.96086 13 6.46957 13 7V19H20ZM11 19V7C11 6.46957 10.7893 5.96086 10.4142 5.58579C10.0391 5.21072 9.53043 5 9 5H4V19H11Z",fill:"currentColor"})}))}},795538:function(e,t,n){"use strict";n.d(t,{_:function(){return o}});var s=n(626042),a=n(269396),r=n(785893),i=n(94923),o=function(e){return(0,r.jsxs)(i.s,(0,a.Z)((0,s.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:[(0,r.jsx)("g",{clipPath:"url(#clip0_1021_10)",children:(0,r.jsx)("path",{d:"M24.4365 12L18.7795 17.657L17.3655 16.243L21.6085 12L17.3655 7.757L18.7795 6.343L24.4365 12ZM3.26452 12L7.50752 16.243L6.09352 17.657L0.436523 12L6.09352 6.343L7.50652 7.757L3.26452 12ZM10.2245 21H8.09652L14.6485 3H16.7765L10.2245 21Z",fill:"currentColor"})}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0_1021_10",children:(0,r.jsx)("rect",{width:"24",height:"24",fill:"white",transform:"translate(0.436523)"})})})]}))}},293292:function(e,t,n){"use strict";n.d(t,{F:function(){return a}});var s=n(870055),a=function(e){var t=e.myParticipant,n=e.__typename===s.z_3.PrivateChat?e.chatConnection:null,a=e.__typename===s.z_3.GroupChat?e.chatLesson:null;return{myLastActionTime:null===t||void 0===t?void 0:t.lastActionTime,chatConnection:n,chatLesson:a}}},87197:function(e,t,n){"use strict";n.d(t,{Iv:function(){return r},P7:function(){return i},ov:function(){return s},qJ:function(){return a}});var s="/monaco/workers",a=2,r=4,i={json:"json.worker.js",css:"css.worker.js",scss:"css.worker.js",html:"html.worker.js",typescript:"ts.worker.js",javascript:"ts.worker.js",default:"editor.worker.js",editorWorkerService:"editor.worker.js"}},179023:function(e,t,n){"use strict";n.d(t,{T:function(){return r}});var s=n(307297);function a(){var e=(0,s.Z)(["\n    fragment RatingBase on RatingFull {\n  id\n  rating\n  comment\n  workspace\n  relatedId\n  relatedType\n  userId\n}\n    "]);return a=function(){return e},e}var r=(0,n(937878).Ps)(a())},645832:function(e,t,n){"use strict";n.d(t,{I:function(){return l}});var s=n(307297),a=n(937878),r=n(179023),i=n(650319);function o(){var e=(0,s.Z)(["\n    mutation createRating($userId: Int!, $relatedId: Int!, $relatedType: String, $rating: Int!, $comment: String, $relatedChildId: Int, $relatedChildType: String, $relatedChildTitle: String, $relatedParentId: Int, $relatedParentType: RelatedParentType, $relatedRootId: Int, $relatedRootType: RelatedRootType, $workspace: RatingWorkspace!, $feedbackType: RatingsFeedbackType) {\n  createRating(\n    userId: $userId\n    relatedId: $relatedId\n    relatedType: $relatedType\n    rating: $rating\n    comment: $comment\n    relatedChildId: $relatedChildId\n    relatedChildType: $relatedChildType\n    relatedChildTitle: $relatedChildTitle\n    relatedParentId: $relatedParentId\n    relatedParentType: $relatedParentType\n    relatedRootId: $relatedRootId\n    relatedRootType: $relatedRootType\n    workspace: $workspace\n    feedbackType: $feedbackType\n  ) {\n    ...RatingBase\n  }\n}\n    ",""]);return o=function(){return e},e}var c=(0,a.Ps)(o(),r.T);function l(e){return i.D(c,e)}},223410:function(e,t,n){"use strict";var s;n.d(t,{H:function(){return s}}),function(e){e.QuizQuestion="quiz_questions",e.TestTask="test_task",e.Chat="chat"}(s||(s={}))},437497:function(e,t,n){"use strict";n.d(t,{CW:function(){return u},Dj:function(){return d},F0:function(){return f},of:function(){return l},w1:function(){return g},yT:function(){return h}});var s,a=n(414924),r=n(900081),i=n(870055),o=n(87197),c=n(39677),l=(s={},(0,a.Z)(s,i.hiq.Info,c.J["text-secondary"]),(0,a.Z)(s,i.hiq.Warn,c.J["text-warning"]),(0,a.Z)(s,i.hiq.Error,c.J["text-danger"]),s),d={attempt:null,resultsMeta:null,results:[],activeFile:null,linterResults:[]},u={js:r.Xn.JavaScript,ts:r.Xn.TypeScript,css:r.Xn.CSS,html:r.Xn.HTML,py:r.Xn.Python,java:r.Xn.Java,scss:r.Xn.SCSS,jsx:r.Xn.JavaScript,tsx:r.Xn.TypeScript},h={js:o.qJ,ts:o.qJ,css:o.qJ,html:o.qJ,py:o.Iv,java:o.qJ,scss:o.qJ,jsx:o.qJ,tsx:o.qJ},f={html:3,css:2,js:1,ts:0,py:0,java:0},g=["/index.html","/app.tsx","/app.jsx"]},900081:function(e,t,n){"use strict";var s,a,r,i;n.d(t,{Iq:function(){return i},Xn:function(){return s},_Q:function(){return r},lm:function(){return a}}),function(e){e.JavaScript="javascript",e.TypeScript="typescript",e.CSS="css",e.HTML="html",e.Python="python",e.Java="java",e.English="english",e.Sql="sql",e.SCSS="scss",e.TeamProject="team_project"}(s||(s={})),function(e){e.JavaScript="js",e.TypeScript="ts",e.CSS="css",e.HTML="html",e.Python="py",e.Java="java",e.Sql="sql",e.Markdown="md"}(a||(a={})),function(e){e.QuizTestTaskVersion="QuizTestTaskVersion",e.AttachmentTestTaskVersion="AttachmentTestTaskVersion",e.CodeEditorTestTaskVersion="CodeEditorTestTaskVersion",e.GithubTestTaskVersion="GithubTestTaskVersion",e.MarkupTestTaskVersion="MarkupTestTaskVersion",e.WebflowTestTaskVersion="WebflowTestTaskVersion"}(r||(r={})),function(e){e.Default="Default",e.TestAssignment="TestAssignment"}(i||(i={}))},17296:function(e,t,n){"use strict";n.d(t,{a:function(){return a}});var s=n(667294),a=function(e,t){var n=(0,s.useRef)([]);(0,s.useEffect)((function(){var s=n.current;return n.current=t,e(s)}),t)}},714718:function(e,t,n){"use strict";n.d(t,{S:function(){return a}});var s=n(82670);function a(e){return(0,s.Z)(e,Error)?e:"string"===typeof e?new Error(e):"object"===typeof e&&null!==e?new Error(JSON.stringify(e)):new Error("Unknown error")}},42100:function(e){e.exports={date:"MessagesDayLabel_date__FNbBh"}},959935:function(e){e.exports={wrapper:"MessagesDivider_wrapper__bnbAp",highlighted:"MessagesDivider_highlighted__Yu5AH"}},878149:function(e){e.exports={label:"MessagesDividerLabel_label__19Ow4"}},671522:function(e){e.exports={header:"AIAssistantHeader_header__Ocyb9"}},404559:function(e){e.exports={scrollBottomButtonContainer:"ScrollToBottomButton_scrollBottomButtonContainer__s_PQC",icon:"ScrollToBottomButton_icon__Jgp0B"}},874946:function(e){e.exports={scrollLatestButtonContainer:"ScrollToLatestButton_scrollLatestButtonContainer__7EGvS",icon:"ScrollToLatestButton_icon__kgMxn"}},20597:function(e){e.exports={chatPageWrapper:"ChatWindow_chatPageWrapper__wjvLq"}},703559:function(e){e.exports={wrapper:"DirectChatBanner_wrapper__74Aq7",chatName:"DirectChatBanner_chatName__MCyhy",description:"DirectChatBanner_description__i0nIn"}},888955:function(e){e.exports={messageWindow:"JoinPublicChat_messageWindow__ZcEF2",wrapper:"JoinPublicChat_wrapper__LFSUX",container:"JoinPublicChat_container__vSScf",message:"JoinPublicChat_message__e3I2z",icon:"JoinPublicChat_icon__GLzwO",loader:"JoinPublicChat_loader__dXfb9",alert:"JoinPublicChat_alert__Z93fC"}},803360:function(e){e.exports={messageList:"MessageList_messageList__kU_J1",listTopMargin:"MessageList_listTopMargin__G_oJT",message:"MessageList_message__8iK9X",selectedMessage:"MessageList_selectedMessage__oSCX5","highlight-message":"MessageList_highlight-message__0CHrM",separatedDivider:"MessageList_separatedDivider__rDxy_",newMessages:"MessageList_newMessages__WxmEt",loadMessageTriggerDeprecated:"MessageList_loadMessageTriggerDeprecated__3iPFK",intersectionObserverTrigger:"MessageList_intersectionObserverTrigger__rQp7V",paginationLoader:"MessageList_paginationLoader__l8_jS",jumpingLoader:"MessageList_jumpingLoader__kEkDz"}},375280:function(e){e.exports={optionsWrapper:"AnswersSortOptions_optionsWrapper__Up_n8",option:"AnswersSortOptions_option__cnRZ0"}},206309:function(e){e.exports={messageList:"GroupByValueAnswers_messageList__ZqvXg",itemWrapper:"GroupByValueAnswers_itemWrapper__wNJiG",repliesWrapper:"GroupByValueAnswers_repliesWrapper__D3_dA",markAllMessages:"GroupByValueAnswers_markAllMessages__efIN6",replies:"GroupByValueAnswers_replies__5a7Ko"}},706725:function(e){e.exports={messageList:"OpenQuestionAnswerList_messageList__UR4mw",headingMessage:"OpenQuestionAnswerList_headingMessage__DGalc",separatedDivider:"OpenQuestionAnswerList_separatedDivider__fqQNF",newMessages:"OpenQuestionAnswerList_newMessages__6dfL4",itemWrapper:"OpenQuestionAnswerList_itemWrapper__ec_BI",messageWrapper:"OpenQuestionAnswerList_messageWrapper__eIuet",repliesWrapper:"OpenQuestionAnswerList_repliesWrapper__7BW7x",markAllMessages:"OpenQuestionAnswerList_markAllMessages__Dce4t",replies:"OpenQuestionAnswerList_replies__nnF1P",sortButtonWrapper:"OpenQuestionAnswerList_sortButtonWrapper__9Xuwk",studentViewEnabledPlaceholder:"OpenQuestionAnswerList_studentViewEnabledPlaceholder__BYIQB"}},37509:function(e){e.exports={itemWrapper:"OpenQuestionAnswerView_itemWrapper__Exh4I",messageWrapper:"OpenQuestionAnswerView_messageWrapper__s4KEH",message:"OpenQuestionAnswerView_message__Ak9Qj"}},367706:function(e){e.exports={wrapper:"MessagesDayGroup_wrapper__aa9gL",dayLabel:"MessagesDayGroup_dayLabel__dtgCc",divider:"MessagesDayGroup_divider__vJeuB",repliesCount:"MessagesDayGroup_repliesCount__dapFk",newMessages:"MessagesDayGroup_newMessages__0Dvf_"}},375015:function(e){e.exports={wrapper:"ChatScreenSkeleton_wrapper__z15Nj"}},884682:function(e){e.exports={header:"HeaderSkeleton_header__xBXIH",text:"HeaderSkeleton_text__hcMon",placeholder:"HeaderSkeleton_placeholder__aH4Ku"}},5429:function(e){e.exports={message:"MessageLineSkeleton_message__ocMoK",placeholder:"MessageLineSkeleton_placeholder__Xeodc"}},630879:function(e){e.exports={reactionsContainer:"MessageWithReactionSkeleton_reactionsContainer__RBOOp",reactionWrapper:"MessageWithReactionSkeleton_reactionWrapper__S8egf",reactionInnerContent:"MessageWithReactionSkeleton_reactionInnerContent__hM8Yu",icon:"MessageWithReactionSkeleton_icon__MCD66"}},883813:function(e){e.exports={messageWrapper:"MessageWrapperSkeleton_messageWrapper__6A6R_",messageBubble:"MessageWrapperSkeleton_messageBubble__ROvzO",messagesList:"MessageWrapperSkeleton_messagesList__fApJW",bottomButton:"MessageWrapperSkeleton_bottomButton__ZexvH",icon:"MessageWrapperSkeleton_icon__0FTaO"}},793164:function(e){e.exports={page:"NoSelectedChatPlaceholder_page__vrJh_",content:"NoSelectedChatPlaceholder_content__tjaT6"}},141995:function(e){e.exports={wrapper:"ThreadScreenSkeleton_wrapper__SBB8s",threadSplitter:"ThreadScreenSkeleton_threadSplitter__JdMEa"}},481627:function(e){e.exports={emptyChatWrapper:"ChatView_emptyChatWrapper__vDdN4",typingMessageIndicator:"ChatView_typingMessageIndicator__gMqC_"}},6440:function(e){e.exports={controlsButtonsWrapper:"OpenQuestionControlsButtons_controlsButtonsWrapper__7WTVN",counter:"OpenQuestionControlsButtons_counter__7aV9a",correctAnswersButton:"OpenQuestionControlsButtons_correctAnswersButton__j8CR9",wrongAnswersButton:"OpenQuestionControlsButtons_wrongAnswersButton__fqpKJ"}},94102:function(e){e.exports={container:"PollView_container__oS3KR",headingMessage:"PollView_headingMessage__oYvrV",replies:"PollView_replies__2vV_e",studentViewEnabledPlaceholder:"PollView_studentViewEnabledPlaceholder__D5RHa"}},321120:function(e){e.exports={optionContainer:"PollViewOption_optionContainer__jPCBq",title:"PollViewOption_title__AGPfL",namesBlock:"PollViewOption_namesBlock__CENFR",rightAnswer:"PollViewOption_rightAnswer__hwzCY",rightAnswerTitle:"PollViewOption_rightAnswerTitle__CUB15",wrongAnswerTitle:"PollViewOption_wrongAnswerTitle__hQ0tl",optionLabel:"PollViewOption_optionLabel__BLDYE"}},365214:function(e){e.exports={headingButton:"BasicHeader_headingButton__kZ2uH",header:"BasicHeader_header__3QyvJ",leftControls:"BasicHeader_leftControls__Hkk_z",headings:"BasicHeader_headings__IXCFX",heading:"BasicHeader_heading__UI_mX",subheading:"BasicHeader_subheading__VcFou"}},127199:function(e){e.exports={list:"ChatHeader_list__oe8KX",divider:"ChatHeader_divider__qjBr3",button:"ChatHeader_button__A1W7n"}},789200:function(e){e.exports={description:"ChatHeaderSubtitle_description__ifc_3",toolTip:"ChatHeaderSubtitle_toolTip__lRa4A"}},973747:function(e){e.exports={windowWithHeader:"ViewWrapper_windowWithHeader__v5k4J",splitter:"ViewWrapper_splitter__mX6TN",messagesBlock:"ViewWrapper_messagesBlock__Dc0XK"}},740697:function(e){e.exports={chatModalActions:"AiAssistantTabContent_chatModalActions__N0qqu",aiFeedback:"AiAssistantTabContent_aiFeedback__OyYx5"}},183526:function(e){e.exports={contentModal:"AiAssistantChatContent_contentModal__cSOX4",structureWrapper:"AiAssistantChatContent_structureWrapper__hJ0Cc"}},215995:function(e){e.exports={buttonsWrapper:"QuickActionButtons_buttonsWrapper__3__tv"}},408640:function(e){e.exports={smoothResize:"ResizableResults_smoothResize__8TStX"}},733281:function(e){e.exports={container:"Scrollable_container__k7WyJ"}}}]);
//# sourceMappingURL=https://static.mate.academy/frontend/19564f7f85f845ca2949635ddb37550195fd838b/_next/static/chunks/657-ad4b449d1d89381e.js.map